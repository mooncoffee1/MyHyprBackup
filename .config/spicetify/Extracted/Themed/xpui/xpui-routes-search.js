"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7125,352],{91471:(e,t,r)=>{r.d(t,{k:()=>c});var n=r(30758),a=r(92107),i=r(57581),s=r(8574),o=r(91442),l=r(36273),u=r(86070),c=function(e){var t=e.id,r=e.children,c=e.targetURI,d=e.fadeOut,p=void 0!==d&&d,v=(0,n.useCallback)((function(){window.open((0,o.rw)(c).href)}),[c]),f={getTitle:function(){return a.Ru.get("action-trigger.available-in-app-only")},getDescription:function(){return a.Ru.get("action-trigger.listen-mixed-media-episode")},primaryButtonText:function(){return a.Ru.get("action-trigger.button.get-app")},secondaryButtonText:function(){return a.Ru.get("action-trigger.button.not-now")},isCTA:!0,intentPrimaryButton:"download-app",onLogInteraction:(0,s.W)(),shouldHideOnScroll:!0,fadeOut:p};return(0,u.jsx)(i.U,{className:l.A.container,id:t,onPrimaryButtonClick:v,options:f,children:r})}},682:(e,t,r)=>{r.r(t),r.d(t,{PageErrorTemplate:()=>g});var n=r(30758),a=r(44286),i=r(91050),s=r(96027),o=r(5115),l=r(81120),u=r(11854),c=r(25851),d=r(92107),p=r(60256),v=r(12574);const f="main-pageErrorTemplate-errorBody";var h=r(86070),m={"/":i.H,"/search":s.C,"/collection":o.M},g=n.memo((function(){var e,t=(0,a.zy)(),r=(e=t.pathname,m[e]||l.b),i=(0,v.r)(c.W,{data:{uri:t.pathname}}),s=i.spec,o=i.logger,g=(0,p.t)(s),y=(0,n.useCallback)((function(){var e=s.reloadPageButtonFactory().hitRefreshContent();o.logInteraction(e),window.location.reload()}),[s,o]);return(0,h.jsxs)("div",{className:f,ref:g,children:[(0,h.jsx)(r,{width:46,height:46}),(0,h.jsx)("h1",{children:d.Ru.get("error-dialog.generic.header")}),(0,h.jsx)("p",{children:d.Ru.get("error-dialog.generic.body")}),(0,h.jsx)(u.$,{onClick:y,children:d.Ru.get("fatal-error.button-label")})]})}))},15054:(e,t,r)=>{r.d(t,{g:()=>g});r(47994);var n=r(30758),a=r(97500),i=r.n(a),s=r(13534),o=r(80366),l=r(83643),u=r(59739),c=r(64877),d=r(17011),p=r(93051),v=r(8016),f=r(70566),h=r(13584),m=r(86070),g=function(e){var t=e.children,r=e.uri,a=e.name,g=e.nonInteractive,y=void 0!==g&&g,x=e.creatorUri,b=e.spec,j=null,C=(0,v.P)({itemUris:[r],dragLabelText:a}),R=C.draggable,A=C.onDragStart,w=(0,f.s)(),k=(0,n.useCallback)((function(){b&&w.logInteraction(b.albumLinkFactory({uri:r}).hitUiNavigate({destination:r}))}),[w,b,r]);return y?(0,m.jsx)("span",{className:i()("standalone-ellipsis-one-line",h.A.text),children:t}):((0,o._T)(r)&&(j=(0,m.jsx)(u.h,{uri:r,artistUri:x})),(0,o.WB)(r)&&(j=(0,m.jsx)(c.H,{uri:r})),(0,m.jsx)(l.h,{menu:j,children:(0,m.jsx)(s.E,{variant:"bodySmall",children:(0,m.jsx)(d.Zp,{label:a,showDelay:d.uF,children:(0,m.jsx)(p.N,{draggable:R,onDragStart:A,className:i()("standalone-ellipsis-one-line"),to:r,dir:"auto",onClick:k,children:t})})})}))}},61918:(e,t,r)=>{r.d(t,{r:()=>y});var n=r(30758),a=r(23100),i=r(13534),s=r(1574),o=r(80366),l=r(93051),u=r(43980),c=r(12574);const d="CqCtb3wr4SK8AiZwxeH0",p="IGCDq9qa08JVVY3mcy7Y",v="Vn9yz8P5MjIvDT8c0U6w",f="MtV402NmdUF5mceSD0Dy",h="WDC2Yzs811n7JCYtYQzc";var m=r(86070),g=a.l0o,y=function(e){var t=e.title,r=e.imageUrl,a=e.viewId,y=e.pageId,x=e.color,b=void 0===x?g:x,j=e.href,C=e.index,R=e.ubiId,A=a&&"/genre/".concat(a)||j||"#",w=(0,c.r)(s.b,{data:{position:C,identifier:R}}),k=w.spec,P=w.logger,I=(0,n.useCallback)((function(){var e,t=null===(e=(0,o.o_)(A))||void 0===e?void 0:e.toURI();t&&P.logInteraction(k.hitUiNavigate({destination:t}))}),[P,k,A]);return(0,m.jsx)("div",{className:p,children:(0,m.jsx)(l.N,{to:A,pageId:y,className:d,onClick:I,children:(0,m.jsxs)("div",{className:v,style:{backgroundColor:b},children:[r?(0,m.jsx)(u._,{loading:"lazy",src:r,className:h}):null,(0,m.jsx)(i.E,{variant:"titleSmall",className:f,children:t})]})})})}},8763:(e,t,r)=>{r.d(t,{K:()=>i});var n=r(12341),a=r(80366);function i(e){var t,r=(0,a.o_)(e,{parseUnknown:!0}),i=null!==(t=null==r?void 0:r.args)&&void 0!==t?t:[],s=(0,n.A)(i,2),o=s[0],l=s[1];if(l&&"page"===o)return"/genre/".concat(l)}},93806:(e,t,r)=>{r.d(t,{PG:()=>a,f8:()=>s,oC:()=>n,s8:()=>i});var n=o(120),a=o(30),i=o(60),s=o(15);function o(e){return 60*e*1e3}},10221:(e,t,r)=>{r.d(t,{RS:()=>a,f0:()=>s,o8:()=>i});r(25550),r(15342);var n=r(82704);function a(e){return{url:e.url,width:e.width,height:e.height}}function i(e){if("Episode"===e.__typename){var t,r,n=e.podcastV2.data;return"Podcast"!==n.__typename?[]:null!==(t=null===(r=n.coverArt)||void 0===r?void 0:r.sources.map(a))&&void 0!==t?t:[]}return[]}function s(e){var t,r,i,s,o,l,u,c,d,p,v,f,h,m,g,y,x,b;switch(e.__typename){case"Artist":return null!==(t=null===(r=e.visuals.avatarImage)||void 0===r?void 0:r.sources.map(a))&&void 0!==t?t:[];case"Album":case"Audiobook":case"Podcast":case"Episode":case"Chapter":return null!==(i=null===(s=e.coverArt)||void 0===s?void 0:s.sources.map(a))&&void 0!==i?i:[];case"Track":return null!==(o=null===(l=e.albumOfTrack)||void 0===l||null===(l=l.coverArt)||void 0===l?void 0:l.sources.map(a))&&void 0!==o?o:[];case"Playlist":return null!==(u=null===(c=e.images.items[0])||void 0===c?void 0:c.sources.map(a))&&void 0!==u?u:[];case"User":return null!==(d=null===(p=e.avatar)||void 0===p?void 0:p.sources.map(a))&&void 0!==d?d:[];case"Merch":return null!==(v=null===(f=e.image)||void 0===f?void 0:f.sources.map(a))&&void 0!==v?v:[];case"ArtistConcerts":var j,C,R=e.mainArtist.data;return"Artist"!==R.__typename?[]:null!==(j=null===(C=R.visuals.avatarImage)||void 0===C?void 0:C.sources.map(a))&&void 0!==j?j:[];case"BrowseSectionContainer":return null!==(h=null===(m=e.data)||void 0===m||null===(m=m.cardRepresentation)||void 0===m||null===(m=m.artwork)||void 0===m?void 0:m.sources.map(a))&&void 0!==h?h:[];case"BrowseClientFeature":return null!==(g=null!==(y=null===(x=e.artwork)||void 0===x?void 0:x.sources.map(a))&&void 0!==y?y:null===(b=e.iconOverlay)||void 0===b?void 0:b.sources.map(a))&&void 0!==g?g:[];case"GenericError":case"NotFound":case"RestrictedContent":case"BrowseSpacesHub":case"BrowseExternalHref":return[];default:return(0,n.k)(e),[]}}},37576:(e,t,r)=>{r.d(t,{d:()=>n});var n=new(r(86295).l)("addConcertToLibrary","mutation","c4670bb9503f201cff5a61ee426a0aa93cac0eaa1c1b9b8c66d53e058f270f7c",null)},24101:(e,t,r)=>{r.d(t,{$:()=>n});var n=new(r(86295).l)("removeConcertFromLibrary","mutation","2b6a3dc45db6b423eb36c628ccb26768f2c03e75ae274e09a1701336d46dd21d",null)},62860:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Qa});var n=r(62822),a=r(85093),i=r(12341),s=r(93091),o=r.n(s),l=(r(42486),r(83234),r(40065),r(26851),r(68216),r(9750),r(5672),r(43379),r(78397),r(34192),r(4865),r(30758)),u=r(11656),c=r(88677),d=r(44286),p=r(3074),v=r.n(p),f=r(93493),h=r(86308),m=r(92107),g=r(45625),y=r(56482),x=r(85726),b=r(86070),j={albums:h.$h.SEARCH_ALBUMS,artists:h.$h.SEARCH_ARTISTS,episodes:h.$h.SEARCH_EPISODES,genres:h.$h.SEARCH_GENRES,playlists:h.$h.SEARCH_PLAYLISTS,podcasts:h.$h.SEARCH_SHOWS,audiobooks:h.$h.SEARCH_AUDIOBOOKS,tracks:h.$h.SEARCH_SONGS,users:h.$h.SEARCH_PROFILES,podcastAndEpisodes:h.$h.SEARCH_PODCASTS_AND_EPISODES,topResults:h.$h.SEARCH};function C(e){var t=e.children,r=(0,d.g)(),n=r.query,a=void 0===n?"":n,i=r.category,s=void 0===i?"":i;return(0,b.jsx)(y.e,{pageId:j[s],entityUri:"spotify:app:search:".concat(a,":").concat(s),children:t})}function R(e){var t=e.children,r=(0,d.g)().query;return(0,b.jsx)(y.e,{pageId:h.$h.SEARCH,entityUri:"spotify:app:search:".concat(r),children:t})}var A=r(17420),w=(r(25550),r(15342),r(36085)),k=r(61918),P=r(10221),I=r(8763),S=r(82704);function O(e){var t=(0,P.f0)(e);if(t.length>0)return t[0].url}function E(e,t){switch(e.content.__typename){case"BrowseXlinkResponseWrapper":case"BrowseSectionContainerWrapper":return function(e,t,r){var n,a,i;switch(e.__typename){case"BrowseClientFeature":return(0,b.jsx)(k.r,{title:null!==(n=null===(a=e.title)||void 0===a?void 0:a.transformedLabel)&&void 0!==n?n:"",pageId:"search",href:e.featureUri,color:null===(i=e.backgroundColor)||void 0===i?void 0:i.hex,imageUrl:O(e),ubiId:e.featureUri,index:t},e.featureUri);case"BrowseSectionContainer":var s,o,l,u;return null!==(s=e.data)&&void 0!==s&&s.cardRepresentation?(0,b.jsx)(k.r,{title:null!==(o=null===(l=e.data.cardRepresentation.title)||void 0===l?void 0:l.transformedLabel)&&void 0!==o?o:"",pageId:"search",href:(0,I.K)(r),color:null===(u=e.data.cardRepresentation.backgroundColor)||void 0===u?void 0:u.hex,imageUrl:O(e),ubiId:r,index:t},r):null;case"BrowseSpacesHub":case"GenericError":case"NotFound":case"BrowseExternalHref":return null;default:return(0,S.k)(e),null}}(e.content.data,t,e.uri);case"AlbumResponseWrapper":case"ArtistResponseWrapper":case"EpisodeOrChapterResponseWrapper":case"PlaylistResponseWrapper":case"PodcastOrAudiobookResponseWrapper":case"TrackResponseWrapper":case"UserResponseWrapper":case"ConcertResponseWrapper":case"MerchResponseWrapper":case"ArtistConcertsResponseWrapper":case"NoContent":case"UnknownType":return null;default:return(0,S.k)(e.content),null}}var N=r(93806),_=r(86295),U=r(87718),T=new _.l("browseAll","query","cd6fcd0ce9d1849477645646601a6d444597013355467e24066dad2c1dc9b740",null),q=function(){var e,t,r,n=function(e,t){return(0,U.I)(T,e,t)}({pagePagination:{offset:0,limit:10},sectionPagination:{offset:0,limit:99}},{gcTime:N.oC,staleTime:N.PG}),a=n.data;return"BrowseSectionContainer"!==(null==a||null===(e=a.browseStart)||void 0===e?void 0:e.__typename)?[]:null!==(t=null===(r=a.browseStart.sections)||void 0===r?void 0:r.items)&&void 0!==t?t:[]},D=r(33828),F=r(68040),L=r(76026);const B="AGAj7hr0pC57oadgb75h";var M=function(e){var t=e.browseAllSpec,r=q();return(0,b.jsx)("div",{className:B,children:r.map((function(e,r){return function(e,t,r){var n,a,i;if(null===(n=e.data)||void 0===n||!n.__typename)return null;switch(e.data.__typename){case"BrowseGridSectionData":return(0,b.jsx)(L.r,{spec:t,children:(0,b.jsx)(D.x,{config:(0,F.s1)(F.yV.BROWSE),children:(0,b.jsx)(w.p,{title:null!==(a=null===(i=e.data)||void 0===i||null===(i=i.title)||void 0===i?void 0:i.transformedLabel)&&void 0!==a?a:"",index:r,id:e.uri,showAll:!0,children:e.sectionItems.items.map((function(e,t){return E(e,t)}))})})},e.uri);case"BrowseSingleItemSectionData":case"BrowseGenericSectionData":case"BrowseRelatedSectionData":case"BrowseUnsupportedSectionData":return null;default:return(0,S.k)(e.data),null}}(e,t,r)}))})};var H=r(44710),V=r(76007),W=r(78008),G=r(53607),Z=function(){var e,t=(0,W.k)(),r=t.searchHistory,n=t.clearSearchHistory,a=0===(e=r).length?0:(0,H.v3)(JSON.stringify(e));return 0===r.length?null:(0,b.jsx)(w.p,{index:0,id:"recent-searches",total:r.length,seeAllUri:"spotify:app:recent-searches",title:m.Ru.get("search.title.recent-searches"),children:r.map((function(e,t){return(0,b.jsx)(G.pZ,{index:t,value:"search-history",children:(0,b.jsx)(V.X,{entity:e,index:t,clearSearchHistory:n,requestId:a.toString()})},e.uri)}))})},J=r(58114),$=r(12574);const z="_YN9HVrnrcvnaCjYnNkM";var K=function(){var e=(0,f.NC)(J.MB0),t=(0,$.r)(A.A,{data:{uri:"search:find"}}),r=t.spec,n=t.UBIFragment,a=(0,l.useMemo)((function(){return{recentSearchesSpec:r.recentSearchesFactory(),topGenresSpec:r.topGenresFactory(),browseAllSpec:r.browseAllFactory()}}),[r]),i=a.recentSearchesSpec,s=a.browseAllSpec;return(0,b.jsxs)("div",{className:z,children:[!e&&(0,b.jsx)(n,{spec:i,children:(0,b.jsx)(Z,{})}),(0,b.jsx)(M,{browseAllSpec:s})]})},Q=r(682),X=r(52542),Y=(r(7651),r(30456),r(26701),r(37417),r(11737),r(51691),r(702),r(88856),r(51565),r(18316),r(21450)),ee=r(80366),te=r(37778),re=r(55159),ne=r(68150),ae=r(13534),ie=r(11854),se=r(7869),oe=(r(184),(0,l.createContext)(null)),le=oe.Provider;function ue(){var e=(0,l.useContext)(oe);if(null===e)throw new Error("Trying to use 'SearchContext' without 'SearchProvider'!");return e}var ce=r(89923),de=r(60256);const pe="_5hJUuCVGXtd6CaXQBUM",ve="DH8aRN7lGO_ZqFegRTmj",fe="W37c8X5LCtHtmryEzR4I",he="oNTqWDEksr002PdYJVmT";var me=function(e){var t=e.forChip,r=ue(),n=r.query,a=r.serpId,i=!(0,ce.n)(),s="/search/".concat(n),o=(0,ee.Ru)(n).toURI(),l=(0,$.r)(se.w,{data:{uri:o,reason:a}}),u=l.spec,c=l.logger,d=(0,de.t)(u);return(0,b.jsxs)("div",{className:pe,"aria-live":"polite",ref:d,children:[(0,b.jsx)(ae.E,{as:"h1",variant:"titleSmall",className:ve,children:t?m.Ru.get("search.empty-results-title-for-chip",n,t):m.Ru.get("search.empty-results-title",n)}),(0,b.jsx)("p",{className:fe,children:i?m.Ru.get("web-player.search-modal.offline"):m.Ru.get("search.empty-results-text")}),t&&(0,b.jsx)(ne.N_,{to:s,children:(0,b.jsx)(ie.$,{colorSet:"invertedLight",className:he,onClick:function(){c.logInteraction(u.seeAllButtonFactory().hitUiNavigate({destination:s}))},children:m.Ru.get("search.see-all")})})]})},ge=r(96513),ye={results:null,isError:!1,isFetchMoreError:!1},xe=r(22611),be=r(38392),je=r(47795),Ce=r(60455),Re=r(53406),Ae=r(79431),we=r(70566);const ke="l5wWcdJAOxbcnqyfuEmX",Pe="niq6jXm6QbYCNJJ6J0wQ",Ie="L3pQN7b5ky5wG5LuGE6o";function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){(0,X.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ee=function(e){var t=e.index,r=e.item,n=r.episode,a=r.show,i=(0,Ae.P)({uri:r.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"}).usePlayContextItem;return(0,b.jsxs)("div",{className:Ie,children:[(0,b.jsx)(xe.q,{index:t,episode:Oe(Oe({},n),{},{requestId:r.requestId}),showMetadata:a,usePlayContextItem:i}),(0,b.jsx)("hr",{className:Pe,"aria-hidden":!0})]})},Ne=function(e){var t=e.showTitle,r=void 0===t||t,n=e.displayEmptyPageOnEmptyResults,a=void 0===n||n,i=e.displayError,s=void 0===i||i,o=e.enableInfiniteScroll,l=void 0!==o&&o,u=e.fetchData,c=e.totalCountRef,d=e.items,p=e.isError,v=ue(),f=v.query,h=v.serpId,m=(0,ee.Ru)(f).toURI(),g=(0,Re.x)((0,X.A)((0,X.A)({},je.E.MEDIUM,0),je.E.LARGE,600)),y=g.ref,x=g.breakpoint,j=(0,we.s)(),C="spotify:app:search:".concat(encodeURIComponent(f),":episodes"),R=(0,$.r)(Y.w,{data:{uri:m,reason:h}}),A=R.spec,w=R.UBIFragment;return p?s?(0,b.jsx)(Q.PageErrorTemplate,{}):null:0===c.current?a?(0,b.jsx)(w,{spec:A.emptyResultsFactory(),children:(0,b.jsx)(me,{forChip:re.j7.episodes()})}):null:(0,b.jsxs)(Ce.o.Provider,{value:x,children:[d&&r&&(0,b.jsx)(te.k,{title:re.j7.episodes(),seeAllUri:C,onClickTitle:function(){A&&j.logInteraction(A.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:C}))},onClickSeeAll:function(){A&&j.logInteraction(A.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:C}))},hasMoreElements:!l&&d.length<(c.current||0)}),(0,b.jsx)("div",{ref:y,className:ke,children:d&&(0,b.jsx)(be._,{triggerOnInitialLoad:!1,onReachBottom:function(){l&&u()},children:d})})]})},_e=function(e){var t=ue(),r=t.query,a=t.api,s=function(e,t){var r=(0,ge.a)(),a=(0,l.useRef)(null),s=(0,l.useRef)(0),u=(0,l.useState)(ye),c=(0,i.A)(u,2),d=c[0],p=c[1],v=(0,l.useCallback)((0,n.A)(o().mark((function n(){var i,l,u,c=arguments;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=c.length>0&&void 0!==c[0]&&c[0],r()){n.next=3;break}return n.abrupt("return");case 3:if(i&&(s.current=0,a.current=null),l=e,null===a.current){n.next=9;break}if(!(s.current>=a.current)){n.next=8;break}return n.abrupt("return");case 8:s.current+l>a.current&&(l=a.current-s.current);case 9:return n.prev=9,n.next=12,t(s.current,l);case 12:u=n.sent,s.current+=l,a.current=u.totalCount||0,r()&&p((function(e){return{isError:!1,isFetchMoreError:!1,results:(i||null===e.results?[]:e.results).concat(u.items)}})),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(9),r()&&p((function(e){var t=null===e.results||i;return{results:i?[]:e.results,isError:t,isFetchMoreError:!t}}));case 21:case"end":return n.stop()}}),n,null,[[9,18]])}))),[e,t,r]);return(0,l.useEffect)((function(){v(!0)}),[v]),{results:d.results,isError:d.isError,fetchData:v,totalCountRef:a}}(30,(0,l.useCallback)((function(e,t){return a.getFullEpisodes(r,e,t)}),[a,r])),u=s.results,c=s.isError,d=s.fetchData,p=s.totalCountRef;return(0,b.jsx)(Ne,Oe(Oe({},e),{},{fetchData:d,totalCountRef:p,items:null==u?void 0:u.map((function(e,t){return(0,b.jsx)(Ee,{item:e,index:t},t)})),isError:c}))},Ue=r(88797),Te=function(e){var t=e.title,r=e.category,n=e.query,a=e.results,i=e.onAddToHistory,s=e.position,o=e.showSeeAll;if(!a)return null;var l=a.items,u=a.totalCount;return l&&0!==l.length?(0,b.jsx)(w.p,{index:s,id:r,total:u||0,title:t,testId:"".concat(r,"-search-entity"),seeAllUri:"spotify:app:search:".concat(encodeURIComponent(n),":").concat(r),showSeeAll:o,children:l.map((function(e,t){return(0,b.jsx)(G.pZ,{value:r,index:t,children:(0,b.jsx)(Ue.Q,{onClick:function(){return i(e)},entity:e,index:t})},e.uri)}))}):null};const qe="T2yEew5FpZAOv3uHa0NK";var De=function(e){var t=e.results,r=ue(),n=r.query,a=r.serpId,i=r.onAddToHistory,s=(0,ee.Ru)(n).toURI(),o=(0,$.r)(Y.w,{data:{uri:s,reason:a}}),l=o.spec,u=o.UBIFragment;return 0===(null==t?void 0:t.podcasts.totalCount)&&0===(null==t?void 0:t.episodes.totalCount)?(0,b.jsx)(u,{spec:l.emptyResultsFactory(),children:(0,b.jsx)(me,{forChip:re.j7.podcastAndEpisodes()})}):(0,b.jsx)(u,{spec:l,children:(0,b.jsxs)("div",{className:qe,children:[0!==(null==t?void 0:t.podcasts.totalCount)&&(0,b.jsx)("div",{children:(0,b.jsx)(Te,{position:0,category:"podcasts",title:re.j7.podcastAndEpisodes(),query:n,results:null==t?void 0:t.podcasts,onAddToHistory:i})}),0!==(null==t?void 0:t.episodes.totalCount)&&(0,b.jsx)("div",{children:(0,b.jsx)(_e,{displayEmptyPageOnEmptyResults:!1,displayError:!1})})]})})},Fe=r(97500),Le=r.n(Fe),Be=r(85647),Me=r(12745),He=r(4485),Ve=(r(24302),r(70750),r(57149),r(49166),r(70087)),We=function(e){var t,r=e.query,a=e.category,i=e.pageSize,s=e.includePreReleases,c=ue().api,d=(0,u.jE)(),p=(0,f.NC)(J.Z85),v=(0,l.useMemo)((function(){return["searchCategoryResults",r,{category:a,pageSize:i,includePreReleases:s}]}),[a,s,i,r]),h=(0,Ve.q)({queryKey:v,initialPageParam:{offset:0,limit:i},queryFn:(t=(0,n.A)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pageParam,e.next=4,c.getSearchCategoryResults(r,a,!0,s,n.offset,n.limit);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),getNextPageParam:function(e,t){var r;if(!e)return null;var n=null===(r=e.pagingInfo)||void 0===r?void 0:r.nextOffset;if(null===n)return null;var a=i;return void 0!==e.totalCount&&n+a>=e.totalCount&&(a=e.totalCount-n),{offset:n,limit:a}},select:function(e){return e.pages.flatMap((function(e){return e.items}))},gcTime:p>0?6e5:0,staleTime:p>0?3e5:0}),m=h.data,g=h.isError,y=h.isLoading,x=h.fetchNextPage;return(0,l.useEffect)((function(){return function(){p>0&&d.setQueryData(v,(function(e){var t,r;return{pages:null!==(t=null==e?void 0:e.pages.slice(0,p))&&void 0!==t?t:[],pageParams:null!==(r=null==e?void 0:e.pageParams.slice(0,p))&&void 0!==r?r:[]}}))}}),[p,d,v]),{results:m,isLoading:y,isError:g,fetchNextPage:x}},Ge=r(23779);const Ze="w7SWsAZah4vovAuFxjgk",Je="Qmu4FPZCnrDpQ85s4az5";var $e=function(e){var t=e.displayChips,r=e.category,n=ue(),a=n.query,i=n.serpId,s=n.onAddToHistory,o=(0,He.er)(),u=o.tryTriggerNextStep,c=o.isOnboardingComplete,d=(0,f.NC)(J.Jl4),p=We({query:a,category:r,pageSize:30,includePreReleases:d&&"audiobooks"===r}),v=p.results,h=p.isError,m=p.isLoading,g=p.fetchNextPage,y=(0,l.useCallback)((function(e,t){return(0,b.jsx)(G.pZ,{value:"card",index:t,children:(0,b.jsx)(Me.PC,{cardIndex:t,children:(0,b.jsx)(Ue.Q,{entity:e,onClick:function(){s(e),u(He.BD.ARTIST_CARD)},testId:"search-category-card-".concat(t),index:t})})},"".concat(e.uri,"-").concat(t))}),[s,u]),x=(0,ee.Ru)(a).toURI(),j=(0,$.r)(Be.b,{data:{uri:x,identifier:r,reason:i}}),C=j.spec,R=j.UBIFragment,A=(0,l.useMemo)((function(){return C.cardsFactory()}),[C]),w=(0,l.useMemo)((function(){return C.emptyResultsFactory()}),[C]);return h?(0,b.jsx)(Q.PageErrorTemplate,{}):m||v&&0!==v.length||!c?(0,b.jsx)(R,{spec:A,children:(0,b.jsx)("div",{className:Le()(Ze,(0,X.A)({},Je,t)),children:v&&(0,b.jsx)(be._,{onReachBottom:g,triggerOnInitialLoad:!1,children:(0,b.jsx)(Ge.E,{render:function(){return v.map((function(e,t){return y(e,t)}))}})})})}):(0,b.jsx)(R,{spec:w,children:(0,b.jsx)(me,{forChip:re.j7[r]()})})},ze=(r(47994),r(29217)),Ke=(r(34518),r(75365)),Qe=r(83643),Xe=r(51725),Ye=r(59149),et=r(15054),tt=r(8972),rt=r(76422),nt=r(26682),at=r(77355),it=r(79044),st=r(84466),ot=r(52382),lt=r(20938),ut=r(45994),ct=r(13558),dt=r(86786),pt=r(15150),vt=r(74542),ft=r(31772),ht=r(40321),mt=r(77736),gt=r(71646),yt=r(41289),xt=r(53029),bt=r(27719),jt=r(10631),Ct=r(64348),Rt=r(4560),At=r(46198),wt=r(48133),kt=r(97724),Pt=r(13584),It=l.memo((function(e){var t,r=e.uri,n=e.name,a=e.duration,i=e.artists,s=e.album,o=e.isExplicit,l=e.is19PlusOnly,u=e.isPlayable,c=e.index,d=e.imgUrl,p=e.requestId,v=e.isLyricsMatch,f=e.hasAssociatedVideo,h=(0,Ae.P)({uri:r},{featureIdentifier:"search",referrerIdentifier:"search"}),g=h.isActive,y=h.isPlaying,x=h.triggerPlay,j=h.togglePlay,C=(0,$.r)(Ke.i,{data:{position:c,reason:null!=p?p:"",uri:r}}).spec,R=(0,wt.T)(r),A=(0,jt.g)(r,{isPlayable:u,isLocal:!1,isOutOfMarket:!1,artistUris:null==i?void 0:i.map((function(e){return e.uri}))}),w=A.isPlayable,k=A.isAnyArtistBanned,P=(0,yt.M)(i.map((function(e){return e.uri}))).unBanArtists,I=(0,kt.b)({downloadAvailability:R,isExplicit:o,isMOGEFRestricted:l,hasAssociatedVideo:f}),S=I.badges,O=I.hasBadges,E=(null==i?void 0:i.map((function(e){return e.name})).join(m.Ru.getSeparator()))||"",N=(0,bt.c)();return(0,b.jsx)(G.pZ,{value:"row",index:c,children:(0,b.jsx)(Qe.h,{menu:(0,b.jsx)(Xe.P,{uri:r,albumUri:null==s?void 0:s.uri,artists:i,contextUri:r}),children:(0,b.jsxs)(ht.w,{uri:r,contextUri:r,onTriggerPlay:function(e,t){x({loggingParams:t})},isActive:g,index:c,ariaRowIndex:c+1,isPlayable:w,isAnyArtistBanned:k,handleArtistBanUndoClick:P,ageRestricted:l,dragMetadata:{name:n,createdBy:E},spec:C,children:[(0,b.jsx)(ct.y,{ariaColIndex:0,children:(0,b.jsx)(st.$,{uri:r,playAriaLabel:m.Ru.get("tracklist.a11y.play",n,E),onClick:function(e,t){j({loggingParams:t})},isPlaying:y,isActive:g,spec:C,children:(0,b.jsx)(lt.a,{children:c+1})})}),(0,b.jsxs)(dt.U,{ariaColIndex:1,children:[(0,b.jsx)(at.e,{src:d}),(0,b.jsxs)(it.l,{children:[(0,b.jsx)(Ye.R,{enabled:N,uri:r,className:Pt.A.rowTitle,children:(0,b.jsx)(ft.p,{titleText:n,children:n})}),O&&(0,b.jsxs)(rt.P,{children:[S.download&&(0,b.jsx)(Rt._,{}),S.explicit&&(0,b.jsx)(Ct.U,{}),S.nineteen&&(0,b.jsx)(At.q,{className:Pt.A.nineteen,size:16}),S.hasAssociatedVideo&&(0,b.jsx)(mt.l,{})]}),(0,b.jsxs)(vt.p,{children:[(0,b.jsx)(tt.l,{artists:i,spec:C}),v&&(0,b.jsx)(xt.G,{})]})]})]}),(0,b.jsx)(pt.o,{ariaColIndex:2,children:(0,b.jsx)(et.g,{uri:(null==s?void 0:s.uri)||"",name:(null==s?void 0:s.name)||"",creatorUri:null==i||null===(t=i[0])||void 0===t?void 0:t.uri,spec:C,children:null==s?void 0:s.name})}),(0,b.jsxs)(ut.l,{ariaColIndex:3,children:[(0,b.jsx)(gt.d,{uri:r,spec:C}),(0,b.jsx)(nt.P,{duration:a.milliseconds}),(0,b.jsx)(ot.Y,{menu:(0,b.jsx)(Xe.P,{uri:r,albumUri:null==s?void 0:s.uri,artists:i,contextUri:r}),label:m.Ru.get("more.label.track",n,E),spec:C})]})]})})})}),(function(e,t){return e.uri===t.uri})),St=r(87198),Ot=r(93195),Et=r(89255),Nt=r(56252),_t=r(30747),Ut=r(93051);const Tt="search-searchCategory-SearchCategory",qt="search-searchCategory-wrapper",Dt="search-searchCategory-categoryGridItem";var Ft=function(e){var t=e.to,r=e.title,n=e.selected,a=e.onClick;return(0,b.jsx)(Ut.N,{replace:!0,to:t,tabIndex:-1,onClick:a,className:Dt,children:(0,b.jsx)(Et.v,{selected:n,selectedColorSet:"invertedLight",tabIndex:-1,children:r})})},Lt=function(e){var t=e.searchCategories,r=e.selectedCategory,n=e.displayChips,a=ue().query,i=(0,$.r)(Nt.q,{}),s=i.spec,o=i.logger;if(!a||!n)return null;var l=encodeURIComponent(a);return(0,b.jsx)("div",{className:Tt,children:(0,b.jsx)("div",{className:Le()(qt,"contentSpacing"),children:(0,b.jsxs)(_t.FN,{children:[t.length>0&&(0,b.jsx)(Ft,{to:"spotify:app:search:".concat(l),title:m.Ru.get("search.title.all"),selected:void 0===r,onClick:function(){o.logInteraction(s.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:"spotify:app:search:".concat(l)}))}},"all"),t.map((function(e,t){var n,a,i=null!==(n=null===(a=re.j7[e])||void 0===a?void 0:a.call(re.j7))&&void 0!==n?n:"";return i||console.warn("Received empty title for category: ",e),(0,b.jsx)(Ft,{to:"spotify:app:search:".concat(l,":").concat(e),title:i,selected:r===e,onClick:function(){o.logInteraction(s.chipFactory({identifier:e,position:t+1}).hitUiNavigate({destination:"spotify:app:search:".concat(l,":").concat(e)}))}},e)}))]})})})},Bt=r(70129),Mt=r(18809);const Ht="oahixVvmYv3VD8UxHkpr";var Vt=function(e){var t=e.pageSize;if((void 0===t?100:t)>100)throw new Error("PathFinder does not support page sizes > ".concat(100));var r=ue(),n=r.query,a=r.serpId,i=We({query:n,category:"tracks",pageSize:20,includePreReleases:!1}),s=i.results,o=i.isError,u=i.isLoading,c=i.fetchNextPage,d=(0,l.useCallback)((function(e,t){var r,n=(0,Mt.g)(null===(r=e.album)||void 0===r?void 0:r.images,{desiredSize:40});return(0,b.jsx)(It,{index:t,uri:(0,Bt.a)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:e.isPlayable,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:(null==n?void 0:n.url)||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo},t+e.uri)}),[]),p=(0,l.useMemo)((function(){return[Ot.$.INDEX,Ot.$.TITLE_AND_ARTIST,Ot.$.ALBUM,Ot.$.DURATION]}),[]),v=(0,l.useCallback)((function(e){return{uri:e.uri}}),[]),f=(0,ee.Ru)(n).toURI(),h=(0,$.r)(ze.t,{data:{uri:f,reason:a}}),g=h.spec,y=h.UBIFragment,x=(0,l.useMemo)((function(){return g.tracksFactory()}),[g]),j=m.Ru.get("search.showing-category-query-songs",n);return o?(0,b.jsx)(Q.PageErrorTemplate,{}):u||s&&0!==s.length?(0,b.jsx)(y,{spec:x,children:(0,b.jsx)(G.pZ,{value:"search-results-tracklist",children:(0,b.jsx)("div",{className:Ht,children:s&&(0,b.jsx)(be._,{triggerOnInitialLoad:!1,onReachBottom:c,children:(0,b.jsx)(St.S4,{ariaLabel:j,hasHeaderRow:!0,columns:p,renderRow:d,resolveItem:v,nrTracks:s.length,headerTop:48,tracks:s,columnPersistenceKey:"search-results-tracklist"},n)})})})}):(0,b.jsx)(y,{spec:g.emptyResultsFactory(),children:(0,b.jsx)(me,{forChip:re.j7.podcastAndEpisodes()})})},Wt=function(e){var t=e.results,r=e.displayChips,n=ue().category;return n?"podcastAndEpisodes"===n?(0,b.jsx)(De,{results:t}):"tracks"===n?(0,b.jsx)(Vt,{}):"episodes"===n?(0,b.jsx)(_e,{enableInfiniteScroll:!0,showTitle:!1}):(0,b.jsx)($e,{displayChips:r,category:n}):(0,b.jsx)(Q.PageErrorTemplate,{})},Gt=r(38195),Zt=r(58582),Jt=r(6083),$t=r(387),zt=(r(56922),r(93240)),Kt=r(90457),Qt=r(49190),Xt=r(2648),Yt=r(37576),er=r(24101),tr=r(86429);const rr="MdWVOTFflb7OayRjn9pZ",nr="N7Ng_kgcjiOOGs7Y48l9",ar="_4tnwlIafghEfbtatHyO",ir="xgdE_xwOB8XLCxHOdp_I",sr="YQfV97NZUj3G9JJwAiuY";var or=function(e,t){return e(Yt.d,{concertUri:t})},lr=function(e,t){return e(er.$,{concertUri:t})},ur=function(e){var t,r=(0,l.useState)(!1),a=(0,i.A)(r,2),s=a[0],u=a[1],c=(0,l.useState)(e.saved),d=(0,i.A)(c,2),p=d[0],v=d[1],f=null!==(t=e.deps)&&void 0!==t?t:{},h=f.unsaveConcertFn,g=void 0===h?lr:h,y=f.saveConcertFn,j=void 0===y?or:y,C=f.enqueueSnackbarFn,R=void 0===C?zt.M8:C,A=(0,(0,x.mv)().getGraphQLLoader)(),w=(0,tr.V)(),k=(0,ee.o_)(e.uri);if(!k)return null;var P=function(){var t=(0,n.A)(o().mark((function t(r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),r.stopPropagation(),!s){t.next=4;break}return t.abrupt("return");case 4:if(u(!0),t.prev=5,!p){t.next=13;break}return t.next=9,g(A,e.uri);case 9:R(m.Ru.get("concerts_removed-from-your-saved-events")),v(!1),t.next=18;break;case 13:return e.onClickInterested&&e.onClickInterested(),t.next=16,j(A,e.uri);case 16:R(m.Ru.get("concerts_added-to-your-saved-events")),v(!0);case 18:return t.prev=18,u(!1),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[5,,18,21]])})));return function(e){return t.apply(this,arguments)}}(),I=p?Kt.k:Qt.P,S=p?"textPositive":void 0;return(0,b.jsx)(ne.N_,{to:"/".concat(k.toURLPath()),onClick:e.onClick,className:ir,children:(0,b.jsxs)("div",{className:rr,children:[(0,b.jsxs)("div",{className:nr,children:[(0,b.jsxs)("div",{className:ar,children:[(0,b.jsx)(ae.E,{as:"div",variant:"marginal",children:e.date.month}),(0,b.jsx)(ae.E,{as:"div",variant:"bodySmallBold",children:e.date.day})]}),(0,b.jsxs)("div",{className:sr,children:[(0,b.jsx)(ae.E,{children:e.title}),(0,b.jsx)(ae.E,{semanticColor:"textSubdued",variant:"bodySmall",children:e.subtitle})]})]}),!w&&(0,b.jsx)(Xt.H,{semanticColor:S,iconOnly:I,"aria-label":m.Ru.get("concerts_interested_tooltip"),onClick:P})]})})},cr=r(27476);const dr="mh7QL6adD4FIJhD5Exb9",pr="FgawEObrsLOnHPzhrl5a",vr="PrDOhMH2lS5D8mMwbmF1",fr="hd4Hw4T7wuHZluBSTMZc";var hr=function(e){var t=(0,ee.o_)(e.uri);return t?(0,b.jsx)(ne.N_,{to:"/artist/".concat(t.id,"/concerts"),onClick:e.onClick,className:fr,children:(0,b.jsxs)("div",{className:dr,children:[(0,b.jsx)("div",{className:pr,children:(0,b.jsx)(cr.T,{className:vr})}),e.children]})}):null};const mr="XZWs6fKwvH8afOAX9oRk",gr="xZzauCAsVPuDnvFjEnl5",yr="UDNDdAPalgpoNPaKmACx",xr="yKnPM8up5atlbSBdRXVv",br="ifJugrlP5ysjVmb2s4v3",jr="NsXrW_ZuSRESU0URaCER";function Cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(r),!0).forEach((function(t){(0,X.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ar=function(e){var t=e.uri,r=e.date,n=e.title,a=e.subtitle,i=e.saved,s=(0,$.r)(Jt.S,{data:{uri:t}}).spec,o=(0,we.s)(),u=(0,de.t)(s),c=new Date(r),d=m.Ru.formatDate(c,{weekday:"short"}),p=m.Ru.formatDate(c,{hour:"numeric",minute:"numeric"}),v=m.Ru.formatDate(c,{day:"numeric"}),f=m.Ru.formatDate(c,{month:"short"}),h=(0,l.useMemo)((function(){return s.localConcertFactory({uri:t})}),[t,s]),g=(0,l.useMemo)((function(){return s.interestedButtonFactory({uri:t})}),[t,s]);return(0,b.jsx)("div",{ref:u,children:(0,b.jsx)(ur,{uri:t,title:n,saved:i,subtitle:m.Ru.get("search.concert.event",d,p,a),date:{day:v,month:f},onClick:function(){o.logInteraction(h.hitUiNavigate({destination:t}))},onClickInterested:function(){o.logInteraction(g.hitUiSelect())}})})},wr=function(e){var t=e.artistUri,r=(0,$.r)($t._,{data:{uri:null!=t?t:""}}).spec,n=(0,we.s)(),a=(0,de.t)(r),i=(0,l.useMemo)((function(){return r.onTourShelfFactory({uri:null!=t?t:""})}),[t,r]);return(0,b.jsx)("div",{ref:a,children:(0,b.jsx)(hr,{uri:null!=t?t:"",onClick:function(){n.logInteraction(i.hitUiNavigate({destination:"".concat(t,":concerts")}))},children:m.Ru.get("search.concerts.see-all")})})},kr=function(e){var t=e.artistUri,r=e.concert;return(0,b.jsxs)("section",{className:Le()(br),children:[(0,b.jsx)("div",{className:mr,children:(0,b.jsx)("div",{className:gr,children:(0,b.jsx)("div",{className:yr,children:(0,b.jsx)(ae.E,{as:"h2",variant:"titleSmall",className:xr,children:m.Ru.get("search.title.concerts")})})})}),(0,b.jsx)("div",{className:jr,children:r?(0,b.jsx)(Ar,Rr({},r)):(0,b.jsx)(wr,{artistUri:t})})]})},Pr=r(93044),Ir=r(81594),Sr=r(74566),Or=r(79916),Er=l.memo((function(e){var t=e.uri,r=e.name,n=e.duration,a=e.album,i=e.artists,s=e.index,o=e.imgUrl,l=e.isPlayable,u=e.isExplicit,c=e.is19PlusOnly,d=e.requestId,p=e.isLyricsMatch,v=e.hasAssociatedVideo,h=(0,Ae.P)({uri:t},{featureIdentifier:"search",referrerIdentifier:"search"}),g=h.isActive,y=h.isPlaying,x=h.triggerPlay,j=h.togglePlay,C=(0,f.NC)(Or.QT),R=(0,$.r)(Ke.i,{data:{position:s,reason:null!=d?d:"",uri:t}}).spec,A=(0,wt.T)(t),w=(0,jt.g)(t,{isPlayable:l,isLocal:!1,isOutOfMarket:!1,artistUris:null==i?void 0:i.map((function(e){return e.uri}))}),k=w.isPlayable,P=w.isAnyArtistBanned,I=(0,yt.M)(i.map((function(e){return e.uri}))).unBanArtists,S=(0,kt.b)({downloadAvailability:A,isExplicit:u,isMOGEFRestricted:c,hasAssociatedVideo:v}),O=S.badges,E=S.hasBadges,N=(i||[]).map((function(e){return e.name})).join(m.Ru.getSeparator()),_=(0,bt.c)(),U=(0,de.t)(R);return(0,b.jsx)(G.pZ,{value:"row",index:s,children:(0,b.jsx)("div",{ref:C?U:void 0,children:(0,b.jsx)(Qe.h,{menu:(0,b.jsx)(Xe.P,{uri:t,artists:i,contextUri:t,albumUri:null==a?void 0:a.uri}),children:(0,b.jsxs)(ht.w,{uri:t,contextUri:t,index:s,ariaRowIndex:s,onTriggerPlay:function(e,t){x({loggingParams:t})},isActive:g,isPlayable:k,isAnyArtistBanned:P,handleArtistBanUndoClick:I,ageRestricted:c,dragMetadata:{name:r,createdBy:N},spec:R,children:[(0,b.jsxs)(dt.U,{ariaColIndex:0,children:[(0,b.jsx)(Sr.u,{uri:t,src:o,onClick:function(e,t){j({loggingParams:t})},isLocked:!1,isPlaying:y,isActive:g,playAriaLabel:m.Ru.get("tracklist.a11y.play",r,N),spec:R}),(0,b.jsxs)(it.l,{children:[(0,b.jsx)(Ye.R,{enabled:_,uri:t,className:Pt.A.rowTitle,children:(0,b.jsx)(ft.p,{titleText:r,children:r})}),E&&(0,b.jsxs)(rt.P,{children:[O.download&&(0,b.jsx)(Rt._,{}),O.explicit&&(0,b.jsx)(Ct.U,{}),O.nineteen&&(0,b.jsx)(At.q,{className:Pt.A.nineteen,size:16}),O.hasAssociatedVideo&&(0,b.jsx)(mt.l,{})]}),(0,b.jsxs)(vt.p,{children:[(0,b.jsx)(tt.l,{artists:i,spec:R}),p&&(0,b.jsx)(xt.G,{})]})]})]}),(0,b.jsxs)(ut.l,{ariaColIndex:1,children:[(0,b.jsx)(gt.d,{uri:t,spec:R}),(0,b.jsx)(nt.P,{duration:n.milliseconds}),(0,b.jsx)(ot.Y,{menu:(0,b.jsx)(Xe.P,{uri:t,artists:i,contextUri:t,albumUri:null==a?void 0:a.uri}),label:m.Ru.get("more.label.track",r,N),spec:R})]})]})})})})}),(function(e,t){return e.uri===t.uri&&e.index===t.index})),Nr=l.memo((function(e){var t=e.tracks,r=e.query,n=(0,f.NC)(J.LX5),a=(0,l.useCallback)((function(e,t){var r,a=(0,Mt.g)(null===(r=e.album)||void 0===r?void 0:r.images,{desiredSize:40});return(0,b.jsx)(Er,{uri:(0,Bt.a)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:e.isPlayable,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:t,imgUrl:(null==a?void 0:a.url)||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo&&n},e.uri)}),[n]),i=(0,l.useMemo)((function(){return[Ot.$.TITLE_AND_ARTIST,Ot.$.DURATION]}),[]),s=(0,l.useCallback)((function(e){return{uri:e.uri}}),[]);return t&&(0,b.jsx)(G.pZ,{value:"search-results-tracklist",children:(0,b.jsx)(St.S4,{ariaLabel:m.Ru.get("search.a11y.songs-search-results"),renderRow:a,rowPlaceholder:Ir.qq,nrTracks:Math.min(t.length,4),tracks:t,resolveItem:s,columns:i},r)})}),(function(e,t){return e.tracks===t.tracks}));const _r="qTGjBrDb0ehi3T31ixUg",Ur="UypXfD8vtkwoy6Hvjxh6",Tr="k1hAaTegqCFmfemVkI4k",qr="hkyAoNduIpi1yzoJT7Yg",Dr="sQqi2VrhnxcFciXdvgjL",Fr="ib6ClWIXW5DmWXaC0W08",Lr="nTbpvWKW0gZOhU4sejUH";var Br=function(e){var t=e.tracks,r=e.query,n=e.className,a=e.showSeeAll,i=void 0===a||a,s=e.spec,o=(0,we.s)(),u=(0,l.useCallback)((function(){return(0,b.jsx)("div",{className:Lr,children:(0,b.jsx)(l.Suspense,{fallback:null,children:(0,b.jsx)(Nr,{tracks:t.items,query:r})})})}),[r,t]),c="spotify:app:search:".concat(encodeURIComponent(r),":tracks"),d=(0,l.useCallback)((function(){var e=s.headerFactory().titleFactory().hitUiNavigate({destination:c});o.logInteraction(e)}),[o,s,c]),p=(0,l.useCallback)((function(){var e=s.headerFactory().seeAllFactory().hitUiNavigate({destination:c});o.logInteraction(e)}),[o,s,c]);return t.items.length?(0,b.jsxs)("section",{className:Le()(Fr,n),"aria-label":m.Ru.get("search.title.tracks"),"data-testid":"search-tracks-result",children:[(0,b.jsx)("div",{className:_r,children:t.items.length>3?(0,b.jsxs)("div",{className:Le()(Ur,Tr),children:[(0,b.jsx)("div",{className:qr,children:(0,b.jsx)(ae.E,{as:"h2",variant:"titleSmall",children:i?(0,b.jsx)(Ut.N,{to:c,className:Dr,onClick:d,children:m.Ru.get("search.title.tracks")}):(0,b.jsx)("span",{className:Dr,children:m.Ru.get("search.title.tracks")})})}),i&&(0,b.jsx)(Pr.h,{link:c,onClick:p})]}):(0,b.jsx)(ae.E,{as:"h2",variant:"titleSmall",className:Dr,children:m.Ru.get("search.title.tracks")})}),(0,b.jsx)(L.r,{spec:s,children:(0,b.jsx)(Ge.E,{render:u})})]}):null},Mr=function(e){var t=e.topRecommendations,r=e.query,n=e.className,a=e.onAddToHistory,i=e.position,s=e.showSeeAll,o=t.totalCount||0;return(0,b.jsx)(w.p,{index:i,id:"top-recommendations",className:n,total:o,title:m.Ru.get("artist-page.featuring",t.artistName),seeAllUri:"spotify:app:search:".concat(encodeURIComponent(r),":topRecommendations"),showSeeAll:s,children:t.items.map((function(e,t){return(0,b.jsx)(G.pZ,{index:t,value:"top-recommendations",children:(0,b.jsx)(Ue.Q,{onClick:function(){return a(e)},entity:e,index:t})},e.uri)}))})},Hr=r(1349);const Vr="vKsgiy0W3aHYmZUlwHoQ",Wr="w2O3N2xilgVcd4ep6cQL",Gr="T2cpdJTvNpOFPvN4WJM4",Zr="u372KlVrkMz1ZpJ89LMG",Jr="DIYNtp69Gd1l3eaBT3Bg",$r="cXdpTaiu9PEfynRcDKrU",zr="yZ3EPSfU0nkNoCu19iPL",Kr="OtEFcRGkMfUXBZC2HF5M";var Qr=function(e){var t=e.topResults,r=e.onAddToHistory,n=(0,i.A)(t.items,1)[0];return n&&(0,b.jsx)(Hr.$,{total:1,className:Vr,title:m.Ru.get("search.title.top-result"),withEncoreCards:!1,children:[(0,b.jsx)("div",{"aria-live":"polite","data-testid":"top-result-card",className:Wr,children:(0,b.jsx)(G.pZ,{value:"top-result-card",children:(0,b.jsx)(Ue.Q,{isHero:!0,index:0,onClick:function(){return r(n)},entity:n})})},"top-result-item")]})},Xr=r(16920),Yr=function(e){return(null==e?void 0:e.type)===Xr.c.ARTIST},en=function(e){var t,r,n=e.results,a=ue(),s=a.query,o=a.onAddToHistory,u=a.serpId,c=(0,ee.Ru)(s).toURI(),d=(0,$.r)(Zt.P,{data:{uri:c,reason:u}}),p=d.spec,v=d.UBIFragment,f=n.topResults.items.length>0,h=n.tracks.items.length>0,m=n.topRecommendations.items.length>0,g=null!==(t=n.topResults.items)&&void 0!==t?t:[],y=(0,i.A)(g,1)[0],x=Yr(y)?function(e){var t,r=null!=e?e:[],n=(0,i.A)(r,1)[0];if(n&&"uri"in(null!=(t=n.data)?t:{}))return{uri:n.data.uri,date:n.data.startDateIsoString,title:n.data.location.city,subtitle:n.data.location.name,saved:n.data.saved}}(null===(r=y.localConcerts)||void 0===r?void 0:r.items):void 0,j=Yr(y)&&(y.hasConcerts||!!x),C=(0,l.useMemo)((function(){return{topResult:p.topResultFactory(),trackList:p.trackListFactory(),shelves:p.shelvesFactory()}}),[p]);return(0,b.jsx)(Ge.E,{className:Gr,rowGap:Gt.WG,colGap:Gt.CJ,testId:"search-results",render:function(e){var t,r,a=e.columnCount;return f?t=a>3?Jr:$r:m&&(a>5&&h?(t=Zr,r=zr):(t=$r,r=Kr)),(0,b.jsxs)(G.pZ,{value:"search-results",children:[f&&(0,b.jsx)(v,{spec:C.topResult,children:(0,b.jsx)(Qr,{topResults:n.topResults,onAddToHistory:o})}),(0,b.jsxs)("section",{className:t,children:[j&&(0,b.jsx)(kr,{artistUri:y.uri,concert:x}),h&&(0,b.jsx)(Br,{spec:C.trackList,query:s,tracks:j?{totalCount:3,items:n.tracks.items.slice(0,3)}:n.tracks,onAddToHistory:o,showSeeAll:!1})]}),m&&(0,b.jsx)(v,{spec:C.shelves,children:(0,b.jsx)(Mr,{position:0,query:s,className:r,topRecommendations:n.topRecommendations,onAddToHistory:o,showSeeAll:!1})}),re.ud.map((function(e,t){return(0,b.jsx)(v,{spec:C.shelves,children:(0,b.jsx)(Te,{position:t+1,category:e,title:re.j7[e](),query:s,results:n[e],onAddToHistory:o,showSeeAll:!1})},"search-shelf-".concat(e))}))]})}})},tn=function(e){var t=e.results,r=e.hasResults,n=ue(),a=n.query,i=n.serpId,s=(0,ee.Ru)(a).toURI(),o=!(0,ce.n)(),l=(0,$.r)(Zt.P,{data:{uri:s,reason:i}}),u=l.spec,c=l.UBIFragment;return o?(0,b.jsx)(me,{}):t?t&&!r?(0,b.jsx)(c,{spec:u.emptyResultsFactory(),children:(0,b.jsx)(me,{})}):(0,b.jsx)(en,{results:t}):null},rn=r(56068),nn=r(2970),an=new _.l("searchDesktop","query","2ae11a661a59c58695ad9b8bd6605dce6e3876f900555e21543c19f7a0a0ea6a",null);r(76588);function sn(e){return e.map((function(e){return e.url?{url:e.url,width:Number(e.width)||56,height:Number(e.height)||56}:e}))}var on=r(42010),ln=r(99184),un=r(71104);function cn(e,t){var r,n,a;if("PreRelease"!==(null===(r=e.data)||void 0===r?void 0:r.__typename))return null;var i=e.data.preReleaseContent;if(!i)return null;var s=(0,ln.mp)(e.data.releaseDate),o=i.artists.items.map((function(e){return"Artist"===e.data.__typename?{type:Xr.c.ARTIST,name:e.data.profile.name,uri:e.data.uri}:null})).filter(un.P);return{type:Xr.c.PRE_RELEASE_ALBUM,name:i.name||"",uri:e.data.uri,images:sn((null===(n=i.coverArt)||void 0===n?void 0:n.sources)||[]),release:s,releaseTimezone:e.data.timezone,artists:o,color:(0,on.m)(null===(a=i.coverArt)||void 0===a?void 0:a.extractedColors),requestId:t}}var dn=r(4140);function pn(e,t){return{items:((null==e?void 0:e.items)||[]).map((function(e){var r=e.__typename;switch(r){case"AlbumResponseWrapper":return fn(e,t);case"PreReleaseResponseWrapper":return cn(e,t);case"UnknownTypeWrapper":return null;default:return(0,S.k)(r),null}})).filter(un.P),totalCount:(null==e?void 0:e.totalCount)||0}}var vn=function(e){switch(e){case dn._m.Album:return"ALBUM";case dn._m.Compilation:return"COMPILATION";case dn._m.Single:return"SINGLE";case dn._m.Ep:return"EP";case dn._m.Audiobook:return"AUDIOBOOK";case dn._m.Podcast:return"PODCAST";case dn._m.Unknown:return"UNKNOWN";default:return(0,S.k)(e),"UNKNOWN"}};function fn(e,t){var r,n,a;if("Album"!==e.data.__typename)return null;var i=e.data;return{type:Xr.c.ALBUM,name:i.name,uri:i.uri,images:sn((null===(r=i.coverArt)||void 0===r?void 0:r.sources)||[]),artists:i.artists.items.map((function(e){return{type:Xr.c.ARTIST,name:e.profile.name,uri:e.uri}})),year:null===(n=i.date)||void 0===n?void 0:n.year,requestId:t,color:(0,on.m)(null===(a=e.data.coverArt)||void 0===a?void 0:a.extractedColors),isPlayable:e.data.playability.playable,playabilityReason:e.data.playability.reason,albumType:vn(e.data.type)}}var hn=new _.l("searchAlbums","query","a71d2c993fc98e1c880093738a55a38b57e69cc4ce5a8c113e6c5920f9513ee2",null),mn=r(37005),gn=function(e,t){var r="object"===(0,mn.A)(null==e?void 0:e.requestIds)?null==e?void 0:e.requestIds:void 0,n=null==r?void 0:r[t],a="object"===(0,mn.A)(n)?n:void 0;return"string"==typeof(null==a?void 0:a["search-api"])?null==a?void 0:a["search-api"]:void 0},yn=function(e){return gn(e,"/searchV2")},xn=function(e){return gn(e,"/searchV2/topResultsV2")};function bn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(r),!0).forEach((function(t){(0,X.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Cn=function(e,t){return jn(jn({},e),{},{pagingInfo:t})};function Rn(e,t){return An.apply(this,arguments)}function An(){return(An=(0,n.A)(o().mark((function e(t,r){var n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(hn,r);case 2:if(a=e.sent,i=null==a||null===(n=a.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.albumsV2){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",Cn(pn(i,yn(null==a?void 0:a.extensions)),i.pagingInfo));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wn(e,t){return{items:kn((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function kn(e,t){return e.map((function(e){return Pn(e,t)})).filter(un.P)}function Pn(e,t){var r,n,a,i;if("Artist"!==(null===(r=e.data)||void 0===r?void 0:r.__typename))return null;var s=e.data;return{type:Xr.c.ARTIST,name:s.profile.name,images:sn((null===(n=s.visuals)||void 0===n||null===(n=n.avatarImage)||void 0===n?void 0:n.sources)||[]),uri:s.uri,verified:s.profile.verified||!1,requestId:t,hasConcerts:null!==(a=s.hasConcerts)&&void 0!==a&&a,localConcerts:s.localConcerts,color:(0,on.m)(null===(i=s.visuals.avatarImage)||void 0===i?void 0:i.extractedColors)}}var In=new _.l("searchArtists","query","0e6f9020a66fe15b93b3bb5c7e6484d1d8cb3775963996eaede72bac4d97e909",null);function Sn(e,t){return On.apply(this,arguments)}function On(){return(On=(0,n.A)(o().mark((function e(t,r){var n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(In,r);case 2:if(a=e.sent,i=null==a||null===(n=a.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.artists){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",Cn(wn(i,yn(null==a?void 0:a.extensions)),i.pagingInfo));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function En(e,t){return{items:Nn((null==e?void 0:e.items)||[],t),totalCount:null==e?void 0:e.totalCount}}function Nn(e,t){return e.map((function(e){return _n(e,t)})).filter(un.P)}function _n(e,t){var r,n,a,i,s,o,l,u;if("Audiobook"!==(null===(r=e.data)||void 0===r?void 0:r.__typename))return null;var c=e.data,d=null;return c.isPreRelease&&c.preReleaseEndDateTime?d=new Date(null===(n=c.preReleaseEndDateTime)||void 0===n?void 0:n.isoString):c.publishDate&&(d=new Date(c.publishDate.isoString)),{type:Xr.c.AUDIOBOOK,uri:c.uri,name:c.name,images:sn((null===(a=c.coverArt)||void 0===a?void 0:a.sources)||[]),authorName:null!==(i=null===(s=c.authors)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.name)&&void 0!==i?i:"",topics:c.topics.items||[],publishDate:d,requestId:t,color:(0,on.m)(null===(o=c.coverArt)||void 0===o?void 0:o.extractedColors),signifierText:null!==(l=null===(u=c.accessInfo)||void 0===u||null===(u=u.signifier)||void 0===u?void 0:u.text)&&void 0!==l?l:void 0,isPreRelease:!!c.isPreRelease}}var Un=new _.l("searchAudiobooks","query","82ec16373818a73b4d7323c076e4f5d550ec3b0e5e2650d4715ca011dfa775fe",null);function Tn(e,t){return qn.apply(this,arguments)}function qn(){return(qn=(0,n.A)(o().mark((function e(t,r){var n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Un,r);case 2:if(a=e.sent,i=null==a||null===(n=a.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.audiobooks){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",Cn(En(i,yn(null==a?void 0:a.extensions)),i.pagingInfo));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r(14551);var Dn=r(39954),Fn=r(27124),Ln=r(36318),Bn={type:Xr.c.SHOW,uri:"",name:"",publisher:"",images:[],mediaType:Ln.Q.UNKNOWN};function Mn(e,t){return{items:Hn((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function Hn(e,t){return e.map((function(e){return Vn(e,t)})).filter(un.P)}function Vn(e,t){var r,n,a,i,s,o;if("Episode"!==(null===(r=e.data)||void 0===r?void 0:r.__typename))return null;var l,u,c=e.data,d=c.podcastV2.data,p=Bn;"Podcast"===d.__typename&&(p={type:Xr.c.SHOW,uri:d.uri,name:d.name,publisher:(null===(l=d.publisher)||void 0===l?void 0:l.name)||"",mediaType:(0,Fn.w)(d.mediaType),images:sn((null===(u=d.coverArt)||void 0===u?void 0:u.sources)||[])});return{type:Xr.c.EPISODE,name:c.name,images:sn((null===(n=c.coverArt)||void 0===n?void 0:n.sources)||[]),uri:c.uri,duration:{milliseconds:c.duration.totalMilliseconds},isExplicit:(null===(a=c.contentRating)||void 0===a?void 0:a.label)===dn.x7.Explicit,release:(0,ln.mp)(c.releaseDate),description:c.description||"",playedState:(0,Dn.fS)(c.duration,c.playedState),is19PlusOnly:(null===(i=c.contentRating)||void 0===i?void 0:i.label)===dn.x7.NineteenPlus,show:p,requestId:t,color:(0,on.m)(null===(s=c.coverArt)||void 0===s?void 0:s.extractedColors),mediaType:null!==(o=c.mediaTypes)&&void 0!==o?o:[],podcastSubscription:(0,Dn.Wx)(c.restrictions,c.playability)}}var Wn=new _.l("searchEpisodes","query","c8d1a209b4964bb200a32d15eb8beea2f41e9abfef46f4a78cded233a98ca530",null);function Gn(e,t){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,n.A)(o().mark((function e(t,r){var n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Wn,r);case 2:if(a=e.sent,i=null==a||null===(n=a.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.episodes){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",Cn(Mn(i,yn(null==a?void 0:a.extensions)),i.pagingInfo));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jn=new _.l("searchFullEpisodes","query","a2f7554362511837a672da888f91dc109bc82c2c99aad7457f4215887e18ae94",null),$n=r(30804);function zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(r),!0).forEach((function(t){(0,X.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qn=Kn(Kn({},Bn),{},{description:"",htmlDescription:"",coverArt:[],trailer:null,topics:[],podcastType:"UNKNOWN",showTypes:[],publisherName:"",consumptionOrder:"recent",nextBestEpisode:void 0,gatedContentAccessReason:void 0,isLocked:!1});function Xn(e,t){return{items:Yn((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function Yn(e,t){return e.map((function(e){return function(e,t){var r;if("Episode"!==(null===(r=e.data)||void 0===r?void 0:r.__typename))return null;var n=Qn;"Podcast"===e.data.podcastV2.data.__typename&&(n=(0,$n._v)(e.data.podcastV2.data));return{requestId:t,episode:(0,$n.S)(e.data),show:n}}(e,t)})).filter(un.P)}function ea(e,t){return ta.apply(this,arguments)}function ta(){return(ta=(0,n.A)(o().mark((function e(t,r){var n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Jn,r);case 2:if(a=e.sent,i=null==a||null===(n=a.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.episodes){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",Xn(i,yn(null==a?void 0:a.extensions)));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ra(e,t){return{items:na((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function na(e,t){return e.map((function(e){return aa(e,t)})).filter(un.P)}function aa(e,t){var r,n,a;if("Genre"!==(null===(r=e.data)||void 0===r?void 0:r.__typename))return null;var i=e.data,s=(0,ee.o_)(i.uri);return{type:Xr.c.GENRE,name:i.name,uri:s?i.uri:"spotify:genre:".concat(i.uri),images:sn((null===(n=i.image)||void 0===n?void 0:n.sources)||[]),requestId:t,color:(0,on.m)(null===(a=i.image)||void 0===a?void 0:a.extractedColors)}}var ia=new _.l("searchGenres","query","9e1c0e056c46239dd1956ea915b988913c87c04ce3dadccdb537774490266f46",null);function sa(e,t){return oa.apply(this,arguments)}function oa(){return(oa=(0,n.A)(o().mark((function e(t,r){var n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(ia,r);case 2:if(a=e.sent,i=null==a||null===(n=a.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.genres){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",Cn(ra(i,yn(null==a?void 0:a.extensions)),i.pagingInfo));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r(38408),r(80456);var la={type:Xr.c.USER,uri:"",displayName:"",username:"",images:[]};function ua(e,t){return{items:ca((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function ca(e,t){return e.map((function(e){return da(e,t)})).filter(un.P)}function da(e,t){var r,n,a,i,s,o;if("Playlist"!==(null===(r=e.data)||void 0===r?void 0:r.__typename))return null;var l,u=e.data,c=la;if("User"===(null===(n=u.ownerV2)||void 0===n?void 0:n.data.__typename)){var d,p,v=null===(d=u.ownerV2)||void 0===d?void 0:d.data;c={type:Xr.c.USER,uri:v.uri||"",displayName:v.name||"",username:v.username||"",images:sn((null===(p=v.avatar)||void 0===p?void 0:p.sources)||[])}}return{type:Xr.c.PLAYLIST,uri:u.uri,name:u.name,images:sn((null===(a=u.images)||void 0===a?void 0:a.items.flatMap((function(e){return e.sources})))||[]),owner:c,requestId:t,formatListData:{type:null!==(i=u.format)&&void 0!==i?i:"",attributes:(l=null!==(s=u.attributes)&&void 0!==s?s:[],l.reduce((function(e,t){return e[t.key]=t.value,e}),{}))},color:(0,on.m)(null===(o=u.images.items[0])||void 0===o?void 0:o.extractedColors)}}var pa=new _.l("searchPlaylists","query","fc3a690182167dbad20ac7a03f842b97be4e9737710600874cb903f30112ad58",null);function va(e,t){return fa.apply(this,arguments)}function fa(){return(fa=(0,n.A)(o().mark((function e(t,r){var n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(pa,r);case 2:if(a=e.sent,i=null==a||null===(n=a.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.playlists){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",Cn(ua(i,yn(null==a?void 0:a.extensions)),i.pagingInfo));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ha(e,t){return{items:ma((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function ma(e,t){return e.map((function(e){return ga(e,t)})).filter(un.P)}function ga(e,t){var r,n,a,i;if("Podcast"!==(null===(r=e.data)||void 0===r?void 0:r.__typename))return null;var s=e.data;return{type:Xr.c.SHOW,uri:s.uri,name:s.name,images:sn((null===(n=s.coverArt)||void 0===n?void 0:n.sources)||[]),publisher:(null===(a=s.publisher)||void 0===a?void 0:a.name)||"",topics:s.topics.items||[],requestId:t,color:(0,on.m)(null===(i=s.coverArt)||void 0===i?void 0:i.extractedColors)}}var ya=new _.l("searchPodcasts","query","cbd33edc7a612454640d753caff6fb1074a7868843612d257dcef5e71e837dd9",null);function xa(e,t){return ba.apply(this,arguments)}function ba(){return(ba=(0,n.A)(o().mark((function e(t,r){var n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(ya,r);case 2:if(a=e.sent,i=null==a||null===(n=a.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.podcasts){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",Cn(ha(i,yn(null==a?void 0:a.extensions)),i.pagingInfo));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r(78551),r(82467);function ja(e,t){return{items:Ca(e,t),totalCount:(null==e?void 0:e.totalCount)||0}}function Ca(e,t){return(null==e?void 0:e.items.map((function(e){return Ra(e.item,e.matchedFields,t)})).filter(un.P))||[]}function Ra(e,t,r){var n,a,i,s,o;if("Track"!==(null===(n=e.data)||void 0===n?void 0:n.__typename))return null;var l=e.data,u=l.albumOfTrack,c=!!l.associations&&l.associations.associatedVideos.totalCount>0;return{type:Xr.c.TRACK,uri:l.uri,name:l.name,isPlayable:l.playability.playable,album:{type:Xr.c.ALBUM,uri:(null==u?void 0:u.uri)||"",name:(null==u?void 0:u.name)||"",images:sn((null==u||null===(a=u.coverArt)||void 0===a?void 0:a.sources)||[])},artists:l.artists.items.map((function(e){return{type:Xr.c.ARTIST,name:e.profile.name,uri:e.uri}})),duration:{milliseconds:l.duration.totalMilliseconds},hasAssociatedVideo:c,isExplicit:"EXPLICIT"===(null===(i=l.contentRating)||void 0===i?void 0:i.label),is19PlusOnly:"NINETEEN_PLUS"===(null===(s=l.contentRating)||void 0===s?void 0:s.label),requestId:r,isLyricsMatch:!(null==t||!t.includes(dn.tC.Lyrics)||null!=t&&t.includes(dn.tC.Name)),color:(0,on.m)(null==u||null===(o=u.coverArt)||void 0===o?void 0:o.extractedColors)}}function Aa(e,t){return{items:wa((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function wa(e,t){return e.map((function(e){return ka(e,t)})).filter(un.P)}function ka(e,t){var r,n,a,i;if("User"!==(null===(r=e.data)||void 0===r?void 0:r.__typename))return null;var s=e.data;return{type:Xr.c.USER,uri:s.uri,name:s.displayName||s.username,images:sn(null!==(n=null===(a=s.avatar)||void 0===a?void 0:a.sources)&&void 0!==n?n:[]),requestId:t,color:(0,on.m)(null===(i=s.avatar)||void 0===i?void 0:i.extractedColors)}}var Pa=r(66192);function Ia(e,t){var r,n=null!==(r=null==e?void 0:e.itemsV2)&&void 0!==r?r:[],a=n.map((function(e){var r=e.item,n=e.matchedFields,a=r.__typename;switch(a){case"AlbumResponseWrapper":return fn(r,t);case"ArtistResponseWrapper":return Pn(r,t);case"AudiobookResponseWrapper":return _n(r,t);case"EpisodeResponseWrapper":return Vn(r,t);case"GenreResponseWrapper":return aa(r,t);case"PlaylistResponseWrapper":return da(r,t);case"PodcastResponseWrapper":return ga(r,t);case"TrackResponseWrapper":return Ra(r,n,t);case"UserResponseWrapper":return ka(r,t);case"PreReleaseResponseWrapper":return cn(r,t);case"UnknownTypeWrapper":return null;default:return(0,S.k)(a),null}})).filter(un.P);return{totalCount:n.length,items:a}}function Sa(e,t){var r=(null==e?void 0:e.featured)||[];return{artistName:r.length?Oa(e):"",items:(null==r?void 0:r.map((function(e){return da(e,t)})).filter(un.P))||[],totalCount:r.length||0}}function Oa(e){var t=(0,Pa.no)(e,"itemsV2",[]);try{var r,n=(0,Pa.Jt)(t.map((function(e){return e.item})).filter(Boolean),"0.data");return(null==n||null===(r=n.profile)||void 0===r?void 0:r.name)||""}catch(e){return""}}var Ea=new _.l("searchTopResultsOnly","query","57fd67a2bfc6ccde461e399cb80066b48d02f0c3020388b1ba081433d28c1f0c",null);function Na(e,t){return _a.apply(this,arguments)}function _a(){return(_a=(0,n.A)(o().mark((function e(t,r){var n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Ea,r);case 2:if(a=e.sent,i=null==a||null===(n=a.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.topResultsV2){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",Ia(i,xn(null==a?void 0:a.extensions)));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ua=new _.l("searchTracks","query","5307479c18ff24aa1bd70691fdb0e77734bede8cce3bd7d43b6ff7314f52a6b8",null);function Ta(e,t){return qa.apply(this,arguments)}function qa(){return(qa=(0,n.A)(o().mark((function e(t,r){var n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Ua,r);case 2:if(a=e.sent,i=null==a||null===(n=a.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.tracksV2){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",Cn(ja(i,yn(null==a?void 0:a.extensions)),i.pagingInfo));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Da=new _.l("searchUsers","query","d3f7547835dc86a4fdf3997e0f79314e7580eaf4aaf2f4cb1e71e189c5dfcb1f",null);function Fa(e,t){return La.apply(this,arguments)}function La(){return(La=(0,n.A)(o().mark((function e(t,r){var n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Da,r);case 2:if(a=e.sent,i=null==a||null===(n=a.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.users){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",Cn(Aa(i,yn(null==a?void 0:a.extensions)),i.pagingInfo));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ba={items:[],totalCount:0,pagingInfo:{nextOffset:null}},Ma={albums:{items:[],totalCount:0},artists:{items:[],totalCount:0},episodes:{items:[],totalCount:0},genres:{items:[],totalCount:0},playlists:{items:[],totalCount:0},podcasts:{items:[],totalCount:0},audiobooks:{items:[],totalCount:0},topResults:{items:[]},tracks:{items:[],totalCount:0},users:{items:[],totalCount:0},topRecommendations:{artistName:"",items:[],totalCount:0},chipOrder:{items:[]}},Ha=function(){return(0,nn.A)((function e(t){(0,rn.A)(this,e),this._request=t}),[{key:"getSearchResults",value:(r=(0,n.A)(o().mark((function e(t){var r,n,a,i,s,l,u,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={searchTerm:t,offset:c.length>2&&void 0!==c[2]?c[2]:0,limit:c.length>3&&void 0!==c[3]?c[3]:10,numberOfTopResults:c.length>4&&void 0!==c[4]?c[4]:5,includeAudiobooks:!(c.length>1&&void 0!==c[1])||c[1],includeArtistHasConcertsField:c.length>5&&void 0!==c[5]&&c[5],includePreReleases:c.length>6&&void 0!==c[6]&&c[6],includeLocalConcertsField:c.length>7&&void 0!==c[7]&&c[7]},e.next=10,this._request(an,a);case 10:if(i=e.sent,s=null==i||null===(r=i.data)||void 0===r?void 0:r.searchV2){e.next=14;break}return e.abrupt("return",Ma);case 14:return l=yn(null==i?void 0:i.extensions),u=xn(null==i?void 0:i.extensions),e.abrupt("return",{albums:pn(s.albumsV2,l),artists:wn(s.artists,l),episodes:Mn(s.episodes,l),genres:ra(s.genres,l),playlists:ua(s.playlists,l),podcasts:ha(s.podcasts,l),audiobooks:En(null!==(n=s.audiobooks)&&void 0!==n?n:null,l),tracks:ja(s.tracksV2,l),users:Aa(s.users,l),topResults:Ia(s.topResultsV2,u),topRecommendations:Sa(s.topResultsV2,u),chipOrder:s.chipOrder});case 17:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getSearchCategoryResults",value:(t=(0,n.A)(o().mark((function e(t,r){var n,a,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={searchTerm:t,offset:i.length>4&&void 0!==i[4]?i[4]:0,limit:i.length>5&&void 0!==i[5]?i[5]:25,numberOfTopResults:i.length>6&&void 0!==i[6]?i[6]:20,includeAudiobooks:i.length>2&&void 0!==i[2]&&i[2],includePreReleases:i.length>3&&void 0!==i[3]&&i[3]},a=null,e.t0=r,e.next="albums"===e.t0?10:"artists"===e.t0?14:"episodes"===e.t0?18:"genres"===e.t0?22:"playlists"===e.t0?26:"podcasts"===e.t0?30:"audiobooks"===e.t0?34:"tracks"===e.t0?38:"users"===e.t0?42:"topResults"===e.t0?46:"podcastAndEpisodes"===e.t0?50:54;break;case 10:return e.next=12,Rn(this._request,n);case 12:case 16:case 20:case 24:case 28:case 32:case 36:case 40:case 44:case 48:case 52:return a=e.sent,e.abrupt("break",56);case 14:return e.next=16,Sn(this._request,n);case 18:return e.next=20,Gn(this._request,n);case 22:return e.next=24,sa(this._request,n);case 26:return e.next=28,va(this._request,n);case 30:return e.next=32,xa(this._request,n);case 34:return e.next=36,Tn(this._request,n);case 38:return e.next=40,Ta(this._request,n);case 42:return e.next=44,Fa(this._request,n);case 46:return e.next=48,Na(this._request,n);case 50:return e.next=52,ea(this._request,n);case 54:return(0,S.k)(r),e.abrupt("break",56);case 56:if(!a){e.next=58;break}return e.abrupt("return",a);case 58:return e.abrupt("return",Ba);case 59:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"getFullEpisodes",value:(e=(0,n.A)(o().mark((function e(t){var r,n,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={searchTerm:t,offset:a.length>1&&void 0!==a[1]?a[1]:0,limit:a.length>2&&void 0!==a[2]?a[2]:25},e.next=5,ea(this._request,r);case 5:return n=e.sent,e.abrupt("return",n||Ba);case 7:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e,t,r}(),Va=r(21540),Wa=r(15951),Ga=r(68983),Za=r(74512),Ja=r(75844),$a=r(83001);const za="kMLumUDiP1DgYtLABkVO";var Ka=function(e){var t=e.results,r=e.hasResults,n=(0,c.d4)((function(e){return e.platform})).isBrowser,a=(0,c.d4)(Za.JJ),i=(0,tr.V)(),s=(0,x.vh)(),o=(0,x.mv)().version,u=ue().category,p=(0,Wa.Qe)(t,u,!1),v="podcasts"!==u&&"episodes"!==u,m=(0,Wa.XR)(t),g=(0,f.NC)(J.ijb);return(0,l.useEffect)((function(){n||t&&r&&(0,Wa.H5)({eventSender:s,country:a,isAnonymous:i,context:JSON.stringify({top_result_is_track:m,version:o}),variant:g})}),[a,s,r,i,n,t,m,g,o]),(0,b.jsxs)(G.pZ,{value:"search-page",children:[(0,b.jsx)(Lt,{searchCategories:p,selectedCategory:u,displayChips:v}),(0,b.jsx)("div",{className:"contentSpacing",id:"searchPage",children:(0,b.jsx)(Ge.E,{className:za,render:function(){return(0,b.jsxs)(d.BV,{children:[(0,b.jsx)(d.qh,{path:"/",element:(0,b.jsx)(y.e,{pageId:h.$h.FIND,entityUri:"spotify:app:search",children:(0,b.jsx)(K,{})})}),(0,b.jsx)(d.qh,{path:":query",element:(0,b.jsx)(R,{children:(0,b.jsx)(tn,{results:t,hasResults:r})})}),(0,b.jsx)(d.qh,{path:":query/:category",element:(0,b.jsx)(C,{children:(0,b.jsx)(Wt,{results:t,displayChips:v})})})]})}})})]})};const Qa=l.memo((function(){var e=(0,u.jE)(),t=(0,f.NC)(J.KvH),r=(0,f.NC)(J.Lh5),s=(0,f.NC)(J.Jl4),c=!(0,ce.n)(),d=(0,Va.o)(),p=(0,i.A)(d,2),h=p[0],y=h.category,x=h.query,j=p[1];(0,Ga.m)("search");var C=(0,l.useState)({results:null,queryForResults:null!=x?x:""}),R=(0,i.A)(C,2),A=R[0],w=R[1],k=A.results,P=function(e){return null!==e&&void 0!==Object.keys(e).find((function(t){return"chipOrder"!==t&&e[t].items.length>0}))}(k),I=(0,l.useMemo)((function(){return new Ha((0,$a.lY)(Ja.n.getInstance()))}),[]),S=(0,W.k)(),O=S.searchHistory,E=S.setSearchHistory,N=(0,l.useCallback)((function(e){E([e].concat((0,a.A)(O)))}),[O,E]),_=(0,l.useCallback)(function(){var e=(0,n.A)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==A.queryForResults||!P){e.next=2;break}return e.abrupt("return");case 2:j(t,y,!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[A.queryForResults,y,P,j]);(0,l.useEffect)((function(){if(x)if(c)w({results:null,queryForResults:x});else{var n=["searchPageResults",x,{numberOfTopResults:5,isConcertsInSearchEnabled:t,isBookPrereleaseEnabled:s,isLocalConcertsInSearchEnabled:r}];e.ensureQueryData({queryKey:n,queryFn:function(){return I.getSearchResults(x,!0,0,10,5,t,s,r)},gcTime:9e5,staleTime:9e5}).then((function(e){w({results:e,queryForResults:x})}))}}),[I,s,t,r,c,x,e]),(0,l.useEffect)((function(){x||w({results:null,queryForResults:""})}),[x]);var U=(0,l.useMemo)((function(){return v().create().toString()}),[y,A.queryForResults]),T=(0,l.useMemo)((function(){return{api:I,category:y,query:A.queryForResults,onAddToHistory:N,onSearchRequest:_,serpId:U}}),[I,y,N,_,A.queryForResults,U]);return(0,b.jsxs)(le,{value:T,children:[(0,b.jsx)(g.Q,{children:m.Ru.get("search.page-title")}),(0,b.jsx)(Ka,{results:k,hasResults:P})]})}))},62562:(e,t,r)=>{r.d(t,{C:()=>y});var n=r(30758),a=r(93493),i=r(8574),s=r(58114),o=r(52542),l=(r(7651),r(42486),r(30456),r(26701),r(78551),r(68216),r(47994),r(37417),r(11737),r(51691),r(702),r(5672),r(43379),r(78397),r(82467),r(34192),r(88856),r(51565),r(18316),function(e){return e<=64?"small":e>640?"xlarge":e>300?"large":"standard"});function u(e,t){return e.filter((function(e){return e.label?e.label===t:e.width?l(e.width)===t:!!e.height&&l(e.height)===t}))[0]}var c=r(37851);r(47710);var d=r(53670);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e){var t,r,n,a,i,s,o,l,c=u(e,"standard"),d=u(e,"large"),p=u(e,"small"),v=u(e,"xlarge");return{image_url:null==c?void 0:c.url,image_height:null==c||null===(t=c.height)||void 0===t?void 0:t.toString(),image_width:null==c||null===(r=c.width)||void 0===r?void 0:r.toString(),image_url_large:null==d?void 0:d.url,image_height_large:null==d||null===(n=d.height)||void 0===n?void 0:n.toString(),image_width_large:null==d||null===(a=d.width)||void 0===a?void 0:a.toString(),image_url_small:null==p?void 0:p.url,image_height_small:null==p||null===(i=p.height)||void 0===i?void 0:i.toString(),image_width_small:null==p||null===(s=p.width)||void 0===s?void 0:s.toString(),image_url_xlarge:null==v?void 0:v.url,image_height_xlarge:null==v||null===(o=v.height)||void 0===o?void 0:o.toString(),image_width_xlarge:null==v||null===(l=v.width)||void 0===l?void 0:l.toString()}}var h=r(64869),m=r(11404),g=r(16920);function y(e,t){var r=(0,i.W)(),o=(0,h.z)(),l=(0,m.te)((null==e?void 0:e.uri)||""),u=l.isPlaying,p=l.isActive,y=(0,m.l_)((null==t?void 0:t.uri)||"").isActive,x=(0,a.NC)(s.pZ0),b=(0,n.useCallback)((function(n){if(t&&e){var a=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=((null===(r=e.coverArt)||void 0===r?void 0:r.sources)||[]).sort((function(e,t){return(t.width||0)-(e.width||0)})),i=(0,c.QH)(e,t),s=(0,c.gf)(t)||i,o=e.mediaTypes&&e.mediaTypes.includes(d.Cx.Video)?"video":"audio";return v(v({uri:e.uri,title:e.name,subtitle:t.name,type:"episode",album_uri:t.uri,album_title:t.name,artist_uri:t.uri,artist_name:t.name},f(a)),{},{media_type:n?o:"audio",isTrailer:i,anonymousPlaybackAllowed:s})}(e,t,x);y&&!u&&p&&!n?o.resume():y&&u&&!n?(r({type:"click",intent:"pause",targetUri:e.uri}),o.pause()):(r({type:"click",intent:"play",targetUri:e.uri}),o.play({uri:t.uri,pages:[{items:[{type:g.c.EPISODE,uri:e.uri,uid:null,metadata:a,provider:null}]}]},{referrerIdentifier:o.getReferrer(),featureIdentifier:"episode"},n))}}),[t,e,x,y,u,p,o,r]);return b}},70129:(e,t,r)=>{r.d(t,{a:()=>n});var n=function(e){var t;return(null==e||null===(t=e.linked_from)||void 0===t?void 0:t.uri)||e.uri}}}]);
//# sourceMappingURL=xpui-routes-search.js.map