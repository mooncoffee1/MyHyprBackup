"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[6489],{16489:(e,n,t)=>{t.d(n,{W:()=>Z});var i=t(51488),r=(t(7651),t(14551),t(83234),t(30456),t(26701),t(25550),t(70750),t(47994),t(37417),t(11737),t(51691),t(702),t(5672),t(43379),t(34192),t(88856),t(51565),t(15342),t(18316),t(97500)),o=t.n(r),a=t(2860),s=t(99),l=t(18367),c=t(33872),d=t(93611),u=new c.l("internalLinkRecommenderEpisode","query","1a707c8b0ffba70f26bb06446ad3c3b75c966e35a9f71a00120a67444558f321",null),p=t(1360),y=t(71523),f=t(30758),v=t(94822),m=t(32849),b=t(41888),g=t(59414),h=t(54363),w=t(6472),P=t(81713),_=t(74230),j=t(35605),x=t(67124),I=t(30021),k=t(22433),E=t(33267),O=t(67515),S=t(14816),A=t(56122),T=t(74484),C=t(38547),R=t(70525),D=t(4254),M=t(86070),U=function(e){return"activation-trigger-mme-".concat(e)},N=f.memo((function(e){var n,t,i,r=e.index,o=void 0===r?-1:r,s=e.audio,l=e.contentInformation,c=e.coverArt,d=e.contentRatingLabel,u=e.description,p=e.mediaTypes,N=e.isoString,F=e.name,G=e.playable,L=e.playedState,V=e.podcastSubscription,q=e.sharingInfo,W=e.showName,z=e.showTrailer,Y=e.showTypes,B=e.showUri,X=e.status,Z=e.totalMilliseconds,H=e.type,Q=e.uri,J=L.playPositionMilliseconds,K=(0,f.useRef)(null),$=(0,f.useState)(L.state===R._w.Completed),ee=(0,y.A)($,2),ne=ee[0],te=ee[1],ie=(0,j.P)(),re=ie.draggable,oe=ie.onDragStart,ae=(0,x.V)(),se=(0,A.y)(),le=(0,v.wA)(),ce=(0,T.P)({uri:Q},{featureIdentifier:"episode"}),de=ce.isActive,ue=ce.isPlaying,pe=ce.togglePlay,ye=(0,C.S)(1e4,(function(e){var n;return(null==e||null===(n=e.item)||void 0===n?void 0:n.uri)===Q})),fe=(0,y.A)(ye,1)[0];(0,f.useEffect)((function(){ue&&(K.current=fe)}),[ue,fe]),(0,f.useEffect)((function(){!ue&&K.current&&Z<=K.current&&te(!0)}),[ue,Z]);var ve=(0,f.useCallback)((function(e){e||(K.current=0),te(e)}),[]),me={uri:B,name:W,trailer:z,showTypes:Y},be=(0,I.C)({audio:s,name:F,uri:Q,mediaTypes:p,coverArt:{sources:c}},me),ge=(0,f.useCallback)((function(){H!==R.I_.Episode?ae?be():pe():_.h.set((function(){return{triggerId:U(Q),triggerAction:null}}))}),[H,ae,Q,be,pe]),he=null!==(n=null==V?void 0:V.isPaywalled)&&void 0!==n&&n,we=null!==(t=null==V?void 0:V.isUserSubscribed)&&void 0!==t&&t,Pe=he&&!we,_e=he&&ae,je=(0,D.b)({contentRating:d,isPaywalled:he}).badges,xe=(0,f.useCallback)((function(){return le((0,m.Tf)(B))}),[B,le]),Ie=(0,f.useCallback)((function(e){var n=e;return(Pe||_e)&&(n=(0,M.jsx)(P.f,{enabled:!0,showUri:B,children:n})),!G&&je.nineteen&&(n=(0,M.jsx)("div",{onClick:function(e){e.stopPropagation(),xe()},children:e})),n=(0,M.jsx)(b.k,{id:U(Q),targetURI:(0,a.o_h)(Q),children:n})}),[Pe,_e,G,je.nineteen,Q,B,xe]);return(0,M.jsx)(S.pZ,{value:"row",index:o,children:(0,M.jsx)(g.h,{menu:(0,M.jsx)(h.b,{uri:Q,showUri:B,sharingInfo:q,isPlayed:ne,onMarkAsPlayed:ve}),children:(0,M.jsx)(w.k,{requestId:void 0,index:o,uri:Q,size:se,images:c||[],name:F,showName:W,description:u,isPlayable:G||Pe,fullyPlayed:ne,durationMs:Z,releaseDate:N||"",resumePositionMs:null!==(i=K.current)&&void 0!==i?i:J,draggable:re,handleDragStart:function(e){if(e.target===e.currentTarget){var n="".concat(F," â€¢ ").concat(W);oe(e,{itemUris:[Q],dragLabelText:n,contextUri:B})}},handlePlaybackClick:ge,isCurrentlyPlaying:de,isPaywalled:he,isUserSubscribed:we,isPlaying:ue,position:ue?fe:void 0,episodeSharingInfo:q,onMarkAsPlayed:ve,contentInformation:l,showUri:B,mediaTypes:null!=p?p:void 0,badges:(0,M.jsxs)(M.Fragment,{children:[je.explicit&&(0,M.jsx)(k.U,{}),je.paid&&(0,M.jsx)(E.y,{}),je.nineteen&&(0,M.jsx)(O.q,{size:16})]}),playButtonWrapper:Ie,status:X})})})}));var F=t(97579);var G=t(65321),L=t(10935);const V="GgMHVmfXNzteIydSWMIA",q="GcupflQsYyy0IMOsCeD1",W="A4FqrLbXeENogU0IRaPn",z="YCYs0Gv5B5ctDN0f5Zby";function Y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function B(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Y(Object(t),!0).forEach((function(n){(0,i.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var X=function(e){var n,t,r,l=e.uri,c=e.isFullPage,p=void 0!==c&&c,y=(t={uri:l},(0,d.I)(u,t,r)).data,f=null==y?void 0:y.seoRecommendedEpisode.totalCount,v=function(e){return(e||[]).filter((function(e){return function(e){return"NotFound"!==(null==(n=e)?void 0:n.__typename)&&"GenericError"!==(null==n?void 0:n.__typename)&&"RestrictedContent"!==(null==n?void 0:n.__typename)&&"Episode"===e.__typename;var n}(e.data)}))}(null==y?void 0:y.seoRecommendedEpisode.items),m=p?v:v.slice(0,5);if(0===f)return null;var b=null===(n=(0,a.o_h)(l))||void 0===n?void 0:n.id,g="spotify:app:episode:".concat(b,":more-like-this");return(0,M.jsxs)("section",{className:o()(V,(0,i.A)({},q,!p)),"data-testid":"episode-list",children:[(0,M.jsx)(G.k,{title:s.Ru.get("internal-link-recommender.more-episodes-like-this"),hasMoreElements:!p,seeAllUri:g}),m.map((function(e,n){var t,i,r,o,a,s=e.data,l=function(e){return"NotFound"!==(null==(n=e)?void 0:n.__typename)&&"GenericError"!==(null==n?void 0:n.__typename)&&"RestrictedContent"!==(null==n?void 0:n.__typename)&&"Podcast"===e.__typename;var n}(s.podcastV2.data)?s.podcastV2.data:null;return l?s&&(0,M.jsxs)("div",{className:z,children:[(0,M.jsx)("hr",{className:W,"aria-hidden":!0}),(0,M.jsx)(N,{index:n,audio:s.audio,contentInformation:s.contentInformation,contentRatingLabel:null===(t=s.contentRating)||void 0===t?void 0:t.label,coverArt:s.coverArt?s.coverArt.sources:void 0,description:s.description,isoString:null===(i=s.releaseDate)||void 0===i?void 0:i.isoString,mediaTypes:s.mediaTypes,name:s.name,playable:s.playability.playable,playedState:s.playedState,podcastSubscription:(0,L.Wx)(s.restrictions,s.playability),sharingInfo:s.sharingInfo,showTrailer:(o=null===(r=l.trailerV2)||void 0===r?void 0:r.data,o&&function(e){return"NotFound"!==(null==(n=e)?void 0:n.__typename)&&"GenericError"!==(null==n?void 0:n.__typename)&&"RestrictedContent"!==(null==n?void 0:n.__typename)&&"Episode"===e.__typename;var n}(o)?{type:F.c.EPISODE,uri:o.uri,name:o.name,coverArt:(null===(a=o.coverArt)||void 0===a?void 0:a.sources)||[],audio:o.audio,audioPreview:o.audioPreview,sharingInfo:o.sharingInfo,duration:{milliseconds:o.duration.totalMilliseconds},contentRating:o.contentRating,mediaTypes:o.mediaTypes}:null),showName:l.name,showTypes:l.showTypes,showUri:l.uri,totalMilliseconds:s.duration.totalMilliseconds,type:s.type,uri:s.uri},"".concat(s.uri,"/").concat(n))]},"".concat(n).concat(s.uri)):null}))]})},Z=function(e){var n=(0,p.D)({entityType:F.c.EPISODE,componentType:"list",uri:e.uri});return(0,M.jsx)(l.s,{onError:n,children:(0,M.jsx)(X,B({},e))})}}}]);
//# sourceMappingURL=6489.js.map