"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9421],{29421:(e,r,n)=>{n.d(r,{A:()=>Fe});var t=n(52542),a=(n(7651),n(30456),n(26701),n(70750),n(37417),n(11737),n(51691),n(702),n(5672),n(43379),n(34192),n(88856),n(51565),n(18316),n(97500)),i=n.n(a),s=n(88677),l=n(23100),c=n(93493),o=n(82835),u=n(80366),d=n(45625),v=n(79036),g=n(30758),m=n(13534),f=n(92107),b=n(64708),h=n(496),y=n(64869);const p="lyrics-lyrics-contentContainer",x="lyrics-lyrics-contentWrapper",j="GML6YUVCeJvRhGznLnqm";var L=n(86070),S=function(e){var r=e.trackUri,n=e.data,t=e.format,a=e.spec,i=e.logger,s=e.isSnippet,l=(0,y.z)(),c=(0,h.v7)(),o=n.isTimeSynced,u=(0,g.useCallback)((function(e,r){if(a&&i){var n=a.lyricsLineFactory().hitSeekToTime({msToSeekTo:r});i.logInteraction(n)}e.currentTarget.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),l.seekTo(r);var t=l.getState();t&&!t.isPaused||l.resume()}),[i,l,a]),d=(0,g.useCallback)((function(e){var r=e.lineRef,n=e.firstUpdate,t=e.isFirstLine,a=e.isActiveLine,i=e.activeLineIndex,s=e.hasSkipped,l=e.shouldAnimateScroll;if(r.current&&c.current&&(a||t&&i<0)){var o,u=r.current.getBoundingClientRect().top,d=c.current.getBoundingClientRect().height,v=d/4,g=u>=v&&u<=d-v;if(!g&&!(n||s))return;var m="visible"===document.visibilityState&&l&&g?"smooth":"auto";null===(o=r.current)||void 0===o||o.scrollIntoView({behavior:m,block:"center",inline:"center"})}}),[c]);return(0,L.jsx)("div",{className:p,children:(0,L.jsxs)("div",{className:x,children:[!s&&!o&&(0,L.jsx)(m.E,{as:"p",variant:"bodySmall",className:j,dir:"auto",children:f.Ru.get("web-player.lyrics.unsynced")}),(0,L.jsx)(b.x,{trackUri:r,data:n,format:t,onLineClick:o?u:void 0,onActiveLineChange:d,isSnippet:s},r)]})})},w=n(20007),N=n(82704);const k="e7eFLioNSG5PAi1qVFT4",A="vkO5F4KbLk8mbjZoy1Lf";var O=(0,g.memo)((function(e){var r,n=e.version,t=(r=[f.Ru.get("web-player.lyrics.noLyrics0"),f.Ru.get("web-player.lyrics.noLyrics1"),f.Ru.get("web-player.lyrics.noLyrics2"),f.Ru.get("web-player.lyrics.noLyrics3")],{getMessage:function(e){var n;switch(e){case"ad":n=f.Ru.get("web-player.lyrics.ad");break;case"error":n=f.Ru.get("web-player.lyrics.error");break;case"unavailable":n=r[Math.floor(Math.random()*r.length)];break;default:(0,N.k)(e),n=""}return n}}),a=t.getMessage;return(0,L.jsx)("div",{className:k,children:(0,L.jsx)("span",{className:A,children:a(n)})})})),R=(n(42486),n(79024),n(68216),n(2823),n(78397),n(97460),n(29426),n(93577),n(5728),n(24136),n(54520),n(91531),n(93678),n(34145),n(44286)),C=n(68150),E=n(11854),I=n(51403),F=n(12430),T=n(60256);const G="hS_lrRHiW4BSWL8WcE8Q",_="O7ooKKJG0MArEwDgD6IV",D="XZ1MeB_1byeFy7W6Eg6u",Y="lq_cmE3Xcg5QJhvbBnPR",U="zPI8TW58LMxEQDIq_GdA";var z="lyrics",P=function(e){var r=e.spec,n=e.logger,t=(0,F.L)().openURLWithSessionTransfer,a=(0,I.k)(),i=a.url,s=a.isExternal,l=(0,R.Zp)(),c=(0,g.useCallback)((function(){var e=new URL(i),a=new URLSearchParams(e.search);a.append("ref",z),e.search=a.toString();var c=e.href;if(!1===s){var o=(0,C.PI)({ref:z});l({pathname:"/premium",search:o.toString()})}else t(c);n.logInteraction(r.lyricsUpsellFactory().lyricsUpsellButtonFactory().hitNavigateToExternalUri({destination:c}))}),[i,s,n,r,l,t]),o=(0,T.t)(r.lyricsUpsellFactory());return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{className:G}),(0,L.jsx)("div",{className:_,children:(0,L.jsxs)("div",{className:U,ref:o,children:[(0,L.jsx)(m.E,{semanticColor:"textBase",variant:"titleLarge",className:Y,children:f.Ru.get("web-player.lyrics.upsell.title")}),(0,L.jsx)(E.$,{className:D,size:"small",onClick:c,colorSet:"invertedLight",children:f.Ru.get("web-player.lyrics.upsell.button")})]})})]})},W=(n(40065),n(25550),n(4865),n(15342),n(32802)),B=n(23721),V=n(18422),J=n(26839),M=n(61616),H=n(53731),q=n(80021),Z=n(85673),K=n(33233),Q=n(67963),X=n(62822),$=n(12341),ee=n(93091),re=n.n(ee),ne=n(60637),te=n(14582);const ae="na1tzIwfHqXPiMw_7NOd",ie="lVJJcrObmZtZsWaq8H3A";var se=[{volume:ne.Y9.SING_ALONG_OFF,icon:(0,L.jsx)(W.X,{size:"small"}),get label(){return f.Ru.get("singalong.off")}},{volume:ne.Y9.HIGH,icon:(0,L.jsx)(B.C,{size:"small"}),get label(){return f.Ru.get("singalong.more-vocal")}},{volume:ne.Y9.LOW,icon:(0,L.jsx)(V.D,{size:"small"}),get label(){return f.Ru.get("singalong.less-vocal")}}],le=g.memo((function(e){var r=function(e){var r=(0,te.S)(),n=(0,g.useState)(ne.Y9.SING_ALONG_OFF),t=(0,$.A)(n,2),a=t[0],i=t[1],s=r.getCapabilities().isSupported;(0,g.useEffect)((function(){r.setStatus(ne.nW.DISABLED).then((function(){i(ne.Y9.SING_ALONG_OFF)}))}),[e,r]),(0,g.useEffect)((function(){return function(){r.setStatus(ne.nW.DISABLED)}}),[r]);var l=(0,g.useCallback)(function(){var e=(0,X.A)(re().mark((function e(n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==ne.Y9.SING_ALONG_OFF){e.next=5;break}return e.next=3,r.setStatus(ne.nW.DISABLED);case 3:e.next=7;break;case 5:return e.next=7,r.setStatus(ne.nW.ENABLED);case 7:return e.next=9,r.setVocalVolume(n);case 9:i(n);case 10:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[r]);return{isSupported:s,volume:a,setVocalVolume:l}}(e.currentTrackUri),n=r.isSupported,a=r.volume,s=r.setVocalVolume,l=(0,g.useCallback)((function(e){n&&s(e.volume)}),[n,s]);if(!n)return null;var c=se.find((function(e){return e.volume===a})),o=(null==c?void 0:c.volume)===ne.Y9.SING_ALONG_OFF;return(0,L.jsx)(q.b,{menu:(0,L.jsxs)(Z.W,{children:[(0,L.jsx)(K.y,{children:f.Ru.get("singalong.title")}),se.map((function(e){return(0,L.jsx)(Q.D,{role:"menuitemradio","aria-checked":a===e.volume,"aria-label":e.label,onClick:function(){return l(e)},leadingIcon:e.icon,children:e.label},e.volume)}))]}),children:function(e,r,n){return(0,L.jsxs)("button",{onClick:r,ref:n,type:"button",className:i()(ae,(0,t.A)({},ie,o)),children:[o?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(J.q,{size:"small"}),(0,L.jsx)(m.E,{variant:"bodySmall",children:f.Ru.get("singalong.button")})]}):(0,L.jsxs)(L.Fragment,{children:[c.icon,(0,L.jsx)(m.E,{variant:"bodySmall",children:c.label})]}),e?(0,L.jsx)(M.J,{size:"small"}):(0,L.jsx)(H.y,{size:"small"})]})}})})),ce=n(46064),oe=n(90576),ue=n(90328),de=n(14546),ve=n(58114),ge=n(12548),me=n(54552),fe=n(3424),be=n(5248),he=n(12574);const ye="lyrics-lyrics-container",pe="VznvlkEh9fhk1AKhhZwe",xe="iSeDDdAUlWo8OJbCKDLw",je="rSXzEXBdsRTaK6qSBHYg",Le="UdJMosuRv5_ySWnmSPZH",Se="zEwFftu1Dw68QKaKj_EE",we="lyrics-lyrics-background";function Ne(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function ke(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?Ne(Object(n),!0).forEach((function(r){(0,t.A)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var Ae=(0,L.jsx)("div",{className:Se,children:(0,L.jsx)(v.m,{})}),Oe=(0,L.jsx)(O,{version:"error"}),Re=(0,L.jsx)(O,{version:"ad"}),Ce=(0,L.jsx)(O,{version:"unavailable"}),Ee={active:l.ONy,inactive:l.Ql9,passed:l.Ql9,background:l.wdA,messaging:l.ONy},Ie=function(e,r){switch(r){case ve.bYw.CONTROL:default:return e;case ve.bYw.EMPTY_LYRICS:return ke(ke({},e),{},{lyrics:[]});case ve.bYw.TRUNCATED_LYRICS:return ke(ke({},e),{},{lyrics:e.lyrics.slice(0,5)})}};const Fe=function(e){var r=e.format,n=(0,ue.X)(),a=(0,fe.v)((function(e){var r;return null===(r=e.activeDevice)||void 0===r?void 0:r.isLocal})),l=(0,be.o)((function(e){return null==e?void 0:e.item}),(function(e,r){return(null==e?void 0:e.uri)===(null==r?void 0:r.uri)})),v=(null==l?void 0:l.uri)||"",g=(0,he.r)(o.V,{data:{uri:v}}),m=g.spec,f=g.logger,b=(0,oe.J)(),h=b.data,y=b.loading,p=b.error,x=(0,c.NC)(ve.bOR),j=(0,c.NC)(ve.JSO,{loadingValue:ve.bYw.CONTROL}),N=!1,k=Ee;null!=h&&h.hasLyrics&&(x&&(N=h.showUpsell),j!==ve.bYw.TRUNCATED_LYRICS&&j!==ve.bYw.EMPTY_LYRICS||(N=!0),k={active:h.colors.activeText,inactive:h.colors.text,passed:ge.Q.fromCSS(h.colors.activeText,.7).toCSS(me.a.RGBA),background:h.colors.background,messaging:h.colors.text}),(0,de.z)(k.background,Ee.background);var A=(0,be.o)((function(e){var r;return null==e||null===(r=e.nextItems)||void 0===r?void 0:r[0]}),(function(e,r){return(null==e?void 0:e.uri)===(null==r?void 0:r.uri)}));(0,ce.I)(null==A?void 0:A.uri,null==A?void 0:A.images);var O=Ae,R=!1;if(v)if((0,u.AI)(v))O=Re;else if(p)O=Oe;else if(y)O=Ae;else if(h)if(h.hasLyrics){var C=null!=a&&a;R=n&&h.hasVocalRemoval&&C,O=(0,L.jsx)(S,{trackUri:v,data:Ie(h,j),format:r,spec:m,logger:f,isSnippet:N})}else O=Ce;var E=(0,s.d4)((function(e){return e.ads.leaderboard.isEnabled})),I={"--lyrics-color-active":k.active,"--lyrics-color-inactive":k.inactive,"--lyrics-color-passed":k.passed,"--lyrics-color-background":k.background,"--lyrics-color-messaging":k.messaging,"--show-gradient-over-lyrics":N?"block":void 0};return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(d.Q,{usePlayingItem:!0,children:"Spotify"}),(0,L.jsxs)("div",{className:i()(ye,(0,t.A)({},pe,E)),style:I,children:[(0,L.jsx)("div",{className:we}),O,(0,L.jsxs)("div",{className:xe,children:[(0,L.jsx)("div",{className:je,children:"cinema"!==r&&(0,L.jsx)(w.R,{})}),(0,L.jsx)("div",{className:Le,children:R?(0,L.jsx)(le,{currentTrackUri:v}):null})]}),N&&(0,L.jsx)(P,{spec:m,logger:f})]})]})}},20007:(e,r,n)=>{n.d(r,{R:()=>T});var t=n(85093),a=n(12341),i=n(52542),s=(n(83234),n(40065),n(25550),n(70750),n(43379),n(34192),n(4865),n(15342),n(30758)),l=n(97500),c=n.n(l),o=n(88677),u=n(19966),d=n(50975),v=n(13534),g=n(53731),m=n(93493),f=n(92107),b=n(80021),h=n(85673),y=n(67963),p=n(90576),x=n(4798),j=n(43755),L=n(79916);const S="ZEIqEgvTSLMYDUyg4fwD",w="JCMG2XpPpmwVFJCmRsv8",N="G5xyHz2quLjuzQhFHUb4",k="qYiwqn2o_ph2NxiAfCpG",A="aENlvMWeYBOLGGB34Tpl",O="GdrYdqKUxEn8rN8JLnFW",R="AH1Gz87FuBEFAIF3XbA4";var C=n(86070),E=function(e){try{if(e){var r=new Intl.DisplayNames([e],{type:"language"}).of(e);return r?r.charAt(0).toUpperCase()+r.slice(1):e}return""}catch(r){return e||""}},I=function(){var e=(0,o.wA)(),r=(0,p.J)().data,n=(0,o.d4)(j.s),t=(0,s.useCallback)((function(){e(n?(0,x.gL)(""):(0,x.gL)(navigator.language))}),[e,n]);return(null==r?void 0:r.hasLyrics)&&(r.alternatives||[]).length>0?(0,C.jsx)("button",{className:S,onClick:t,children:(0,C.jsx)("div",{className:c()(k,(0,i.A)({},N,n)),children:(0,C.jsx)(u.H,{fill:"white",size:"small"})})}):null},F=function(){var e=(0,o.wA)(),r=(0,p.J)().data,n=(0,o.d4)(j.s),l=(0,s.useState)(!1),m=(0,a.A)(l,2),L=m[0],I=m[1],F=(null==r?void 0:r.hasLyrics)&&(r.alternatives||[]).length>0,T=n&&(null==r?void 0:r.hasLyrics)&&(r.alternatives||[]).find((function(e){return e.language.substring(0,2)===n.substring(0,2)}));if(!F)return null;var G=(0,C.jsx)(h.W,{children:[{language:""}].concat((0,t.A)(r.alternatives||[])).map((function(r){var t=r.language,a=f.Ru.get("web-player.lyrics.translation.none");return t&&(a=E(t)),(0,C.jsx)(y.D,{trailingIcon:t===n?(0,C.jsx)(d.i,{size:"small",semanticColor:"textBrightAccent"}):null,role:"menuitem",onClick:function(){e((0,x.gL)(t))},children:a},t)}))});return(0,C.jsx)("div",{className:S,children:(0,C.jsx)(b.b,{renderInline:!0,menu:G,onShow:function(){return I(!0)},onHide:function(){return I(!1)},children:(0,C.jsxs)("div",{className:c()(w,(0,i.A)({},N,T)),children:[(0,C.jsx)("div",{className:k,children:T?(0,C.jsx)(u.H,{fill:"black",size:"small"}):(0,C.jsx)(u.H,{size:"small"})}),(0,C.jsxs)("div",{className:R,children:[(0,C.jsx)(v.E,{variant:"bodySmallBold",children:n?T?f.Ru.get("web-player.lyrics.translating.to",E(n)):f.Ru.get("web-player.lyrics.translation.not_available",E(n)):f.Ru.get("web-player.lyrics.translate")}),(0,C.jsx)(g.y,{className:c()(A,(0,i.A)({},O,L)),size:"small"})]})]})})})},T=function(){switch((0,m.NC)(L.Tc,{loadingValue:L.LZ.CONTROL})){case L.LZ.CONTROL:default:return null;case L.LZ.SYSTEM_LANGUAGE:return(0,C.jsx)(I,{});case L.LZ.ALL_LANGUAGES:return(0,C.jsx)(F,{})}}}}]);
//# sourceMappingURL=9421.js.map