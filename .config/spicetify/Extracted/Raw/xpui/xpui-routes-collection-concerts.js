"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5783],{61089:(e,t,n)=>{n.d(t,{p:()=>R});var i=n(52542),o=n(30758),r=n(97500),a=n.n(r),c=n(13534),l=n(11854),s=n(65707),u=n(89241);const d="(min-width: 0px)",v="(min-width: 0px) and (max-width: 767px)",m="(min-width: 768px)",f="(min-width: 768px) and (max-width: 1023px)",g="(min-width: 1024px)",h="(min-width: 1024px) and (max-width: 1279px)",p="(min-width: 1280px)",j="(min-width: 1280px) and (max-width: 1919px)",x="(min-width: 1920px)";const y="FvfvGU3jvHRskUU9v9_8",b="Q9AlbZn2EGzy3MTWXa8X",C="mxmxS0y8LiwSs5nueKPT",k="GXxVAveNFStY3pBI_NO4",S="eHcXC2s97InYP7rMNT0H";var _=n(86070),R=(0,o.memo)((function(e){var t=e.children,n=e.message,o=e.title,r=e.linkTitle,R=e.linkTo,N=e.onClick,D=e.renderInline,w=void 0!==D&&D,A={isXS:(0,u.U)(d),isXSOnly:(0,u.U)(v),isSM:(0,u.U)(m),isSMOnly:(0,u.U)(f),isMD:(0,u.U)(g),isMDOnly:(0,u.U)(h),isLG:(0,u.U)(p),isLGOnly:(0,u.U)(j),isXL:(0,u.U)(x)},O=A.isXSOnly||A.isSMOnly;return(0,_.jsxs)("section",{className:a()(y,(0,i.A)({},b,w)),children:[t,(0,_.jsx)(c.E,{as:"h1",variant:O?"titleSmall":"titleMedium",className:k,children:o}),(0,_.jsx)(c.E,{variant:O?"bodySmall":"bodyMedium",className:S,children:n}),r&&(R||N)&&(0,_.jsx)(l.$,{colorSet:"invertedLight",className:C,href:R,onClick:N,component:s.v,children:r})]})}))},62445:(e,t,n)=>{n.d(t,{A:()=>y});var i=n(30758),o=n(90430),r=n(13534),a=n(22976),c=n(93051),l=n(62813),s=n(15566);const u="wedRUk4eiBo9n9vqXLhU",d="hMbtEskyvMbDiwq1EScA",v="HYVIJaYYiCTgSCHie70L",m="SPbe_Q1wtiZQCmo0QKUy",f="TRp4tgG7_cymGIXDevIP",g="tC1Y_nwyyly7cpIGqF5K",h="l93AfoV_qHnMQSQBB5GK",p="DgDBmSR2sbwji2UfqxIf",j="EkGb0ZzhswreSvpZoioY";var x=n(86070);const y=(0,i.memo)((function(e){var t=e.uri,n=e.title,i=e.imageUrl,y=e.date,b=e.subTitle,C=e.firstParty,k=e.onClick,S=y?(0,l.l4)(y):void 0;return(0,x.jsx)(c.N,{to:t,className:u,"data-testid":"concert-card",onClick:k,children:(0,x.jsxs)("div",{className:d,children:[(0,x.jsx)(s.b,{children:(0,x.jsx)("div",{role:"img",className:j,style:{backgroundImage:"url(".concat(i,")")},children:!i&&(0,x.jsx)(o.r,{role:"img",size:"xxlarge",semanticColor:"textSubdued"})})}),S&&(0,x.jsxs)("time",{className:v,dateTime:y,children:[(0,x.jsx)(r.E,{as:"div",variant:"bodySmall",children:(0,l.tj)(S)}),(0,x.jsx)(r.E,{as:"div",variant:"bodyMediumBold",children:(0,l.Py)(S)})]}),(0,x.jsxs)("div",{className:m,dir:"auto",children:[(0,x.jsx)(r.E,{as:"h3",variant:"bodyMedium",className:f,children:n}),(0,x.jsxs)("div",{className:g,children:[C&&(0,x.jsx)("span",{className:p,children:(0,x.jsx)(a.D,{size:"small"})}),(0,x.jsx)(r.E,{as:"span",className:h,variant:"bodySmall","data-testid":"location-name",semanticColor:"textSubdued",children:b})]})]})]})})}))},18048:(e,t,n)=>{n.r(t),n.d(t,{default:()=>pi});var i=n(12341),o=(n(47994),n(30758)),r=n(97500),a=n.n(r),c=n(88677),l=n(68150),s=n(23100),u=n(11854),d=n(2648),v=n(21692),m=n(38516),f=n(36679),g=n(93493),h=n(67246),p=n(92107),j=n(867),x=n(45625),y=n(9754),b=n(33598),C=n(17067),k=n(85925),S=n(88420),_=(n(42486),n(30456),n(40065),n(26701),n(79024),n(68216),n(43379),n(78397),n(97460),n(34192),n(88856),n(4865),n(51565),n(18316),n(93577),n(54520),n(91531),n(93678),n(34145),n(44286)),R=n(12072),N=n(80366),D=n(85093),w=(n(83234),n(78551),n(25550),n(82467),n(15342),n(64399)),A=n(83800),O=n(47540),I=n(89255);const U="gTBBvHPsmI4wQAMvZkZg",E="oH8142OCLHWFsonR04W8",F="vnpiTOiF2um7QiJAcpgw",P="uTm3fSPtqqJzQkcfn4yA",M="x4_6X4ZJHSGg6IAuXsXv";var B=n(86070),L=function(e){var t=(0,o.useMemo)((function(){var t;return null===(t=e.spec)||void 0===t?void 0:t.genreButtonFactory({position:e.position,uri:e.uri})}),[e.spec,e.position,e.uri]);return(0,B.jsx)(I.v,{variant:e.isSelected?"contrasting":"tinted",onClick:function(){t&&t.hitUiElementToggle(),e.onClick()},children:(0,B.jsx)("div",{className:M,children:e.name})},e.uri)},T=function(e){var t=(0,o.useState)(e.defaultConcepts),n=(0,i.A)(t,2),r=n[0],a=n[1],c=(0,o.useMemo)((function(){var t;return null===(t=e.spec)||void 0===t?void 0:t.genreDoneButtonFactory()}),[e.spec]),l=(0,o.useMemo)((function(){var t;return null===(t=e.spec)||void 0===t?void 0:t.genreClearButtonFactory()}),[e.spec]);return(0,B.jsx)(O.A,{contentLabel:p.Ru.get("live_events.label"),isOpen:!0,className:U,onRequestClose:e.onClose,children:(0,B.jsxs)("section",{className:E,children:[(0,B.jsx)("div",{className:F,children:(0,B.jsx)(d.H,{"aria-label":p.Ru.get("close"),iconOnly:w.M,size:"small",onClick:e.onClose})}),(0,B.jsx)(A.I,{mode:"multi-select",layout:"multi-line","aria-label":"",children:e.concepts.map((function(t,n){var i=t.data,o=i.uri,c=i.name;return(0,B.jsx)(L,{uri:o,name:c,position:n+1,spec:e.spec,isSelected:r.includes(o),onClick:function(){return a((function(e){return e.includes(o)?e.filter((function(e){return e!==o})):[].concat((0,D.A)(e),[o])}))}},o)}))}),(0,B.jsxs)("div",{className:P,children:[(0,B.jsx)(d.H,{onClick:function(){l&&l.hitUiDeselect(),a([])},size:"small",disabled:0===r.length,children:p.Ru.get("concerts.genres.clear")}),(0,B.jsx)(u.$,{onClick:function(){c&&c.hitUiSelect(),e.onSave(r)},size:"small",children:p.Ru.get("concerts.genres.done")})]})]})})},z=(n(34518),n(79210),function(e,t,n){var i=n&&(null==n?void 0:n.length)>1?"+".concat((null==n?void 0:n.length)-1):"";return e?[e.name,i].join(" ").trim():t?[t,i].join(" ").trim():p.Ru.get("concerts.genres.all_genres")}),H=(n(5672),function(e){return void 0!==e&&Object.keys(e).includes("data")}),W=n(68600),G=n(86295),K=n(87718),V=new G.l("concertConcepts","query","4dd1f1e7b1f9b986cbff58bad7a38eab99ff26b33bc3e10e0ad5a72af8c489f5",null),X=(n(59255),n(85130),n(55636),n(28509),n(97332),n(46555),n(13296),n(24594),function(){var e=(0,_.g)().id,t=(0,l.ok)(),n=(0,i.A)(t,1)[0],o=(0,W.Qe)(e),r=n.getAll("genres").map((function(e){return(0,N.dD)(e).toString()}));return{displayName:null==o?void 0:o.name,conceptUris:(0,D.A)(new Set(o?[o.id].concat((0,D.A)(r)):r))}}),Y=function(e){var t,n,r,a,c=(0,_.Zp)(),s=(0,l.ok)(),d=(0,i.A)(s,1)[0],v=(0,_.zy)().pathname,m=(0,o.useMemo)((function(){var t;return null===(t=e.spec)||void 0===t?void 0:t.genrePickerButtonFactory()}),[e.spec]),f=(n={geohash:null!==(t=e.geohash)&&void 0!==t?t:""},(0,K.I)(V,n,r)).data,g=void 0!==(a=null==f?void 0:f.concertConcepts)&&Object.keys(a).includes("items")?f.concertConcepts.items.filter(H):[],h=X(),p=h.displayName,j=h.conceptUris,x=(0,o.useState)(!1),y=(0,i.A)(x,2),b=y[0],C=y[1],k=(0,o.useState)(j),S=(0,i.A)(k,2),D=S[0],w=S[1],A=(0,i.A)(D,1)[0],O=g.find((function(e){return e.data.uri===A})),I=O||p?u.$:R.n;return(0,B.jsxs)("div",{children:[(0,B.jsx)(I,{size:"small",onClick:function(){m&&m.hitUiReveal(),C((function(e){return!e}))},className:M,children:z(null==O?void 0:O.data,p,D)}),b&&(0,B.jsx)(T,{spec:m,onClose:function(){return C(!1)},onSave:function(e){d.delete("genres");var t=(0,i.A)(e,1)[0],n=g.find((function(e){return e.data.uri===t}));if(n){var o=(0,N.o_)(n.data.uri);e.length>1&&e.forEach((function(e){var t;return d.append("genres",null===(t=(0,N.o_)(e))||void 0===t?void 0:t.id)})),c({pathname:(0,W.DL)(v,null==o?void 0:o.id,null==n?void 0:n.data.name),search:new URLSearchParams(d).toString()})}else c({pathname:(0,W.DL)(v,void 0,void 0),search:new URLSearchParams(d).toString()});w(e),C(!1)},concepts:g,defaultConcepts:D})]})},q=n(25830),Q=n(73155),Z=(n(83805),n(13534)),J=n(70043),$=n(67017),ee=n(91985),te=n(3091),ne=n(17176),ie=n(6924),oe=n(72653),re=n(94222),ae=n(96644),ce=n(87584),le=n(63514),se=n(16856),ue=n(54869),de=n(96132),ve=n(24808),me=n(47613),fe=n(2283),ge=n(88593),he=n(56708),pe=n(64416),je=n(79494),xe=n(16027),ye=n(62224),be=n(63240),Ce=n(67904),ke=n(10632),Se=n(54701),_e=n(80675),Re=n(72861),Ne=n(76804),De=n(55128),we=n(31025),Ae=n(15643),Oe=n(1467),Ie=n(24428),Ue=n(48199),Ee=n(61845),Fe=n(83536),Pe=n(70756),Me=n(63855),Be=n(1103),Le=n(96344),Te=n(38903),ze=n(17530),He=n(33140),We=n(64741),Ge=n(71418),Ke=n(44135),Ve=n(6729),Xe=n(32409),Ye=n(67031),qe=n(98045),Qe=n(86111),Ze=n(11554),Je=n(61753),$e=n(87318),et=n(89949),tt=n(22180),nt=n(85428),it={af:J.af,am:$.c,ar:ee.ar,arEG:te.m,arMA:ne.E,arSA:ie.G,az:oe.az,bg:re.bg,bn:ae.bn,bho:$.c,bs:ce.bs,ca:le.ca,cs:se.cs,da:ue.da,de:de.de,el:ve.el,en:$.c,enGB:me.b,es419:fe.es,es:fe.es,esAR:fe.es,esMX:fe.es,et:ge.et,eu:he.eu,fa:pe.$,fi:je.fi,fil:$.c,frCA:xe.V,fr:ye.fr,gl:be.gl,gu:Ce.gu,he:ke.he,hi:Se.hi,hr:_e.hr,hu:Re.hu,id:Ne.id,is:De.is,it:we.it,ja:Ae.ja,kn:Oe.kn,ko:Ie.ko,lt:Ue.lt,lv:Ee.lv,mk:Fe.mk,ml:$.c,mr:$.c,ms:Pe.ms,nb:Me.nb,ne:$.c,nl:Be.nl,or:$.c,paIN:$.c,paPK:$.c,pl:Le.pl,ptBR:Te.F,ptPT:ze.pt,ro:He.ro,ru:We.ru,sk:Ge.sk,sl:Ke.sl,sr:Ve.sr,sv:Xe.sv,sw:$.c,ta:Ye.ta,te:qe.te,th:Qe.th,tr:Ze.tr,uk:Je.uk,ur:$.c,vi:$e.vi,zhCN:et.g,zhHK:tt.a,zhTW:nt.G,zu:$.c},ot=function(e){return function(e){return Object.keys(it).includes(e)}(e)?it[e]:$.c},rt=n(12058),at=n(42534),ct=function(e){var t=new Date(e);t.setDate(e.getDate()+(5-e.getDay()));var n=new Date(t);return n.setDate(t.getDate()+2),{from:t,to:n}},lt=function(e){var t=new Date(e);t.setDate(e.getDate()+(5-e.getDay()));var n=new Date(t);n.setDate(t.getDate()+7);var i=new Date(n);return i.setDate(n.getDate()+2),{from:n,to:i}},st=function(e,t){return!!(null!=e&&e.from&&null!=e&&e.to&&null!=t&&t.from&&null!=t&&t.to)&&((0,rt.r)(e.from,t.from)&&(0,rt.r)(e.to,t.to))},ut=function(e){return(0,at.x)(e,{representation:"date"})},dt=n(69583),vt=n(70566),mt=n(60256);const ft="C1USyigFSYyc22_BmsgB",gt="Cwo5ZgH_QLzFbSjWjglf",ht="iL7PRv0yTC9UFjHfDJDW",pt="oxBa3kaduGMhYxc9I_Uu",jt="x0xbkRE3CyGK_i406MSX",xt="zT6EzYpjnj9pMKhMFQB7",yt="YOLVSXg5_gdh0VfL2oNl",bt="ynXemVsankd4H506x8D2";var Ct={formatCaption:function(e){return p.Ru.formatDate(e,{month:"long",year:"numeric"})},formatDay:function(e){return p.Ru.formatDate(e,{day:"numeric"})},formatWeekdayName:function(e){return p.Ru.formatDate(e,{weekday:"short"})}};const kt=(0,o.memo)((function(e){var t,n=e.onDone,r=e.onClose,a=e.spec,c=(0,o.useState)(e.dateRange),l=(0,i.A)(c,2),s=l[0],v=l[1],m=(0,dt.W)(),f=(0,mt.t)(a),g=(0,vt.s)(),h=new Date,j=ct(h),x=lt(h),y=st(s,j),b=st(s,x),C=new Date;return C.setFullYear(C.getFullYear()+1),(0,B.jsx)("div",{ref:f,children:(0,B.jsx)(O.A,{isOpen:!0,children:(0,B.jsxs)("section",{className:ft,children:[(0,B.jsx)(d.H,{className:gt,iconOnly:w.M,size:"small",onClick:r,"aria-label":p.Ru.get("close_button_action")}),(0,B.jsxs)("div",{className:ht,children:[(0,B.jsx)(Z.E,{as:"h3",variant:"bodyMediumBold",children:p.Ru.get("live_events.date_picker_dialog_title")}),(0,B.jsxs)("div",{className:pt,children:[(0,B.jsx)(I.v,{className:jt,size:"md",selectedColorSet:"brightAccent",selected:y,onClick:function(){v(y?void 0:j),a&&g.logInteraction(a.datePresetButtonFactory({identifier:"thisWeekend",position:0}).hitUiSelect())},children:p.Ru.get("live_events.this_weekend_preset")}),(0,B.jsx)(I.v,{className:jt,size:"md",selectedColorSet:"brightAccent",selected:b,onClick:function(){v(b?void 0:x),a&&g.logInteraction(a.datePresetButtonFactory({identifier:"nextWeekend",position:1}).hitUiSelect())},children:p.Ru.get("live_events.next_weekend_preset")})]})]}),(0,B.jsx)(Q.hv,{mode:"range",selected:s,onSelect:v,numberOfMonths:2,defaultMonth:null===(t=e.dateRange)||void 0===t?void 0:t.from,fromDate:new Date,toDate:C,formatters:Ct,dir:m?"rtl":"ltr",modifiersClassNames:{today:xt},locale:ot(p.Ru.getLocaleForFormatting())}),(0,B.jsxs)("div",{className:yt,children:[(0,B.jsx)(d.H,{className:bt,size:"small",onClick:function(){v(void 0)},disabled:!(null!=s&&s.from),children:p.Ru.get("live_events.date_picker_dialog_clear")}),(0,B.jsx)(u.$,{size:"small",onClick:function(){if(null!=s&&s.from){var e=s.from,t=s.to;n({from:e,to:t||e})}else n()},children:p.Ru.get("live_events.date_picker_dialog_done")})]})]})})})}));n(72636),n(2823),n(91281);var St=function(e){var t=null==e?void 0:e.match(/(202\d)-([01]\d)-([0-3]\d)/);if(t){var n=(0,i.A)(t,4),o=n[1],r=n[2],a=n[3];return new Date(parseInt(o,10),parseInt(r,10)-1,parseInt(a,10))}},_t=function(){var e,t,n=(0,l.ok)(),o=(0,i.A)(n,1)[0],r=null===(e=o.get("startDate"))||void 0===e?void 0:e.trim(),a=null===(t=o.get("endDate"))||void 0===t?void 0:t.trim(),c=St(r),s=St(a);return c&&s&&{from:c,to:s}},Rt=n(62813);const Nt="WnIhxhr9MIQjVvkvUQTf",Dt="ETRYfT8oEUJuUDLgOBUX",wt="qdpaG8_efSSt25IhC0r_";const At=function(e){var t=(0,o.useState)(!1),n=(0,i.A)(t,2),r=n[0],a=n[1],c=(0,l.ok)(),s=(0,i.A)(c,2)[1],d=(0,vt.s)(),v=(0,o.useMemo)((function(){var t;return null===(t=e.spec)||void 0===t?void 0:t.datePickerModalFactory()}),[e.spec]),m=(0,o.useMemo)((function(){var t;return null===(t=e.spec)||void 0===t?void 0:t.headerFactory()}),[e.spec]),f=_t(),g=ct(new Date),h=lt(new Date),j=(0,o.useCallback)((function(e){var t={};if(e&&(t.startDate=ut(e.from),t.endDate=ut(e.to),v)){var n=new URLSearchParams(t).toString();d.logInteraction(v.doneButtonFactory({uri:n}).hitUiNavigate({destination:n}))}a(!1),s(t),v&&d.logInteraction(v.doneButtonFactory({uri:new URLSearchParams(t).toString()}).hitUiHide())}),[s,v,d]),x=(0,o.useCallback)((function(e){var t={};st(f,e)||(t.startDate=ut(e.from),t.endDate=ut(e.to)),s(t)}),[f,s]),y=f?u.$:R.n;return(0,B.jsxs)("div",{className:Nt,children:[(0,B.jsx)("div",{children:(0,B.jsx)(y,{className:Dt,iconLeading:q.R,onClick:function(){a(!0),m&&d.logInteraction(m.datePickerButtonFactory().hitUiReveal())},size:"small",children:f?(0,Rt.tX)(f):p.Ru.get("live_events.date_picker_button_text")})}),r&&(0,B.jsx)(kt,{onClose:function(){a(!1),v&&d.logInteraction(v.closeButtonFactory().hitUiHide())},onDone:j,dateRange:f,spec:v}),(0,B.jsxs)("div",{className:wt,children:[(0,B.jsx)(I.v,{size:"sm",selectedColorSet:"brightAccent",selected:st(f,g),onClick:function(){if(x(g),m){var e={startDate:ut(g.from),endDate:ut(g.to)},t=new URLSearchParams(e).toString();d.logInteraction(m.datePresetButtonFactory({uri:t,identifier:"thisWeekend",position:0}).hitUiNavigate({destination:t}))}},className:Dt,children:p.Ru.get("live_events.this_weekend_preset")}),(0,B.jsx)(I.v,{size:"sm",selectedColorSet:"brightAccent",selected:st(f,h),onClick:function(){if(x(h),m){var e={startDate:ut(h.from),endDate:ut(h.to)},t=new URLSearchParams(e).toString();d.logInteraction(m.datePresetButtonFactory({uri:t,identifier:"nextWeekend",position:1}).hitUiNavigate({destination:t}))}},className:Dt,children:p.Ru.get("live_events.next_weekend_preset")})]})]})};var Ot=n(93051),It=n(71963),Ut=n(92562),Et=n(18258);const Ft="Ig5vKQ7dYBd1EvrAFxNe",Pt="h_q319q68ujja24YIoXY",Mt="dFTQKQt3imsoOza3VE4G",Bt="M8LA1p3y53Qnge37zUmz",Lt="HZi6Ziy6mVJMFZsPf4wk",Tt="KNX0R2c0r90zNTPYZm6X",zt="JI0woT5IN6EnNKnilhcg",Ht="kAi1CfiOMYDExKkXuw44",Wt="Zwr6T4ceJI7KfyNxa4tS",Gt="mW3O8RnDMDY6MfRJKqd5",Kt="raQK_4Eaqa5Zj06_aBm7",Vt="AOuYgrCnrYvPKsyzxqVy",Xt="P1dra4DUpn36RnCkuwa_",Yt="zBCfaF04WlTsiUcov2oJ",qt="JxTPZX9AoptKanJg0zIw";const Qt=(0,o.memo)((function(e){var t=e.concert,n=e.position,i=e.modalSpec,r=(0,Rt.l4)(e.concert.startDateIsoString),a=(0,N.o_)(e.concert.uri),c=(0,o.useMemo)((function(){return null==i?void 0:i.eventRowFactory({position:n,uri:t.uri})}),[i,n,t]),l=(0,vt.s)();return(0,B.jsxs)(Ot.N,{to:"/concert/".concat(null==a?void 0:a.id),className:Ht,onClick:function(){c&&l.logInteraction(c.hitUiNavigate({destination:"/concert/".concat(null==a?void 0:a.id)}))},children:[(0,B.jsxs)("div",{className:Wt,"aria-hidden":!0,children:[(0,B.jsx)(Z.E,{as:"div",variant:"marginalBold",className:Gt,children:(0,Rt.tj)(r)}),(0,B.jsx)(Z.E,{as:"div",variant:"bodyMediumBold",className:Kt,children:(0,Rt.Py)(r)})]}),(0,B.jsxs)("div",{className:Vt,children:[(0,B.jsx)(Z.E,{as:"div",variant:"bodySmallBold",className:Xt,"data-testid":"event-title",children:t.title}),(0,B.jsx)(Et.s,{children:(0,Rt.Fn)(r)}),(0,B.jsxs)(Z.E,{as:"div",variant:"bodySmall",className:Yt,children:[(0,Rt.VJ)(r)," • ",(0,Rt.WB)(r)]}),(0,B.jsx)(Z.E,{as:"div",variant:"bodySmall",className:qt,"data-testid":"event-venue",children:[t.location.venue,t.location.city].join(p.Ru.getSeparator())})]})]},t.uri)}));const Zt=function(e){var t=(0,o.useMemo)((function(){var t;return null===(t=e.feedSpec)||void 0===t?void 0:t.groupedEventModalFactory({uri:e.artist.uri||""})}),[e.feedSpec,e.artist]),n=(0,vt.s)(),i=(0,mt.t)(t),r=function(){t&&n.logInteraction(t.closeButtonFactory().hitUiHide()),e.onClose()};return(0,B.jsx)(O.A,{contentLabel:p.Ru.get("live_events.label"),isOpen:!0,className:Ft,onRequestClose:r,children:(0,B.jsxs)("section",{className:Pt,ref:i,children:[(0,B.jsx)("div",{className:Mt,children:(0,B.jsx)(Jt,{"aria-label":p.Ru.get("close"),iconOnly:w.M,size:"small",onClick:r})}),(0,B.jsxs)("div",{className:Bt,children:[(0,B.jsx)(Ut._,{height:"48",width:"48",className:Lt,src:e.artist.imageUri}),(0,B.jsxs)("div",{className:Tt,children:[(0,B.jsx)(Z.E,{as:"h3",variant:"bodyMediumBold",className:zt,"data-testid":"event-venue",children:e.artist.name}),(0,B.jsx)(Z.E,{as:"h3",variant:"bodySmall","data-testid":"event-venue",children:p.Ru.get("concerts.count_near_location",e.concerts.length,e.location.city)})]})]}),e.concerts.map((function(e,n){return(0,B.jsx)(Qt,{concert:e,position:n,modalSpec:t},e.uri)}))]})})};var Jt=(0,It.Ay)(d.H).withConfig({displayName:"ConcertModal___StyledButtonTertiary",componentId:"sc-179c8vh-0"})({color:"#FFFFFF",backgroundColor:"#000000",cursor:"pointer"});const $t=(0,o.memo)((function(e){var t,n=e.event,i=e.onClose,r=e.feedSpec,a=null==n||null===(t=n.concerts[0])||void 0===t?void 0:t.concert,c=null==a?void 0:a.artists[0],l=(0,o.useMemo)((function(){return null==r?void 0:r.groupedEventModalFactory({uri:(null==c?void 0:c.uri)||""})}),[r,c]),s=(0,vt.s)();if(!n||!a||!c)return null;return(0,B.jsx)(Zt,{artist:{imageUri:c.imageUri,name:c.name,uri:c.uri},location:{city:a.location,venue:a.venue},concerts:n.concerts.map((function(e){return{uri:"spotify:concert:".concat(e.concert.id),title:e.concert.title,startDateIsoString:e.concert.date,location:{city:e.concert.location,venue:e.concert.venue}}})),onClose:function(){l&&s.logInteraction(l.closeButtonFactory().hitUiHide()),i()}})}));var en=n(1349),tn=n(62445),nn=n(62657);const on=(0,o.memo)((function(e){var t=e.concert,n=e.isVirtual,i=e.onClick,o=t.venue,r=t.location,a=t.artists[0];return(0,B.jsx)(tn.A,{uri:(0,N.B4)(t.id).toURI(),title:(0,nn.a9)(t),imageUrl:a.imageUri,date:t.startDate.localDate,subTitle:n?o:[o,r].join(p.Ru.getSeparator()),firstParty:(0,W.he)(t),onClick:i})}));const rn=(0,o.memo)((function(e){var t=e.event,n=e.onClick,i=(0,o.useCallback)((function(e){e.preventDefault(),n(t)}),[t,n]),r=(0,Rt.l4)(t.openingDate),a=(0,Rt.l4)(t.closingDate),c=t.concerts[0].concert,l=c.artists[0];return(0,B.jsx)(tn.A,{title:(0,nn.a9)(c),subTitle:"".concat((0,Rt.WZ)(r,a)," • ").concat(p.Ru.get("concerts.count",t.concerts.length)),onClick:i,imageUrl:l.imageUri,uri:(0,N.B4)(c.id).toURI()})}));const an=(0,o.memo)((function(e){var t,n=e.event,i=e.position,r=e.sectionSpec,a=e.onOpenGroupedEvent,c=null===(t=n.concerts[0])||void 0===t?void 0:t.concert,l=null==c?void 0:c.id,s=c&&(0,N.B4)(c.id).toURI(),u=(0,vt.s)(),d=(0,o.useMemo)((function(){return null==r?void 0:r.eventCardFactory({identifier:null!=l?l:"",position:i,uri:null!=s?s:""})}),[r,l,s,i]),v=(0,mt.t)(d);if(n.concerts.length>1)return(0,B.jsx)("div",{ref:v,children:(0,B.jsx)(rn,{event:n,onClick:function(e){a(e),d&&u.logInteraction(d.hitUiReveal())}})});return(0,B.jsx)("div",{ref:v,children:(0,B.jsx)(on,{concert:c,isVirtual:"online"===n.source,onClick:function(){d&&u.logInteraction(d.hitUiNavigate({destination:s}))}})})}));var cn=n(12595);const ln=(0,o.memo)((function(e){var t=e.event,n=e.onClick,i=(0,o.useCallback)((function(e){e.preventDefault(),n(t)}),[t,n]),r=(0,Rt.l4)(t.openingDate),a=(0,Rt.l4)(t.closingDate),c=t.concerts[0].concert,l=c.artists[0];return(0,B.jsx)(cn.A,{image:null==l?void 0:l.imageUri,title:(0,nn.a9)(c),subTitle:p.Ru.get("concerts.count",t.concerts.length),dateRange:(0,Rt.WZ)(r,a),uri:null==c?void 0:c.id,onClick:i})}));const sn=(0,o.memo)((function(e){var t=e.concert,n=e.isVirtual,i=e.onClick,o=t.venue,r=t.location,a=t.artists[0],c=(0,Rt.l4)(t.startDate.localDate);return(0,B.jsx)(cn.A,{date:t.startDate.localDate,image:null==a?void 0:a.imageUri,title:(0,nn.a9)(t),subTitle:n?o:[o,r].join(p.Ru.getSeparator()),dateRange:(0,Rt.Y)(c),uri:(0,N.B4)(t.id).toURI(),onClick:i})}));const un=(0,o.memo)((function(e){var t,n=e.event,i=e.position,r=e.sectionSpec,a=e.onOpenGroupedEvent,c=null===(t=n.concerts[0])||void 0===t?void 0:t.concert,l=null==c?void 0:c.id,s=c&&(0,N.B4)(c.id).toURI(),u=(0,vt.s)(),d=(0,o.useMemo)((function(){return null==r?void 0:r.eventRowFactory({identifier:null!=l?l:"",position:i,uri:null!=s?s:""})}),[r,l,s,i]),v=(0,mt.t)(d);if(n.concerts.length>1)return(0,B.jsx)("div",{ref:v,children:(0,B.jsx)(ln,{event:n,onClick:function(e){a(e)}})});return(0,B.jsx)("div",{ref:v,children:(0,B.jsx)(sn,{concert:c,isVirtual:"online"===n.source,onClick:function(){d&&u.logInteraction(d.hitUiNavigate({destination:null!=s?s:""}))}})})}));var dn=n(53607);const vn="MVPegsivznZB6gdkcnkH",mn="vktIWsUczavLRrl4SkRt",fn="LOJZO2MnGW5dCIawF767",gn="tyc7QRlEJigVFIAeLGOB",hn="PoljWhTLU3MKqIx2gSPY",pn="ajxCNAuBJSgYfKUUBWBT",jn="WR2h2Li5XTrBn_Rdme_k";const xn=(0,o.memo)((function(e){var t=e.title,n=void 0===t?"":t,i=e.identifier,r=e.position,a=e.events,c=e.feedSpec,l=e.onOpenGroupedEvent,s=e.layout,u=(0,o.useMemo)((function(){return null==c?void 0:c.eventSectionFactory({identifier:i,position:r})}),[c,i,r]),d=(0,mt.t)(u);return 0===a.length?null:(0,B.jsxs)("div",{className:vn,ref:d,children:["grid"===s&&(0,B.jsx)(dn.pZ,{value:"headered-grid",index:r,children:(0,B.jsx)(en.$,{total:a.length,title:n,showAll:!0,withEncoreCards:!1,children:a.map((function(e,t){var n,i=null===(n=e.concerts[0])||void 0===n?void 0:n.concert;return(0,B.jsx)(an,{event:e,position:t,sectionSpec:u,onOpenGroupedEvent:l},null==i?void 0:i.id)}))})}),"list"===s&&(0,B.jsxs)("div",{children:[(0,B.jsx)(Z.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:mn,children:n}),a.map((function(e,t){var n,i=null===(n=e.concerts[0])||void 0===n?void 0:n.concert;return(0,B.jsx)(un,{event:e,position:t,sectionSpec:u,onOpenGroupedEvent:l},null==i?void 0:i.id)}))]})]})}));var yn=n(28925),bn=n(62822),Cn=n(93091),kn=n.n(Cn),Sn=n(75844),_n=n(82316);var Rn=function(){var e=(0,bn.A)(kn().mark((function e(){var t;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn.n.getInstance().build().withHost(_n.tc).withPath("/v3/concerts/saved").withEndpointIdentifier("/v3/concerts/saved").send();case 2:return t=e.sent,e.abrupt("return",t.body);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nn=n(8574);const Dn=(0,o.memo)((function(e){var t,n,r,a=e.spec,c=e.layout,l=(0,o.useState)(),s=(0,i.A)(l,2),u=s[0],d=s[1],v=(0,yn.I)({queryKey:["savedConcerts"],queryFn:Rn}),m=(0,Nn.W)(),f=(null===(t=v.data)||void 0===t?void 0:t.userLocation)||p.Ru.get("concerts.default_location");return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(x.Q,{children:"".concat(p.Ru.get("live_events.label"))}),null!==(n=v.data)&&void 0!==n&&n.events.length?(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(xn,{title:p.Ru.get("concerts_upcoming"),identifier:"saved",position:0,events:null===(r=v.data)||void 0===r?void 0:r.events,feedSpec:a,onOpenGroupedEvent:function(e){var t;d(e);var n=null===(t=e.concerts[0])||void 0===t?void 0:t.concert.artistUris[0];m({type:"click",intent:"open-grouped-live-event",targetUri:n})},layout:c})}):(0,B.jsxs)("div",{className:fn,children:[(0,B.jsx)(Z.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:pn,children:p.Ru.get("concerts_interested_in_live_events")}),(0,B.jsx)(Z.E,{as:"p",className:jn,children:p.Ru.get("concerts_no_events_description")}),(0,B.jsx)(Ot.N,{to:"/concerts",className:gn,children:(0,B.jsx)(R.n,{as:"span",className:hn,children:p.Ru.get("concerts_browse_more_events")})})]}),(0,B.jsx)(Z.E,{variant:"marginal",semanticColor:"textSubdued",children:p.Ru.get("live_events.disclaimer")}),(0,B.jsx)($t,{event:u,locationName:f,feedSpec:a,onClose:function(){return d(void 0)}})]})}));var wn=n(61089),An=n(44206),On=n(52542),In=(n(7651),n(37417),n(11737),n(51691),n(702),n(65345)),Un=function(e){var t,n,o=(0,i.A)(e,1)[0];if("visuals"in o.data){var r=null!==(t=null===(n=o.data.visuals.avatarImage)||void 0===n?void 0:n.sources)&&void 0!==t?t:[],a=(0,i.A)(r,1)[0];return null==a?void 0:a.url}};const En=function(e){var t=(0,o.useState)(!1),n=(0,i.A)(t,2),r=n[0],a=n[1],c=(0,o.useMemo)((function(){var t;if((0,In.ys)(e)){var n=(0,i.A)(e.concerts,1)[0];if((0,In.$V)(n)){var o=(0,N.o_)(n.data.uri);return null===(t=e.spec)||void 0===t?void 0:t.eventCardFactory({identifier:null==o?void 0:o.id,position:e.position,uri:n.data.uri})}}}),[e]),l=(0,vt.s)(),s=(0,mt.t)(c);if((0,In.ys)(e)){var u=(0,i.A)(e.concerts,1)[0];if((0,In.$V)(u)){var d=(0,i.A)(u.data.artists.items,1)[0],v=Un(u.data.artists.items),m=(0,Rt.Vi)(e.concerts),f=m.startDate,g=m.endDate;return{isModalOpen:r,handleClick:function(e){e.preventDefault(),a(!0),c&&l.logInteraction(c.hitUiReveal())},handleClose:function(){return a(!1)},concert:{uri:u.data.uri,title:u.data.title,imageUrl:v,dateRange:(0,Rt.WZ)(f,g),startDateIsoString:u.data.startDateIsoString},artist:{uri:"uri"in d.data?d.data.uri:"",name:"profile"in d.data?d.data.profile.name:"",imageUri:null!=v?v:""},location:{city:u.data.location.city,venue:u.data.location.name},totalConcerts:e.concerts.length,concerts:e.concerts.map((function(e){return(0,In.$V)(e)?{uri:e.data.uri,title:e.data.title,location:{city:e.data.location.city,venue:e.data.location.name},startDateIsoString:e.data.startDateIsoString}:null})).filter(In.se),ref:s}}}};var Fn=function(e){var t,n=(0,vt.s)(),i=(0,o.useMemo)((function(){var t,n,i=(0,N.o_)((0,In.$V)(e)?e.data.uri:"");return null===(t=e.spec)||void 0===t?void 0:t.eventCardFactory({identifier:null==i?void 0:i.id,position:e.position,uri:null!==(n=null==i?void 0:i.toURI())&&void 0!==n?n:""})}),[e]);if((0,In.$V)(e))return{imageUrl:null!==(t=Un(e.data.artists.items))&&void 0!==t?t:"",uri:e.data.uri,title:e.data.title,subTitle:[e.data.location.name,e.data.location.city].join(p.Ru.getSeparator()),date:e.data.startDateIsoString,dateRange:(0,Rt.Y)(new Date(e.data.startDateIsoString)),handleClick:function(){return i&&n.logInteraction(i.hitUiNavigate({destination:e.data.uri}))}}};const Pn="V5SKycHF8ljKTRcTXM52",Mn="CzWhnZA1N50SUeRTGNXg",Bn="kA_2O3KDNrREQ60CWtsH",Ln="eIRhBzZ6DVZOR5G3KjAQ",Tn="S7enEQMg1sLACPajLCs2",zn="o9A1xL55C2qn_cIvXSfJ";function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var Wn={ConcertGroup:function(e){var t,n=En(e);return n?(0,B.jsxs)("div",{ref:n.ref,children:[(0,B.jsx)(cn.A,{onClick:n.handleClick,uri:n.concert.uri,title:n.concert.title,image:null!==(t=n.concert.imageUrl)&&void 0!==t?t:"",subTitle:p.Ru.get("concerts.count",n.concerts.length),dateRange:n.concert.dateRange}),n.isModalOpen&&(0,B.jsx)(Zt,{onClose:n.handleClose,artist:n.artist,location:n.location,concerts:n.concerts})]}):null},ConcertV2ResponseWrapper:function(e){var t=Fn(e);return t?(0,B.jsx)(cn.A,{uri:t.uri,title:t.title,subTitle:t.subTitle,image:t.imageUrl,date:t.date,onClick:t.handleClick}):null}};const Gn=function(e){var t=(0,o.useMemo)((function(){var t,n;return null===(t=e.spec)||void 0===t?void 0:t.eventSectionFactory({identifier:"all",position:null!==(n=e.position)&&void 0!==n?n:0})}),[e.spec,e.position]),n=(0,mt.t)(t);return 0===e.concerts.length?null:(0,B.jsxs)("div",{ref:n,className:zn,children:[(0,B.jsx)(Z.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:e.title}),e.concerts.map((function(e,n){if(i=e.__typename,!Object.keys(Wn).includes(null!=i?i:""))return null;var i,o=Wn[e.__typename];return(0,B.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){(0,On.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:n,spec:t},e),n)})).filter(In.se)]})};function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var Vn={ConcertGroup:function(e){var t=En(e);return t?(0,B.jsxs)("div",{ref:t.ref,children:[(0,B.jsx)(tn.A,{onClick:t.handleClick,uri:t.concert.uri,title:t.concert.title,imageUrl:t.concert.imageUrl,subTitle:"".concat(t.concert.dateRange," • ").concat(p.Ru.get("concerts.count",t.totalConcerts))}),t.isModalOpen&&(0,B.jsx)(Zt,{onClose:t.handleClose,artist:t.artist,location:t.location,concerts:t.concerts})]}):null},ConcertV2ResponseWrapper:function(e){var t=Fn(e);return t?(0,B.jsx)(tn.A,{uri:t.uri,title:t.title,subTitle:t.subTitle,imageUrl:t.imageUrl,date:t.date,onClick:t.handleClick}):null}};const Xn=function(e){var t=(0,o.useMemo)((function(){var t,n;return null===(t=e.spec)||void 0===t?void 0:t.eventSectionFactory({identifier:"all",position:null!==(n=e.position)&&void 0!==n?n:0})}),[e.spec,e.position]),n=(0,mt.t)(t);return(0,B.jsx)("div",{ref:n,children:(0,B.jsx)(en.$,{total:e.concerts.length,title:e.title,showAll:!0,withEncoreCards:!1,children:e.concerts.map((function(e,n){if(i=e.__typename,!Object.keys(Vn).includes(null!=i?i:""))return null;var i,o=Vn[e.__typename];return(0,B.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(n),!0).forEach((function(t){(0,On.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:n,spec:t},e),n)})).filter(In.se)})})};var Yn=function(e){var t={"recommended-events":p.Ru.get("concerts_recommended_for_you"),"popular-events":p.Ru.get("concerts_popular")};return e in t?t[e]:p.Ru.get("concerts")};const qn=function(e){if(!(0,In.eO)(e.data))return null;var t="grid"===e.layout?Xn:Gn;return(0,B.jsx)(t,{title:Yn(e.data.key),concerts:e.data.concerts,spec:e.spec})};n(76588);const Qn="TsOt70CoNNJlItfzhvtF";var Zn=function(e){if(null==e||!e.match(/^(\d{4})-(\d{2})-(\d{2})$/))return p.Ru.get("live_events.all_events_tab");var t=e.split("-"),n=(0,i.A)(t,3),o=n[0],r=n[1],a=n[2];return(0,Rt.Fn)(new Date(Number(o),Number(r)-1,Number(a)))};const Jn=function(e){if(!(0,In.dR)(e.data))return null;var t="grid"===e.layout?Xn:Gn;return(0,B.jsxs)("div",{children:[e.data.sections.map((function(n,i){return(0,B.jsx)(t,{position:i,title:Zn(n.key),concerts:n.concerts,spec:e.spec},i)})),e.fetchNextPage&&(0,B.jsx)(R.n,{className:Qn,onClick:function(){return e.fetchNextPage&&e.fetchNextPage()},children:p.Ru.get("concerts.load_more")})]})};n(38408),n(8674),n(80456);var $n=n(70087),ei=new G.l("concertFeed","query","b18b88273824b0755eed2f4a94a485af0fe8cb29bf432f12adbc28697a63886d",null),ti=n(75355),ni=n(68576);function ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(n),!0).forEach((function(t){(0,On.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ri=function(e){var t,n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$n.q,c=(0,o.useContext)(ti.j).request,l=a({queryKey:["concert-feed",e.geoHash,e.geonameId,e.dateRange,e.conceptUris],queryFn:function(t){var n=t.pageParam;return(0,ni.c)(c,ei,oi(oi({},e),{},{paginationKey:""===n?null:n}))},staleTime:6e4,gcTime:6e4,enabled:!!e.geoHash||!!e.geonameId,initialPageParam:"",getNextPageParam:function(e){var t,n;if(!(0,In.Bw)(null==e||null===(t=e.data)||void 0===t?void 0:t.liveEventsFeed))return"";var i=null!==(n=e.data.liveEventsFeed.sections.find((function(e){return"AllEvents"===e.__typename})))&&void 0!==n?n:{};return(0,In.dR)(i)?i.paginationKey:""}}),s=null==(r=null===(t=l.data)||void 0===t?void 0:t.pages)?void 0:r.reduce((function(e,t){var n,o,r,a=null==e?void 0:e.liveEventsFeed,c=null==t||null===(n=t.data)||void 0===n?void 0:n.liveEventsFeed;if(!(0,In.Bw)(c)||!(0,In.Bw)(a))return e;var l=null!==(o=a.sections.find((function(e){return"AllEvents"===e.__typename})))&&void 0!==o?o:{},s=(0,In.dR)(l)?l.sections:[],u=null!==(r=c.sections.find((function(e){return"AllEvents"===e.__typename})))&&void 0!==r?r:{},d=(0,In.dR)(u)?u.sections:[],v=[].concat((0,D.A)(s),(0,D.A)(d)).reduce((function(e,t){var n,i=null!==(n=e[t.key])&&void 0!==n?n:[];return(0,In.ys)(t)?oi(oi({},e),{},(0,On.A)({},t.key,[].concat((0,D.A)(i),(0,D.A)(t.concerts)))):e}),{}),m=Object.entries(v).map((function(e){var t=(0,i.A)(e,2);return{key:t[0],concerts:t[1]}}));return{liveEventsFeed:{sections:c.sections.map((function(e){return"AllEvents"===e.__typename||(0,In.dR)(e)?{sections:m,__typename:"AllEvents"}:e}))}}}),{liveEventsFeed:{sections:[]}}),u=null===(n=l.data)||void 0===n||null===(n=n.pages[l.data.pages.length-1])||void 0===n||null===(n=n.data)||void 0===n?void 0:n.liveEventsFeed,d=(0,In.Bw)(u)?u.sections.find((function(e){return"AllEvents"===e.__typename})):void 0;return oi(oi({},l),{},{fetchNextPage:d&&(0,In.dR)(d)&&null!=d&&d.paginationKey?l.fetchNextPage:void 0,data:s})};var ai={AllEvents:Jn,LiveEventSection:qn};const ci=function(e){var t,n,i,o=ri({geoHash:e.location.geoHash||null,geonameId:e.location.geonameId||null,dateRange:null!==(t=e.dateRange)&&void 0!==t&&t.from&&null!==(n=e.dateRange)&&void 0!==n&&n.to?{from:(0,W.bU)(null===(i=e.dateRange)||void 0===i?void 0:i.from),to:(0,W.bU)(e.dateRange.to)}:null,conceptUris:e.conceptUris}),r=o.data,a=o.isLoading,c=o.error,l=o.fetchNextPage;return a?(0,B.jsx)(An.LoadingPage,{hasError:!1,errorMessage:""}):!(0,In.Bw)(null==r?void 0:r.liveEventsFeed)||0===r.liveEventsFeed.sections.length||c?(0,B.jsx)(wn.p,{title:p.Ru.get("concerts.error.no_concerts_found_title"),message:p.Ru.get("concerts.error.no_concerts_found_message",e.location.name),renderInline:!0}):(0,B.jsx)("div",{children:null==r?void 0:r.liveEventsFeed.sections.map((function(t,n){if(!(0,In.w1)(t))return null;var i=ai[t.__typename];return(0,B.jsx)(i,{layout:e.layout,spec:e.spec,fetchNextPage:l,data:t},n)})).filter(In.se)})};var li=n(61521),si=n(41257),ui=new G.l("concertLocationDetails","query","b13f195349f188fee25480ae889d782852d68663bf07743c654244454750d681",null),di=n(65249),vi=function(e){if(e&&"items"in e)return(0,i.A)(e.items,1)[0]};const mi=function(){var e,t,n,r,a,s,u,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.g,v=(0,Nn.W)(),m=(0,c.d4)(di.Ht).isAnonymous,f=d().location,g=(0,l.ok)(),h=(0,i.A)(g,1)[0],p=(0,_.zy)().pathname,j=(0,_.Zp)(),x=null!==(e=null==f?void 0:f.match(/^(\d+)/))&&void 0!==e?e:[],y=(0,i.A)(x,2)[1],b=(0,o.useState)(y?{geonameId:Number(y)}:void 0),C=(0,i.A)(b,2),k=C[0],S=C[1],R=(s={geonameId:null!=k&&k.geonameId?String(null==k?void 0:k.geonameId):null,isAnonymous:m},(0,K.I)(ui,s,u)).data,N=function(e){var t;(S(e),v({type:"click",intent:"change-live-events-location"}),null!=e&&e.geonameId)&&j({pathname:String(e.geonameId)===(null==R||null===(t=R.me)||void 0===t||null===(t=t.profile)||void 0===t||null===(t=t.location)||void 0===t?void 0:t.geonameId)?(0,W.nm)(p,void 0,void 0):(0,W.nm)(p,e.geonameId,e.fullName),search:new URLSearchParams(h).toString()})};if(k){var D,w,A,O=vi(null==R?void 0:R.concertLocations);return{location:{geonameId:null!==(D=k.geonameId)&&void 0!==D?D:Number(null==O?void 0:O.geonameId),geohash:null!==(w=k.geohash)&&void 0!==w?w:null==O?void 0:O.geoHash,name:null!==(A=k.name)&&void 0!==A?A:null==O?void 0:O.name},onChangeLocation:N}}var I=null==R||null===(t=R.me)||void 0===t||null===(t=t.profile)||void 0===t?void 0:t.location,U=vi(null==R?void 0:R.concertLocations);return{location:null!=I&&I.geoHash||null!=U&&U.geonameId?{geohash:null!==(n=null==I?void 0:I.geoHash)&&void 0!==n?n:null==U?void 0:U.geoHash,geonameId:Number(null!==(r=null==I?void 0:I.geonameId)&&void 0!==r?r:null==U?void 0:U.geonameId),name:null!==(a=null==I?void 0:I.name)&&void 0!==a?a:null==U?void 0:U.name}:void 0,onChangeLocation:N}};var fi=n(608),gi=n(12574),hi=n(79916);const pi=function(){var e,t,n=(0,c.d4)(di.Ht).isAnonymous,r=(0,o.useState)("grid"),_=(0,i.A)(r,2),R=_[0],N=_[1],D=mi(),w=D.location,A=D.onChangeLocation,O=(0,g.NC)(hi.tH),I=(0,g.NC)(hi.mY),U=_t(),E=X().conceptUris,F=(0,l.ok)(),P=(0,i.A)(F,2),M=P[0],L=P[1],T=(0,gi.r)(h.s,{}).spec,z=(0,o.useMemo)((function(){return T.headerFactory()}),[T]),H=(0,vt.s)(),W=n&&null!=w&&w.name?p.Ru.get("live_events.location_concert_tickets",w.name):p.Ru.get("live_events.label"),G=function(){var e=z.layoutToggleFactory().hitToggleState({stateBeforeToggle:R,stateAfterToggle:"grid"===R?"list":"grid"});H.logInteraction(e),N("grid"===R?"list":"grid")},K="interested"===M.get("filter"),V=K?u.$:d.H;return(0,B.jsxs)("section",{children:[(0,B.jsx)(x.Q,{children:(0,fi.zV)(null==w?void 0:w.name)}),(0,B.jsxs)(y.z,{size:y.K.SMALL,backgroundColor:s.Hhe,children:[(0,B.jsx)(b.Y,{children:(0,B.jsx)(S.mm,{children:W})}),(0,B.jsx)(C.h,{children:(0,B.jsx)(k.X,{text:W})})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(j.K,{backgroundColor:s.Hhe}),(0,B.jsxs)("div",{className:a()(Pn,"contentSpacing"),children:[(0,B.jsxs)("div",{className:Mn,children:[K?(0,B.jsx)("div",{}):(0,B.jsxs)("div",{className:Bn,children:[(0,B.jsx)(li.A,{headerSpec:z,locationStr:null!==(e=null==w?void 0:w.name)&&void 0!==e?e:"",handleLocationChange:A}),(0,B.jsx)(At,{spec:T}),!n&&I&&(0,B.jsx)(Y,{geohash:null==w?void 0:w.geohash,spec:z})]}),(0,B.jsxs)("div",{className:Ln,children:["grid"===R&&(0,B.jsx)(d.H,{"aria-label":p.Ru.get("concerts.feed_list_layout"),iconOnly:v.N,onClick:G,size:"small"}),"list"===R&&(0,B.jsx)(d.H,{"aria-label":p.Ru.get("concerts.feed_grid_layout"),iconOnly:m.D,onClick:G,size:"small"}),(0,B.jsx)(V,{size:"small",iconLeading:f.E,className:Tn,onClick:function(){return L({filter:K?"":"interested"})},children:p.Ru.get("concerts_interested")})]})]}),K?(0,B.jsx)(Dn,{layout:R,spec:T}):(0,B.jsxs)(B.Fragment,{children:[O&&(0,B.jsx)(si.k,{onLocationChange:A}),(0,B.jsx)(ci,{spec:T,layout:R,location:{geoHash:null==w?void 0:w.geohash,geonameId:null!=w&&w.geonameId?String(w.geonameId):"",name:null!==(t=null==w?void 0:w.name)&&void 0!==t?t:""},conceptUris:0===E.length?null:E,dateRange:U})]})]})]})]})}},68600:(e,t,n)=>{n.d(t,{DL:()=>l,Qe:()=>s,bU:()=>d,he:()=>u,nm:()=>c});var i=n(12341),o=(n(7651),n(14551),n(9267),n(184),n(42486),n(83234),n(75380),n(86746),n(78551),n(45434),n(79024),n(34518),n(38408),n(70750),n(28430),n(68216),n(47994),n(43379),n(2823),n(65594),n(78397),n(82467),n(97460),n(4672),n(46794),n(79210),n(34192),n(80456),n(9582),n(93577),n(42534));var r=function(e,t){if(e.includes(t)){var n=e.split("/"),i=n.findIndex((function(e){return e===t}));return n[i+1]}},a=function(e,t){var n,i,o=["/concerts"];(t.location||e.includes("location")&&null!==t.location)&&(o.push("location"),o.push(String(null!==(n=t.location)&&void 0!==n?n:r(e,"location"))));(t.genre||e.includes("genre")&&null!==t.genre)&&(o.push("genre"),o.push(String(null!==(i=t.genre)&&void 0!==i?i:r(e,"genre"))));return o.join("/")},c=function(e,t,n){if(!t)return a(e,{location:null});var i=null==n?void 0:n.normalize().replaceAll(/\W+/g,"-");return a(e,i?{location:"".concat(t,"-").concat(i)}:{location:t})},l=function(e,t,n){if(!t)return a(e,{genre:null});var i=null==n?void 0:n.normalize().replaceAll(/\W+/g,"-");return a(e,i?{genre:"".concat(t,"-").concat(i)}:{genre:t})},s=function(e){if(e){var t=e.split("-"),n=(0,i.A)(t,1)[0],o=t.reduce((function(e,t,n){return 0===n?e:"".concat(e," ").concat(t)}),"").trim();return{id:"spotify:concept:".concat(n),name:o}}};var u=function(e){return e.ticketers.some((function(e){return"spotify"===e.partnerDisplayName.toLowerCase()}))},d=function(e){return(0,o.x)(e,{representation:"date"})}}}]);
//# sourceMappingURL=xpui-routes-collection-concerts.js.map