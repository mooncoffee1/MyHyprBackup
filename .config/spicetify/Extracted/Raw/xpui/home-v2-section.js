"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1621],{93225:(e,t,n)=>{n.r(t),n.d(t,{HomeV2FullPageSection:()=>J,SKELETON_CARDS_COUNT:()=>K,default:()=>U});var o=n(22507),i=n(5904),a=(n(83234),n(38408),n(43379),n(34192),n(80456),n(64501)),s=n.n(a),r=n(30758),c=n(54075),l=n(97500),u=n.n(l),d=n(99),m=n(17781),h=n(96974),f=n(55920),g=n(65277),v=n(69176),p=n(93868),S=(n(25550),n(15342),n(6029)),x=n(79664),_=n(26123),j=n(86070),y=function(e){var t,n,o=e.section;return(0,j.jsx)(x.p,{id:o.uri,title:null!==(t=null===(n=o.data.title)||void 0===n?void 0:n.transformedLabel)&&void 0!==t?t:"",showAll:!0,index:0,rowGap:S.lT,fullPage:!0,children:o.sectionItems.items.map(_.Gx)})},H=n(72300),w=n(51061),D=n(31625),A=n(19179),I=function(e){var t,n,o=e.section;return(0,j.jsx)(D.x,{config:(0,A.s1)(A.yV.HOME_LOW_DENSITY),children:(0,j.jsx)(x.p,{id:o.uri,title:null!==(t=null===(n=o.data.title)||void 0===n?void 0:n.transformedLabel)&&void 0!==t?t:"",showAll:!0,index:0,rowGap:(0,H.po)("looser"),fullPage:!0,children:o.sectionItems.items.map(w.G)})})},O=(n(47994),n(55323)),C=function(e){var t=e.section;return(0,j.jsx)(D.x,{config:(0,A.s1)(A.yV.MUSIC_VIDEOS),children:(0,j.jsx)(x.p,{id:t.uri,title:d.Ru.get("music_videos"),showAll:!0,index:0,rowGap:(0,H.po)("looser"),fullPage:!0,children:t.sectionItems.items.map((function(e,t){if("TrackResponseWrapper"!==e.content.__typename||"Track"!==e.content.data.__typename)return null;var n=e.content.data;return(0,j.jsx)(O.O,{title:n.name,trackUri:n.uri,artists:n.artists.items,album:n.albumOfTrack,contentRating:n.contentRating,referrerIdentifier:"other",index:t},n.uri)}))})})},b=n(49093),N=n(89907),P=function(e){var t,n=e.section,o=(0,g.NC)(b.hWV);switch("spotify:section:0JQ5DAnM3wGh0gz1MXnu3K"===n.uri&&o&&n.data&&(n.data.__typename="HomeGridSectionData"),null===(t=n.data)||void 0===t?void 0:t.__typename){case"HomeGenericSectionData":return(0,j.jsx)(y,{section:(0,p.M)(n,n.data)});case"HomeMusicVideosSectionData":return(0,j.jsx)(C,{section:(0,p.M)(n,n.data)});case"HomeShortsSectionData":case"HomeRecentlyPlayedSectionData":case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":return null;case"HomeGridSectionData":return o?(0,j.jsx)(I,{section:(0,p.M)(n,n.data)}):null;case"HomeSpotlightSectionData":case"HomePromotionSectionData":case null:case void 0:case"HomeFeatureActivationSectionData":case"HomeWatchFeedSectionData":case"HomeOnboardingSectionDataV2":case"HomeYourDJSectionData":return null;case"HomeFeatureActivationSectionDataV2":return(0,j.jsx)(v.G,{sectionItems:n.sectionItems.items,showAll:!0,uri:n.uri,localStorageKey:n.data.localStorageKey});default:return(0,N.k)(n.data),null}},k=(n(79024),n(93577),n(82629)),G=n(7307),M=(0,r.memo)((function(e){var t=e.cardCount;return(0,j.jsx)(G._,{isLoading:!0,showAll:!0,withTitle:!0,children:(0,o.A)(new Array(t).keys()).map((function(e,t){return(0,j.jsx)(k.u,{isLoading:!0},t)}))})})),L=n(92168),T=n(66919),F=n(47370),R=n(4443),V=n(10363),E=n(90985),K=10,q=function(e){var t,n,a,l=e.uri,m=(0,r.useContext)(F.j).request,g=(0,c.q)({queryKey:["homeV2","section",l,{numberOfItems:20}],queryFn:(a=(0,i.A)(s().mark((function e(t){var n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.pageParam,e.abrupt("return",(0,R.c)(m,f.U3,{uri:l,timeZone:(0,L.Ff)(),sp_t:null!==(n=(0,T.v8)("sp_t"))&&void 0!==n?n:"",sectionItemsOffset:o,sectionItemsLimit:20}));case 2:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),initialPageParam:0,getNextPageParam:function(e){var t,n;if("HomeSectionCollection"===(null==e||null===(t=e.data)||void 0===t||null===(t=t.homeSections)||void 0===t?void 0:t.__typename)&&"HomeSection"===(null===(n=e.data.homeSections.sections[0])||void 0===n?void 0:n.__typename)){var o,i=null===(o=e.data.homeSections.sections[0])||void 0===o?void 0:o.sectionItems.pagingInfo;return i.nextOffset&&i.nextOffset>0?i.nextOffset:void 0}},gcTime:L.gO,staleTime:L.jl}),v=g.data,p=g.isLoading,S=g.error,x=(0,r.useMemo)((function(){return null!=v&&v.pages?v.pages.reduce((function(e,t){var n,i,a;if(null==t||null===(n=t.data)||void 0===n||!n.homeSections||"HomeSectionCollection"!==(null==t||null===(i=t.data)||void 0===i?void 0:i.homeSections.__typename)||0===t.data.homeSections.sections.length)return e;switch(null===(a=t.data.homeSections.sections[0])||void 0===a?void 0:a.__typename){case"HomeSection":return null===e?(0,V.h)(t.data.homeSections.sections[0]):(e.sectionItems.items=[].concat((0,o.A)(e.sectionItems.items),(0,o.A)(t.data.homeSections.sections[0].sectionItems.items)),e);case"GenericError":case"NotFound":return e;default:return(0,N.k)(t.data.homeSections.sections[0]),e}}),null):null}),[null==v?void 0:v.pages]);if(p)return(0,j.jsx)("section",{"data-testid":"home-page",children:(0,j.jsx)("div",{className:E.A.home,children:(0,j.jsx)("div",{className:u()(E.A.homepageContent,"contentSpacing"),children:(0,j.jsx)(M,{cardCount:K})})})});if(null!==S)return(0,j.jsx)(h.LoadingPage,{hasError:!0,errorMessage:d.Ru.get("error.generic")});var _=null==v||null===(t=v.pages[0])||void 0===t||null===(t=t.data)||void 0===t?void 0:t.homeSections;return"HomeSectionCollection"!==(null==_?void 0:_.__typename)||0===_.sections.length||"HomeSection"!==(null===(n=_.sections[0])||void 0===n?void 0:n.__typename)||null===x?(0,j.jsx)(h.LoadingPage,{hasError:!0,errorMessage:d.Ru.get("error.generic")}):(0,j.jsx)("section",{"data-testid":"home-section-page",children:(0,j.jsx)("div",{className:E.A.home,children:(0,j.jsx)("div",{className:u()(E.A.homepageContent,"contentSpacing"),children:(0,j.jsx)(P,{section:x})})})})},J=function(e){var t=e.uri;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(m.Q,{children:d.Ru.get("page.generic-title")}),(0,j.jsx)(q,{uri:t})]})};const U=J},10363:(e,t,n)=>{n.d(t,{h:()=>i});var o=n(13707);n(42486),n(79024),n(26851),n(9750),n(71425),n(5672),n(43379),n(59255),n(20031),n(44967),n(96403),n(83355),n(41214);function i(e){return"object"!==(0,o.A)(e)||null===e?e:window.structuredClone?window.structuredClone(e):JSON.parse(JSON.stringify(e))}}}]);
//# sourceMappingURL=home-v2-section.js.map