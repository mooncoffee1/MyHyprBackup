"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[6457,7078],{44303:(e,t,r)=>{r.d(t,{p:()=>g});var n=r(5904),i=r(64501),a=r.n(i),o=r(30758),l=r(94822),s=r(55347),c=r(65941),u=r(46400),d=r(40494),p=r(38672),y=r(86070),g=o.memo((function(e){var t=e.uri,r=e.divider,i=e.removeLabel,g=(0,l.wA)(),f=!(0,d.n)(),m=(0,p.f)(),b=(0,o.useCallback)((0,n.A)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g((0,c.aw)(t,!0));case 1:case"end":return e.stop()}}),e)}))),[g,t]);return(0,y.jsx)(u.D,{role:"menuitem",divider:r,disabled:f&&!(null!=m&&m.getCapabilities().canModifyOffline),onClick:b,leadingIcon:(0,y.jsx)(s.k,{semanticColor:"textBrightAccent",size:"small"}),children:i})}))},59908:(e,t,r)=>{r.d(t,{P:()=>m});var n=r(30758),i=r(99),a=r(56818),o=r(69089),l=r(8047),s=r(70417),c=r(24249),u=r(44303),d=r(14816),p=r(88273),y=r(66070),g=r(97579),f=r(86070),m=n.memo((function(e){var t=e.uri,r=e.artistUri,n=e.canPin,m=void 0===n?p.oT.NO:n,b=e.isPinned,v=void 0!==b&&b,h=e.canRemove,x=void 0!==h&&h,P=(0,y.o)(t).spec;return(0,f.jsx)(d.pZ,{value:"album",children:(0,f.jsxs)(a.W,{children:[x&&(0,f.jsx)(u.p,{uri:t,removeLabel:i.Ru.get("contextmenu.remove-from-library")}),r&&(0,f.jsx)(l.z,{spec:P,divider:"after",uri:r,displayText:i.Ru.get("contextmenu.go-to-artist-radio")}),m!==p.oT.NO&&(0,f.jsx)(c.k,{uri:t,canPin:m,isPinned:v,type:g.c.PRE_RELEASE_ALBUM,spec:P}),(0,f.jsx)(o.m,{uri:t,spec:P,displayText:i.Ru.get("context-menu.copy-album-link")}),(0,f.jsx)(s.q,{spec:P,divider:"before",uri:t})]})})}))},15824:(e,t,r)=>{r.d(t,{$:()=>m});r(7651),r(30456),r(26701),r(37417),r(11737),r(51691),r(702),r(5672),r(43379),r(34192),r(88856),r(51565),r(18316);var n=r(51488),i=r(48),a=r(30758),o=(r(86746),r(53276),r(97460),r(49937)),l=r(90597);function s(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){if((0,l.fk)(e)){var i=e.querySelector('[tabindex="0"]');t===o.O.UP&&(0,l.MS)(i,c(e,i,o.O.UP,r,n)),t===o.O.DOWN&&(0,l.MS)(i,c(e,i,o.O.DOWN,r,n))}}else console.error("No list element found. Canceling moving focus")}function c(e,t,r,n,i){var a=t.closest('li[role="listitem"]');if(!a)return t;var s,c=a,u=t,d=Array.from(e.querySelectorAll('li[role="listitem"]')),p=d.indexOf(a);if(p<0)return t;if(r===o.O.UP){if(document.activeElement===e){var y;if(c=d[d.length-1],i){var g,f=null===(g=c)||void 0===g?void 0:g.querySelectorAll(l.nu);u=f[f.length-1]}else{var m;u=null===(m=c)||void 0===m?void 0:m.querySelector(l.nu)}return null!==(y=u)&&void 0!==y?y:t}if(i){var b=Array.from(a.querySelectorAll(l.nu)),v=b.indexOf(t)-1;if(v>=0)return b[v]}var h=p-1;do{if(c=d[h],n&&!c&&(h=d.length-1,c=d[h]),i){var x,P=null===(x=c)||void 0===x?void 0:x.querySelectorAll(l.nu);u=P?P[P.length-1]:null}else{var O;u=null===(O=c)||void 0===O?void 0:O.querySelector(l.nu)}h-=1}while(!u&&(!n&&h>=0||n&&p!==h))}else if(r===o.O.DOWN){var j,w;if(document.activeElement===e)return c=d[0],null!==(w=u=null===(j=c)||void 0===j?void 0:j.querySelector(l.nu))&&void 0!==w?w:t;if(i){var S=Array.from(a.querySelectorAll(l.nu)),A=S.indexOf(t)+1;if(A<S.length)return S[A]}var D=p+1;do{var C;c=d[D],n&&!c&&(c=d[D=0]),u=null===(C=c)||void 0===C?void 0:C.querySelector(l.nu),D+=1}while(s=void 0,s=!n&&D<=d.length,!u&&(s||n&&p!==D))}return u||t}var u=r(28540),d=r(9550),p=r(86070),y=["onKeyDown","children","circular","allowsMultipleInteractiveChildrenInItem"];function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=(0,a.forwardRef)((function(e,t){var r=e.onKeyDown,n=e.children,c=e.circular,g=void 0===c||c,m=e.allowsMultipleInteractiveChildrenInItem,b=void 0!==m&&m,v=(0,i.A)(e,y),h=(0,d.N)(t);(0,u.R)(h);var x=(0,a.useCallback)((function(e){var t;null!==(t=h.current)&&void 0!==t&&t.contains(e.target)&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),document.documentElement.classList.remove("no-focus-outline")),"ArrowUp"===e.key&&s(h.current,o.O.UP,g,b),"ArrowDown"===e.key&&s(h.current,o.O.DOWN,g,b),null==r||r(e))}),[g,b,h,r]),P=(0,a.useCallback)((function(e){if(h.current){var t=e.target,r=h.current.querySelector('[tabindex="0"]');t.closest('li[role="listitem"]')&&t!==r&&(0,l.MS)(r,t,{preventScroll:!0})}}),[h]);return(0,p.jsx)("ul",f(f({role:"list",ref:h,onKeyDown:x,onFocus:P,tabIndex:0},v),{},{children:n}))}))},99794:(e,t,r)=>{r.d(t,{e:()=>d});r(7651),r(30456),r(26701),r(37417),r(11737),r(51691),r(702),r(5672),r(43379),r(34192),r(88856),r(51565),r(18316);var n=r(51488),i=r(48),a=r(1251);const o="k270skPbT7JOaSidSA2a";var l=r(86070),s=["iconSize"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){var t=e.iconSize,r=void 0===t?64:t,n=(0,i.A)(e,s);return(0,l.jsx)("div",{className:o,children:(0,l.jsx)(a.E,u(u({iconSize:r},n),{},{semanticColor:"textBrightAccent","aria-hidden":!0}))})}},37078:(e,t,r)=>{r.r(t),r.d(t,{CompactModeState:()=>zl,YourLibraryX:()=>yc,useLibraryRowMode:()=>Xl});var n=r(22507),i=r(5904),a=r(51488),o=r(48),l=r(71523),s=r(64501),c=r.n(s),u=(r(7651),r(16347),r(83234),r(30456),r(26701),r(25550),r(37417),r(11737),r(51691),r(702),r(5672),r(43379),r(18653),r(34192),r(88856),r(51565),r(15342),r(18316),r(30758)),d=r(97500),p=r.n(d),y=r(96131),g=r(94822),f=r(15057),m=r(88308),b=r(65277),v=r(63171),h=r(4630),x=r(59414),P=r(56818),O=r(44807),j=r(68749),w=r(99),S=r(46400),A=r(33786),D=r(32093),C=r(14816),I=r(68113),T=r(86070);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=function(e){var t=e.position,r=e.divider,n=e.onCreateCallback,i=void 0===n?function(){}:n,a=e.spec,o=(0,A.W)(),l=(0,D.A)().createPlaylist,s=(0,I.s)(),c=(0,u.useCallback)((function(){o({intent:"create-playlist",type:"click"});var e=a.createButtonFactory().hitCreatePlaylist();e&&s.logInteraction(e),l(w.Ru.get("playlist.default_playlist_name"),t),i()}),[o,a,s,l,t,i]);return(0,T.jsx)(S.D,{role:"menuitem",divider:r,onClick:c,leadingIcon:(0,T.jsx)(j.u,{semanticColor:"textSubdued",size:"small"}),children:w.Ru.get("contextmenu.create-playlist")})},L=u.memo((function(e){return(0,T.jsx)(C.pZ,{value:"create-playlist",children:(0,T.jsx)(k,E({},e))})})),N=r(88273),F=r(66070),M=u.memo((function(e){var t=e.folderUri,r=e.onCreateCallback,n=t?{after:{uri:t}}:{before:"start"},i=(0,F.o)(null!=t?t:N.gv).spec;return(0,T.jsx)(C.pZ,{value:"folder",children:(0,T.jsxs)(P.W,{children:[(0,T.jsx)(L,{position:n,onCreateCallback:r,spec:i}),(0,T.jsx)(O.j,{position:n,onCreateCallback:r,spec:i})]})})})),B=r(96635),U=r(98039),V=r(63190),_=r(18367),H=r(52952),z=r(45247),X=r(76857),W=r(81001),Y=r(59633),K=r(62035),G=r(79655),Z=r(36560),J=r(73996),q=r(86588),Q=r(16696),$=r(49093),ee=r(31574),te=1248,re=800,ne=(0,ee.g)(J.Z),ie=(0,ee.g)(q.fX),ae=function(){var e,t,r,n,i,a,o,l,s,c,d,p,g,f,m,b,v,h,x,P,O,j,w;return e=(0,K.y)(),t=e.size,r=e.setSize,n=e.minWidth,i=e.maxWidth,a=e.ylxCollapsedStateNavbarWidth,o=e.ylxDefaultStateNavbarWidth,l=e.ylxExpandedStateNavbarWidth,s=(0,q.$)(),c=s.ylxSidebarState,d=s.setYlxSidebarState,p=s.canCollapse,g=(0,G.XB)(),f=(0,G._Y)(),m=(0,G.Zf)(),b=m.min,v=m.max,h=m.size,x=m.setSize,P=(0,Q.H)(),O=(0,u.useRef)(null),j=(0,u.useRef)(null),w=(0,u.useRef)(null),(0,u.useLayoutEffect)((function(){var e=P-t-3*W.KV-(g!==J.Z.Disabled?h+W.KV:0),s={leftSidebarWidth:t,leftSidebarMinWidth:n,leftSidebarMaxWidth:i,ylxSidebarState:c,ylxSidebarStateRestoreTarget:O.current,rightSidebarWidth:h,rightSidebarMinWidth:b,rightSidebarMaxWidth:v,rightSidebarPanel:g,rightSidebarPanelRestoreTarget:j.current,storedCollapsedYLXWidth:a,storedDefaultYLXWidth:o,storedExpandedYLXWidth:l,clientWidth:P,mainContentWidth:e,canCollapse:p},u=w.current;if(!(0,y.j)(s,u)){var m=function(e,t){if(!e)return{};var r=t.leftSidebarWidth,n=void 0===r?0:r,i=t.rightSidebarWidth,a=void 0===i?0:i,o=t.mainContentWidth,l=void 0===o?0:o,s=t.leftSidebarMinWidth,c=void 0===s?0:s,u=t.leftSidebarMaxWidth,d=void 0===u?0:u,p=t.ylxSidebarState,y=t.ylxSidebarStateRestoreTarget,g=t.rightSidebarMinWidth,f=void 0===g?0:g,m=t.rightSidebarMaxWidth,b=void 0===m?0:m,v=t.rightSidebarPanel,h=t.rightSidebarPanelRestoreTarget,x=t.storedCollapsedYLXWidth,P=void 0===x?0:x,O=t.storedDefaultYLXWidth,j=void 0===O?0:O,w=t.storedExpandedYLXWidth,S=void 0===w?0:w,A=t.clientWidth,D=void 0===A?0:A,C=t.canCollapse,I=void 0===C||C,T={},R=v!==J.Z.Disabled,E=void 0!==e.leftSidebarWidth&&n>e.leftSidebarWidth,k=void 0!==e.rightSidebarWidth&&a>e.rightSidebarWidth,L=void 0===e.clientWidth?0:D-e.clientWidth,N=L<0,F=D>0,M=l<W.ev?W.ev-l:0,B=N?-1*L:0;l>te?B=Math.max(0,B-(l-te)):M&&(B=M);var U=p===q.fX.EXPANDED&&e.ylxSidebarState!==q.fX.EXPANDED,V=p===q.fX.DEFAULT&&e.ylxSidebarState!==q.fX.DEFAULT,_=n-c;E&&(_=U?n-Y.ZU.EXPANDED_MIN:V?n-Y.ZU.DEFAULT_MIN:0);var H=k?0:a-f,z=B<=_+H;if(l<W.ev&&!z)R&&(E||N&&(p===q.fX.COLLAPSED||!I))?(T.rightSidebarPanel=J.Z.Disabled,T.rightSidebarPanelRestoreTarget=t.rightSidebarPanel,B-=a,H=0):(p===q.fX.EXPANDED&&l+(n-Y.ZU.DEFAULT_MIN)>W.ev?(T.ylxSidebarState=q.fX.DEFAULT,B-=n-j,_=j-Y.ZU.DEFAULT_MIN):(T.ylxSidebarState=q.fX.COLLAPSED,B-=n-P,_=0),T.ylxSidebarStateRestoreTarget=t.ylxSidebarState);else if(v===J.Z.Disabled&&h!==J.Z.Disabled&&ne(h)&&v!==e.rightSidebarPanelRestoreTarget&&l-a-W.KV>=W.ev)T.rightSidebarPanel=h,T.rightSidebarPanelRestoreTarget=null;else if(p===q.fX.DEFAULT&&y===q.fX.EXPANDED&&l-(S-n)>=W.ev)T.ylxSidebarState=q.fX.EXPANDED,T.ylxSidebarStateRestoreTarget=null;else if(p===q.fX.COLLAPSED&&y===q.fX.DEFAULT&&l-(j-n)>=W.ev)T.ylxSidebarState=q.fX.DEFAULT,T.ylxSidebarStateRestoreTarget=null;else if(F&&l>=re)for(var X=d-n,K=b-a,G=Math.min(L,X+K),Z=0;Z<G;Z++)n<a&&n<d&&X>0?(n++,X--):a<b&&K>0&&(a++,K--);if(p!==e.ylxSidebarState&&ie(y)&&y===e.ylxSidebarStateRestoreTarget&&(T.ylxSidebarStateRestoreTarget=null),v!==e.rightSidebarPanel&&ne(h)&&h===e.rightSidebarPanelRestoreTarget&&(T.rightSidebarPanelRestoreTarget=null),B>0&&B<=_+H)for(var Q=0;Q<B;Q++)n>a&&n>c&&_>0?(n--,_--):a>f&&H>0&&(a--,H--);return n&&n!==t.leftSidebarWidth&&(T.leftSidebarWidth=n),a&&a!==t.rightSidebarWidth&&(T.rightSidebarWidth=a),T}(u,s);void 0!==m.leftSidebarWidth&&r(m.leftSidebarWidth),ie(m.ylxSidebarState)&&d(m.ylxSidebarState),void 0!==m.ylxSidebarStateRestoreTarget&&(O.current=m.ylxSidebarStateRestoreTarget),void 0!==m.rightSidebarWidth&&0!==(null==u?void 0:u.rightSidebarWidth)&&x(m.rightSidebarWidth),void 0!==m.rightSidebarPanel&&f((0,Z.MQ)(m.rightSidebarPanel)),void 0!==m.rightSidebarPanelRestoreTarget&&(j.current=m.rightSidebarPanelRestoreTarget),w.current=s}}),[t,n,i,r,c,h,b,v,x,g,a,o,l,d,f,P,p]),null},oe=function(){return(0,b.NC)($.Wfl,{loadingValue:!1})?(0,T.jsx)(ae,{}):null};var le=r(83635),se=(r(184),r(42486),r(63318)),ce=r(65968),ue=(r(86746),r(79024),r(28430),r(59255),r(85130),r(55636),r(28509),r(97332),r(46555),r(13296),r(24594),r(97460),r(9582),r(93577),function(e){return e.YLX_SORT_AND_VIEW_PICKER="ylx-sort-and-view-picker",e.YLX_CUSTOM_ORDERING="ylx-custom-ordering",e.REFINERS_PICKER="refiners-picker",e}({})),de=function(e){return e.URGENT="urgent",e.CONTEXTUAL="contextual",e.DEFAULT="default",e}({}),pe=function(){function e(){(0,se.A)(this,e),(0,a.A)(this,"itemsRecord",(0,a.A)((0,a.A)((0,a.A)({},de.URGENT,new Set),de.CONTEXTUAL,new Set),de.DEFAULT,new Set)),(0,a.A)(this,"visibleItem",null)}return(0,ce.A)(e,[{key:"getNextItem",value:function(){var t=this,r=null;return e.PRIORITIES.some((function(e){var n,i=t.itemsRecord[e];return r=null!==(n=Array.from(i).at(-1))&&void 0!==n?n:null})),r}},{key:"updateVisibility",value:function(t,r,n){var i=this.visibleItem;"add"===n?this.itemsRecord[r].add(t):this.itemsRecord[r].delete(t);var a=this.getNextItem();return this.visibleItem=a,i===a?e.NO_CHANGE:{keyToShow:a,keyToHide:i}}}])}();(0,a.A)(pe,"PRIORITIES",[de.URGENT,de.CONTEXTUAL,de.DEFAULT]),(0,a.A)(pe,"NO_CHANGE",{keyToShow:null,keyToHide:null});r(90489);var ye=r(42399),ge=r(58213),fe=r(10942),me=r(67939);function be(e,t,r){return t=(0,ge.A)(t),(0,ye.A)(e,ve()?Reflect.construct(t,r||[],(0,ge.A)(e).constructor):t.apply(e,r))}function ve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ve=function(){return!!e})()}var he=function(e){return e.VISIBILITY_GRANTED="visibilityGranted",e.VISIBILITY_DENIED="visibilityDenied",e}({}),xe=function(e){function t(){return(0,se.A)(this,t),be(this,t,arguments)}return(0,fe.A)(t,e),(0,ce.A)(t)}(me.V),Pe=(0,u.createContext)({notifyShowInterest:function(){throw new Error("notifyShowInterest must be used within a VisibilityOrchestratorProvider")},notifyHideInterest:function(){throw new Error("notifyHideInterest must be used within a VisibilityOrchestratorProvider")},events:new xe}),Oe=function(e){var t=e.children,r=(0,u.useMemo)((function(){return new pe}),[]),n=(0,u.useRef)(new xe),i=(0,u.useCallback)((function(e,t){t&&n.current.emitSync(he.VISIBILITY_DENIED,{key:t}),e&&n.current.emitSync(he.VISIBILITY_GRANTED,{key:e})}),[]),a=(0,u.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:de.DEFAULT,n=r.updateVisibility(e,t,"add"),a=n.keyToShow,o=n.keyToHide;i(a,o)}),[r,i]),o=(0,u.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:de.DEFAULT,n=r.updateVisibility(e,t,"remove"),a=n.keyToShow,o=n.keyToHide;i(a,o)}),[r,i]);return(0,T.jsx)(Pe.Provider,{value:{events:n.current,notifyShowInterest:a,notifyHideInterest:o},children:t})},je=r(17588);r(70585),r(24302),r(78551),r(57149),r(47994),r(82467),r(49166);r(40065),r(4865);r(53276),r(70750),r(47710);r(68216),r(78397);var we=r(89907);r(51694);var Se=function(){return(0,ce.A)((function e(){(0,se.A)(this,e),(0,a.A)(this,"events",new me.V)}),[{key:"addRefiners",value:function(){throw new Error("Method not implemented.")}},{key:"removeRefiners",value:function(){throw new Error("Method not implemented.")}},{key:"getEvents",value:function(){return this.events}},{key:"updateSelectedRefinersOrder",value:function(e){throw new Error("Method not implemented.")}}])}(),Ae=(0,u.createContext)(null),De=(r(1131),r(44280)),Ce=(r(18022),r(72211));r(75378);var Ie=function(e){var t=e.children,r=(0,u.useMemo)((function(){return new Se}),[]);return(0,T.jsx)(Ae.Provider,{value:r,children:t})},Te=(r(51234),function(){return null}),Re=function(){return null},Ee=function(){return null},ke=function(){return null},Le=function(){return null},Ne=(r(71425),{focusElement:function(){},getFocusElement:function(){return null},registerFocusElement:function(){return function(){}}}),Fe=(0,u.createContext)(Ne),Me=(0,ce.A)((function e(){(0,se.A)(this,e),(0,a.A)(this,"focusElement",(function(){})),(0,a.A)(this,"getFocusElement",(function(){return null})),(0,a.A)(this,"registerFocusElement",(function(){return function(){}}))})),Be=function(e){var t=e.children,r=(0,u.useMemo)((function(){return new Me}),[]);return(0,T.jsx)(Fe.Provider,{value:r,children:t})},Ue=r(73413),Ve=function(){return{cheetaraOnboardingIsActive:!1,setCheetaraOnboardingIsActive:function(){},cheetaraOnboardingDismissed:!1,setCheetaraOnboardingDismissed:function(){},handleCloseCheetaraOnboarding:function(){},cheetaraTooltipVisible:!1,setCheetaraTooltipVisible:function(){}}},_e=(r(48716),function(){return!1}),He=r(8070),ze=(r(60287),r(7852)),Xe=r(53865),We=r(67124),Ye=r(7383),Ke=r(20709);const Ge="rqGyIqd3Igk05BEB2ZC6",Ze="WycFx_Gl2tUXbUJpZiD8";var Je=function(){var e=(0,u.useState)(!1),t=(0,l.A)(e,2),r=t[0],n=t[1],i=(0,We.V)(),a=(0,g.d4)(Ye.JJ);(0,u.useEffect)((function(){var e=setTimeout((function(){n(!0)}),1100);return function(){n(!1),clearTimeout(e)}}),[]);var o=(0,g.d4)(Ye.mo);return i&&r?(0,T.jsx)(Xe.t5,{language:w.Ru.getLocaleForSmartling(),market:a.toLowerCase(),children:(0,T.jsxs)("div",{className:Ge,"data-testid":"left-sidebar-legal-links",children:[(0,T.jsx)(Xe.JM,{}),(0,T.jsx)("a",{draggable:!1,href:Ke.Bl,target:"_blank",rel:"noopener",className:Ze,children:(0,T.jsx)(ze.E,{variant:"marginal",children:w.Ru.get("cookies")})}),o&&(0,T.jsx)("a",{draggable:!1,href:Ke.Vd,target:"_blank",rel:"noopener",className:Ze,children:(0,T.jsx)(ze.E,{variant:"marginal",children:"Форма для Ваших обращений"})})]})}):null};const qe="YNnobzGm5w3XKBniKdW9";var Qe=(0,u.memo)((function(e){var t=e.isAnonymous;return(0,T.jsx)("div",{className:qe,"data-testid":"left-sidebar-footer",children:t&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Je,{}),(0,T.jsx)(He.X,{})]})})})),$e=r(57826),et=r(84701),tt=r(13643),rt=r(98538),nt=r(31729),it=r(60677),at=r(57965);const ot="lvJXjYO7YXxGKHcgx5pe",lt="yYGZUqSKJttCw_Z2JvPL",st="wkyebhrfwyJPCfDhQgbp";var ct=function(){var e=(0,nt.sy)(),t=(0,I.s)(),r=(0,g.wA)(),n=(0,at.r)(tt.V,{}).spec,i=w.Ru.get("web-player.your-library-x.dsa-message",w.Ru.get("web-player.your-library-x.dsa-message-link")),a=(0,u.useCallback)((function(){r(it.r8.actions.open()),t.logInteraction(n.learnMoreButtonFactory().hitUiReveal())}),[r,t,n]);return(0,T.jsx)("div",{className:ot,children:e?(0,T.jsx)(rt.Zp,{label:(0,T.jsx)(ze.E,{children:i}),placement:"right",showDelay:0,children:(0,T.jsx)("div",{className:lt,children:(0,T.jsx)($e.p,{"aria-label":i})})}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{children:(0,T.jsx)($e.p,{size:"small"})}),(0,T.jsx)(ze.E,{as:"p",semanticColor:"textSubdued",children:w.Ru.get("web-player.your-library-x.dsa-message",(0,T.jsx)(et.H,{condensedAll:!0,size:"small",semanticColor:"textBase",onClick:a,className:st,children:(0,T.jsx)(ze.E,{variant:"bodyMedium",children:w.Ru.get("web-player.your-library-x.dsa-message-link")})}))})]})})};const ut="AhNLpx0iVnlj4SuL_Gaw",dt="JyZRugeRBHbUtS5ABOQ8";var pt=function(e){var t=e.className;return(0,T.jsx)("section",{className:p()(ut,t),children:(0,T.jsxs)("div",{className:dt,children:[(0,T.jsx)(ze.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:w.Ru.get("web-player.your-library-x.empty-state-folder-title")}),(0,T.jsx)(ze.E,{as:"p",variant:"bodySmall",semanticColor:"textBase",children:w.Ru.get("web-player.your-library-x.empty-state-folder-subtitle")})]})})},yt=r(3605),gt=r(99226);function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var bt={getTitle:function(){return w.Ru.get("action-trigger.create-playlist")},getDescription:function(){return w.Ru.get("action-trigger.login-playlist")}},vt=function(e){var t=e.children,r=e.renderInline;return(0,T.jsx)(yt.y,{id:gt.x9,options:mt(mt({},bt),{},{renderInline:r}),children:t})},ht=r(36734),xt=r(42);const Pt="CfruGiDGW_FH4l65GMpb",Ot="fIgbQ9qpINdyy__tkaHi",jt="wv308QWnPnkI8n0GdqYO";var wt=(0,u.memo)((function(e){var t=e.message,r=e.title,n=e.linkTitle,i=e.linkTo,a=e.onClick,o=e.className;return(0,T.jsxs)("section",{className:p()(Pt,o),children:[(0,T.jsxs)("div",{className:Ot,children:[(0,T.jsx)(ze.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:r}),(0,T.jsx)(ze.E,{variant:"bodySmall",semanticColor:"textBase",children:t})]}),(0,T.jsx)("div",{className:jt,children:n&&(i||a)&&(0,T.jsx)(ht.$,{className:jt,as:a?"button":void 0,colorSet:"invertedLight",href:i,onClick:a,component:xt.v,size:"small",children:n})})]})})),St=function(e){var t=e.className,r=(0,D.A)().createPlaylist,n=(0,u.useCallback)((function(){r()}),[r]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(vt,{renderInline:!1,children:(0,T.jsx)(wt,{onClick:n,linkTitle:w.Ru.get("web-player.your-library-x.empty-state-playlists-cta"),title:w.Ru.get("web-player.your-library-x.empty-state-playlists-title"),message:w.Ru.get("web-player.your-library-x.empty-state-playlists-subtitle"),className:t})}),(0,T.jsx)(wt,{linkTo:"/genre/podcasts-web",linkTitle:w.Ru.get("web-player.your-library-x.empty-state-podcasts-browse"),title:w.Ru.get("web-player.your-library-x.empty-state-podcasts-to-follow"),message:w.Ru.get("web-player.your-library-x.empty-state-podcasts-keep-you-updated"),className:t})]})};const At="NOXrKH_1anB9lsOlyv5g",Dt="FIARvjbv_YZKwz7yxNHw",Ct="Fqrv8StT3DnEAfntIKCg",It="JydI9ZzWnssPC899sOGP";var Tt=function(e){var t=e.query,r=e.className;return(0,T.jsxs)("div",{className:p()(At,r),"data-testid":"no-search-results-view",children:[(0,T.jsx)(ze.E,{as:"h1",variant:"bodyMediumBold",className:Dt,children:w.Ru.get("web-player.your-library-x.empty-results-title-short",(0,T.jsx)("span",{className:Ct,children:(0,T.jsx)("span",{className:It,children:t})}))}),(0,T.jsx)(ze.E,{as:"h2",variant:"bodySmall",children:w.Ru.get("web-player.your-library-x.empty-results-text-short")})]})},Rt=r(95334);const Et="vhOeYrTmSoea5vemsMpv",kt="pCKhe1uJhYBUC4YVmz9B";var Lt=function(e){var t=e.onClick;return(0,T.jsxs)("div",{className:Et,children:[(0,T.jsx)("div",{className:"icon",children:(0,T.jsx)(Rt.b,{size:"xlarge",semanticColor:"textBase"})}),(0,T.jsxs)("div",{className:kt,children:[(0,T.jsx)(ze.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:w.Ru.get("web-player.your-library-x.error-title")}),(0,T.jsx)(ze.E,{as:"p",variant:"bodySmall",semanticColor:"textBase",children:w.Ru.get("web-player.your-library-x.error-body")})]}),(0,T.jsx)("div",{children:(0,T.jsx)(ht.$,{onClick:t,colorSet:"invertedLight",size:"small",children:w.Ru.get("web-player.your-library-x.error-button")})})]})},Nt=(0,u.createContext)(null);var Ft=function(e){var t=e.children,r=function(){var e=(0,Ue.x)("ylx-expanded-folders",[]),t=(0,l.A)(e,2),r=t[0],i=t[1],a=(0,u.useCallback)((function(e){return r.includes(e)}),[r]),o=(0,u.useCallback)((function(e,t){var a=r.indexOf(e);if(t){if(-1!==a)return;i([].concat((0,n.A)(r),[e]))}else{if(-1===a)return;i(r.filter((function(t){return t!==e})))}}),[r,i]);return{expandedFolders:r,getIsFolderExpanded:a,setIsFolderExpanded:o}}();return(0,T.jsx)(Nt.Provider,{value:r,children:t})};const Mt="fYWNdY4zhj4OX_T2Xtg6",Bt="BRX6aJUAuAsvHKD_fpbo",Ut="ZZsPF3Sn4h7m0_5Clhk0",Vt="IZq_xBKdh88HLD4QY90X",_t="PUipCs3_0Qott0Sru3pB",Ht="XAOxFVWnd185_vZ5zPGu",zt="YsCa3XbOXEm79LH0B7do",Xt="eC25_w41L83mXDCqdm_A",Wt="VyDwqqtx0153zD8a3TED",Yt="rOgsguaurlHVlgCTY0P7",Kt="zS8ATyQNwnAiEoPrCcIo",Gt="Zwr4MoUVImDin82vBn4y",Zt="lb8li6m8Zei4tr0zNKxX",Jt="aK6vld0FgHGxjz6IiHyS",qt="Xw1OibA6EkrU4F47EMw9",Qt="_EFIA9HjgZxxgTSZzQcg",$t="JUPaw8kZF94Coth4G88s",er="main-yourLibraryX-listItem",tr="BfALkuQy0UjTI70U9QlQ",rr="c1PJ2LHU0EnzyA0jDc1j";var nr=function(e){var t=e.isScrolled;return(0,T.jsxs)("div",{className:p()(Gt,Jt,(0,a.A)({},qt,t)),children:[(0,T.jsx)(ze.E,{variant:"marginalBold",semanticColor:"textSubdued",children:w.Ru.get("web-player.your-library-x.expanded-list-header.title")}),(0,T.jsx)(ze.E,{variant:"marginalBold",semanticColor:"textSubdued",children:w.Ru.get("web-player.your-library-x.expanded-list-header.date-added")}),(0,T.jsx)(ze.E,{variant:"marginalBold",semanticColor:"textSubdued",children:w.Ru.get("web-player.your-library-x.expanded-list-header.played-at")})]})},ir=r(62205),ar=function(){return null},or=function(){return null};var lr=function(){return{getFocusElement:null,registerFocusElement:null}},sr=r(20087),cr=r(38672);const ur="a2XwshgvydvJO9If_GzQ",dr="aVLBGREPTnbTFhkSdUMV",pr="ViXEX4SVVU_NA7zcS9kd",yr="pQvrkwXAqZnbSqJiiQuo",gr="mA1QNQx6oUXgQ8kMID2S";var fr=["filterId","isPrimaryFilter","isPlaceholder","resetFilterIds","toggleFilterId","allowedDropTargetMimeTypes","className","innerRef","index","spec"],mr=["className","dropPosition"];function br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?br(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):br(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var hr={marginBlockEnd:0,willChange:"transform, opacity"},xr=function(e){var t=e.filterId,r=e.isPrimaryFilter,n=e.isPlaceholder,i=e.resetFilterIds,l=e.toggleFilterId,s=e.allowedDropTargetMimeTypes,c=void 0===s?U.Vp:s,d=e.className,y=e.innerRef,g=e.index,f=void 0===g?0:g,m=e.spec,b=(0,o.A)(e,fr),v=(0,I.s)(),h=(0,cr.f)(),x=b.selected,P=t?h.getFilterLabel(t):"",O=(0,u.useCallback)((function(){!t||x&&r?(i(),x&&r&&t?v.logInteraction(m.filterChipFactory({identifier:P,position:f}).hitClearFilter()):v.logInteraction(m.clearButtonFactory().hitClearFilter())):(l(t),x?v.logInteraction(m.filterChipFactory({identifier:P,position:f}).hitClearFilter()):v.logInteraction(m.filterChipFactory({identifier:P,position:f}).hitFilter()))}),[t,P,x,r,i,l,f,v,m]),j=(0,u.useCallback)((function(e){e.detail>1||n||O()}),[n,O]),w=(0,V.A)({allowedMimeTypesByDropPosition:(0,a.A)({},U.Nz.ON,c),onLongDragOver:O}),S=w.className,A=w.dropPosition,D=(0,o.A)(w,mr);return(0,T.jsx)(sr.v,vr(vr(vr(vr({},b),{},{"aria-label":b["aria-label"]},D),A===U.Nz.ON?{selectedColorSet:"base"}:void 0),{},{className:p()(d,S,(0,a.A)((0,a.A)({},dr,A===U.Nz.ON),gr,n)),onClick:j,selectedColorSet:A===U.Nz.ON?"invertedDark":"invertedLight",secondary:x&&!r,style:hr,ref:y,tabIndex:-1}))},Pr=r(94389),Or=["filterId","isPrimaryFilter","isPlaceholder","resetFilterIds","toggleFilterId","allowedDropTargetMimeTypes","className","innerRef","index","spec"],jr=["className","dropPosition"];function wr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ar={marginBlockEnd:0,willChange:"transform, opacity"},Dr=function(e){var t=e.filterId,r=e.isPrimaryFilter,n=e.isPlaceholder,i=e.resetFilterIds,l=e.toggleFilterId,s=e.allowedDropTargetMimeTypes,c=void 0===s?U.Vp:s,d=e.className,y=e.innerRef,g=e.index,f=void 0===g?0:g,m=e.spec,b=(0,o.A)(e,Or),v=(0,I.s)(),h=(0,cr.f)(),x=b.selected,P=t?h.getFilterLabel(t):"",O=(0,u.useCallback)((function(){!t||x&&r?(i(),x&&r&&t?v.logInteraction(m.filterChipFactory({identifier:P,position:f}).hitClearFilter()):v.logInteraction(m.clearButtonFactory().hitClearFilter())):(l(t),x?v.logInteraction(m.filterChipFactory({identifier:P,position:f}).hitClearFilter()):v.logInteraction(m.filterChipFactory({identifier:P,position:f}).hitFilter()))}),[t,P,x,r,i,l,f,v,m]),j=(0,u.useCallback)((function(e){e.detail>1||n||O()}),[n,O]),w=(0,V.A)({allowedMimeTypesByDropPosition:(0,a.A)({},U.Nz.ON,c),onLongDragOver:O}),S=w.className,A=w.dropPosition,D=(0,o.A)(w,jr);return(0,T.jsx)(Pr.m,Sr(Sr(Sr(Sr({},b),{},{"aria-label":b["aria-label"]},D),A===U.Nz.ON?{selectedColorSet:"base"}:void 0),{},{className:p()(d,S,(0,a.A)((0,a.A)({},dr,A===U.Nz.ON),gr,n)),onClick:j,style:Ar,ref:y,tabIndex:-1}))},Cr=[B.fl.TRACKS,B.fl.LOCAL_TRACKS,B.fl.ALBUMS,B.fl.ARTISTS,B.fl.PLAYLISTS_V2,B.fl.SHOWS,B.fl.AUDIOBOOKS,B.fl.EPISODES,B.fl.FOLDERS],Ir=[B.fl.TRACKS,B.fl.LOCAL_TRACKS,B.fl.ALBUMS,B.fl.EPISODES,B.fl.PLAYLISTS_V2,B.fl.FOLDERS],Tr=[B.fl.TRACKS,B.fl.LOCAL_TRACKS,B.fl.ALBUMS,B.fl.EPISODES,B.fl.PLAYLISTS_V2,B.fl.FOLDERS];r(19264);r(28130);var Rr=function(){return[]};function Er(e){return{type:"contentType",id:e.id,name:e.name}}function kr(e){return e.id.startsWith("spotify:concept:")?{type:"tag",id:(t={tagUri:e.id,tagName:e.name,entityCount:0}).tagUri,name:t.tagName,count:t.entityCount}:Er(e);var t}var Lr=r(90597),Nr=(0,u.memo)((function(e){var t=e.availableFilters,r=e.selectedFilters,i=e.toggleFilterId,a=e.resetFilterIds,o=e.className,l=e.spec,s=e.inFolderView,c=!(r||t),d=function(e){var t,r=e.availableFilters,n=e.activeFilters,i=e.inFolderView,a=null==r?void 0:r.map(Er),o=null!==(t=null==n?void 0:n.map(kr))&&void 0!==t?t:[],l=Rr(),s=_e();return{availableRefiners:null!=n&&n.length||!s||i?a:l,activeRefiners:o,allContentTypeRefiners:a}}({availableFilters:t,activeFilters:r,inFolderView:s}),p=d.availableRefiners,y=d.activeRefiners,g=d.allContentTypeRefiners,f=(lr().registerFocusElement,c?g:[].concat((0,n.A)(null!=y?y:[]),(0,n.A)(null!=p?p:[]))),m=(0,u.useRef)(null),b=(0,u.useCallback)((function(){var e,t;(0,Lr.MS)(m.current,(null===(e=m.current)||void 0===e?void 0:e.nextElementSibling)instanceof HTMLElement?null===(t=m.current)||void 0===t?void 0:t.nextElementSibling:null),a()}),[a]),v=_e();return f&&0!==(null==f?void 0:f.length)?(0,T.jsxs)(ir.FN,{className:o,ariaLabel:w.Ru.get("web-player.your-library-x.filter_options"),children:[!(null==r||!r.length)&&(0,T.jsx)(Dr,{resetFilterIds:b,toggleFilterId:i,allowedDropTargetMimeTypes:Cr,"aria-label":w.Ru.get("web-player.your-library-x.clear_filters"),innerRef:m,spec:l}),f.map((function(e,t){var r=null==y?void 0:y.includes(e),n=0===t,o=t>0&&(null==y?void 0:y.includes(f[0])),s=(0,T.jsx)(xr,{innerRef:void 0,filterId:e.id,isPrimaryFilter:n,isPlaceholder:c,resetFilterIds:a,toggleFilterId:i,selected:r,spec:l,index:t,children:e.name},e.id);return!v||o?s:(0,T.jsx)(x.h,{menu:(0,T.jsx)(u.Suspense,{fallback:!0,children:(0,T.jsx)(or,{refiner:e,resetFilterIds:a,isSelected:r})}),children:s},e.id)})),v&&!(null!=y&&y.length)&&!s&&(0,T.jsx)(ar,{})]}):null})),Fr=r(2860),Mr="",Br=(0,u.createContext)({openedFolderUri:Mr,pushFolder:function(){},popFolder:function(){},resetFolder:function(){},change:"PUSH"}),Ur=function(e){var t=e.children,r=(0,u.useContext)(le.g).setFilter,n=(0,Ue.x)("opened-folder-uri",Mr),i=(0,l.A)(n,2),a=i[0],o=i[1],s=(0,u.useRef)([null!=a?a:Mr]),c=(0,u.useRef)("PUSH"),d=(0,u.useCallback)((function(e){o(e),r(Mr)}),[o,r]),p=(0,u.useCallback)((function(e){s.current.push(e),c.current="PUSH",d(s.current.at(-1))}),[d]),y=(0,u.useCallback)((function(){s.current.pop();var e=s.current.at(-1);return c.current="POP",d(e),e}),[d]),g=(0,u.useCallback)((function(){s.current=[Mr],d(Mr)}),[d]);return(0,T.jsx)(Br.Provider,{value:{openedFolderUri:(0,Fr.fpb)(a)?a:Mr,pushFolder:p,popFolder:y,resetFolder:g,change:c.current},children:t})},Vr=r(86707),_r=r(98782),Hr=(r(79210),r(65941)),zr=r(26132),Xr=r(85498),Wr=r(22704),Yr=r(71299),Kr=r(6029),Gr=r(95304),Zr=r(49713),Jr=r(54221),qr=function(e){var t=e.iconSize,r=void 0===t?"small":t;return(0,T.jsx)("span",{className:_t,children:(0,T.jsx)(Jr.C,{size:r,semanticColor:"textBrightAccent",className:Vt})})},Qr=function(e){var t=e.children,r=e.title,n=e.subtitleSlot,i=e.isPlaying;return(0,T.jsx)(rt.Zp,{label:(0,T.jsxs)("div",{className:Kt,children:[(0,T.jsxs)("div",{children:[r,n]}),i&&(0,T.jsx)(qr,{})]}),placement:"right",showDelay:0,children:t})},$r=(r(56922),r(47973)),en=r(42027),tn=r(19128),rn=function(e){var t=e.leading,r=e.subtitle,n=e.uri,i="listrow-subtitle-".concat(n);return(0,T.jsx)("div",{className:tn.A.subtitle,children:(0,T.jsxs)($r.j,{className:tn.A.link,id:i,dir:"auto",children:[(0,T.jsx)("span",{className:tn.A.subtitleLeadingWrapper,children:t}),(0,T.jsx)("span",{className:tn.A.subtitleText,children:r})]})})},nn=function(e){var t=e.leading,r=e.subtitle,n=e.uri,i="card-subtitle-".concat(n);return(0,T.jsx)("div",{className:tn.A.subtitle,children:(0,T.jsxs)(en.j,{lineClamp:1,className:tn.A.link,id:i,role:"gridcell",dir:"auto",children:[(0,T.jsx)("span",{className:tn.A.subtitleLeadingWrapper,children:t}),r]})})},an=r(90543),on=r(10659),ln=r(77085),sn=r(54466),cn=r(34871),un=new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock","Hyper","Super","Enter","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Backspace","Clear","Copy","CrSel","Cut","Delete","EraseEof","ExSel","Insert","Paste","Redo","Undo","Accept","Again","Attn","Cancel","ContextMenu","Escape","Execute","Find","Help","Pause","Play","Props","Select","ZoomIn","ZoomOut","BrightnessDown","BrightnessUp","Eject","LogOff","Power","PowerOff","PrintScreen","Hibernate","Standby","WakeUp","AllCandidates","Alphanumeric","CodeInput","Compose","Convert","Dead","FinalMode","GroupFirst","GroupLast","GroupNext","GroupPrevious","ModeChange","NextCandidate","NonConvert","PreviousCandidate","Process","SingleCandidate","HangulMode","HanjaMode","JunjaMode","Eisu","Hankaku","Hiragana","HiraganaKatakana","KanaMode","KanjiMode","Katakana","Romaji","Zenkaku","ZenkakuHankaku","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Soft1","Soft2","Soft3","Soft4","ChannelDown","ChannelUp","Close","MailForward","MailReply","MailSend","MediaClose","MediaFastForward","MediaPause","MediaPlay","MediaPlayPause","MediaRecord","MediaRewind","MediaStop","MediaTrackNext","MediaTrackPrevious","New","Open","Print","Save","SpellCheck","Key11","Key12","AudioBalanceLeft","AudioBalanceRight","AudioBassBoostDown","AudioBassBoostToggle","AudioBassBoostUp","AudioFaderFront","AudioFaderRear","AudioSurroundModeNext","AudioTrebleDown","AudioTrebleUp","AudioVolumeDown","AudioVolumeUp","AudioVolumeMute","MicrophoneToggle","MicrophoneVolumeDown","MicrophoneVolumeUp","MicrophoneVolumeMute","SpeechCorrectionList","SpeechInputToggle","LaunchApplication1","LaunchApplication2","LaunchCalendar","LaunchContacts","LaunchMail","LaunchMediaPlayer","LaunchMusicPlayer","LaunchPhone","LaunchScreenSaver","LaunchSpreadsheet","LaunchWebBrowser","LaunchWebCam","LaunchWordProcessor","BrowserBack","BrowserFavorites","BrowserForward","BrowserHome","BrowserRefresh","BrowserSearch","BrowserStop","AppSwitch","Call","Camera","CameraFocus","EndCall","GoBack","GoHome","HeadsetHook","LastNumberRedial","Notification","MannerMode","VoiceDial","TV","TV3DMode","TVAntennaCable","TVAudioDescription","TVAudioDescriptionMixDown","TVAudioDescriptionMixUp","TVContentsMenu","TVDataService","TVInput","TVInputComponent1","TVInputComponent2","TVInputComposite1","TVInputComposite2","TVInputHDMI1","TVInputHDMI2","TVInputHDMI3","TVInputHDMI4","TVInputVGA1","TVMediaContext","TVNetwork","TVNumberEntry","TVPower","TVRadioService","TVSatellite","TVSatelliteBS","TVSatelliteCS","TVSatelliteToggle","TVTerrestrialAnalog","TVTerrestrialDigital","TVTimer","AVRInput","AVRPower","ColorF0Red","ColorF1Green","ColorF2Yellow","ColorF3Blue","ColorF4Grey","ColorF5Brown","ClosedCaptionToggle","Dimmer","DisplaySwap","DVR","Exit","FavoriteClear0","FavoriteClear1","FavoriteClear2","FavoriteClear3","FavoriteRecall0","FavoriteRecall1","FavoriteRecall2","FavoriteRecall3","FavoriteStore0","FavoriteStore1","FavoriteStore2","FavoriteStore3","Guide","GuideNextDay","GuidePreviousDay","Info","InstantReplay","Link","ListProgram","LiveContent","Lock","MediaApps","MediaAudioTrack","MediaLast","MediaSkipBackward","MediaSkipForward","MediaStepBackward","MediaStepForward","MediaTopMenu","NavigateIn","NavigateNext","NavigateOut","NavigatePrevious","NextFavoriteChannel","NextUserProfile","OnDemand","Pairing","PinPDown","PinPMove","PinPToggle","PinPUp","PlaySpeedDown","PlaySpeedReset","PlaySpeedUp","RandomToggle","RcLowBattery","RecordSpeedNext","RfBypass","ScanChannelsToggle","ScreenModeNext","Settings","SplitScreenToggle","STBInput","STBPower","Subtitle","Teletext","VideoModeNext","Wink","ZoomToggle"]);function dn(e,t){var r=(0,u.useState)(""),n=(0,l.A)(r,2),i=n[0],a=n[1],o=(0,u.useRef)(i);o.current=i;var s=(0,u.useRef)(null);return(0,u.useEffect)((function(){var r=e.current;if(!r||!t)return a(""),function(){};var n=function(e){var t,r,n="Backspace"===e.key,i=" "===e.key,l=e.metaKey||e.ctrlKey,c=e.target instanceof HTMLElement&&(null===(t=e.target)||void 0===t?void 0:t.matches("input, textarea, [contenteditable]")),u=e.isComposing||229===e.keyCode,d=(r=e.key,un.has(r)&&!n),p=i&&!o.current,y=n&&!o.current;l||c||u||d||p||y||((n&&o.current||i)&&(e.preventDefault(),e.stopPropagation()),a((function(t){return n?t.slice(0,-1):t+e.key})),s.current&&clearTimeout(s.current),s.current=setTimeout((function(){return a("")}),1e3))};return r.addEventListener("keydown",n,!0),function(){r.removeEventListener("keydown",n,!0),s.current&&clearTimeout(s.current)}}),[e,t]),i}var pn=(0,u.createContext)({setTypeaheadResult:function(e){var t=e.uid,r=e.str;if(t||r)throw new Error("setTypeaheadResult must be used within a TypeaheadProvider")},typeaheadResult:{uid:null,str:""}}),yn=function(e){var t=e.children,r=e.containerRef,n=e.findMatchingTypeaheadUid,i=e.isEnabled,a=void 0===i||i,o=(0,u.useState)({uid:null,str:""}),s=(0,l.A)(o,2),c=s[0],d=s[1],p=(0,u.useMemo)((function(){return{typeaheadResult:c,setTypeaheadResult:d}}),[c,d]),y=dn(r,a),g=(0,u.useRef)(y);g.current=y;var f=(0,u.useRef)(n);return f.current=n,(0,u.useEffect)((function(){y&&a?f.current(y).then((function(e){y===g.current&&d({uid:e,str:y})})):d({uid:null,str:""})}),[a,y,d]),(0,T.jsx)(pn.Provider,{value:p,children:t})};var gn=r(42035),fn={state:{referrer:"your_library",preventMoveFocus:!0}};function mn(e,t,r,i){var a,o,l,s,c,d=(0,u.useContext)(le.g).filter,p=(0,cn.l_)(e).isActive,y=(o=e,l=(0,u.useContext)(pn).typeaheadResult,s=l.uid,c=l.str,s===o?c:null),g=!!y,f=(0,sn.W)({uri:e,type:"link"})?(0,gn.hF)(t):t,m=(0,u.useRef)(null),b=(0,an.Zp)(),v=(0,u.useCallback)((function(e){e.preventDefault(),i?i():f&&b(f,fn)}),[i,b,f]);return(0,u.useLayoutEffect)((function(){var e;g&&(null===(e=m.current)||void 0===e||null===(e=e.closest('[role="row"], [role="listitem"]'))||void 0===e||null===(e=e.querySelector("button"))||void 0===e||e.focus({preventScroll:!0}))}),[g]),{isActive:p,onClick:v,contents:d||y?(0,T.jsx)("span",{ref:m,children:(0,T.jsx)(Wr.M,{autoEscape:!0,searchWords:[d.trim()].concat((0,n.A)(null!==(a=null==y?void 0:y.split(" "))&&void 0!==a?a:"")),textToHighlight:r})}):r}}var bn=function(e){var t,r=e.uri,n=e.playbackUri,i=void 0===n?r:n,a=e.title,o=e.menu,l=e.to,s=mn(i,void 0===l?(null===(t=(0,Fr.o_h)(r))||void 0===t?void 0:t.toURLPath(!0))||"":l,a,e.handleNavigate),c=s.isActive,u=s.contents,d="listrow-title-".concat(r);return(0,T.jsx)(x.h,{menu:o,children:(0,T.jsx)(on.d,{id:d,lineClamp:1,className:p()(tn.A.link,tn.A.titleLink),semanticColor:c?"textBrightAccent":"textBase",dir:"auto",children:u})})},vn=function(e){var t,r=e.uri,n=e.playbackUri,i=void 0===n?r:n,a=e.title,o=e.menu,l=e.to,s=void 0===l?(null===(t=(0,Fr.o_h)(r))||void 0===t?void 0:t.toURLPath(!0))||"":l,c=mn(i,s,a,e.handleNavigate),u=c.isActive,d=c.onClick,y=c.contents;return(0,T.jsx)(x.h,{menu:o,children:(0,T.jsx)(ln.Z,{lineClamp:1,className:p()(tn.A.link,tn.A.titleLink),semanticColor:u?"textBrightAccent":"textBase",href:s,onClick:d,role:"gridcell",dir:"auto",children:y})})},hn=(r(77905),r(13661),[B.fl.ALBUMS,B.fl.ARTISTS,B.fl.PLAYLISTS_V2,B.fl.SHOWS,B.fl.FOLDERS,B.fl.PSEUDO_PLAYLISTS]),xn=[B.fl.PLAYLISTS_V2,B.fl.FOLDERS],Pn=(r(14551),r(9267),r(45434),r(2823),r(65594),r(87026)),On=function(e){var t=e.isConfirmationForPlaylist,r=e.onConfirm,n=e.onClose,i=t?w.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.title-playlist"):w.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.title-folder");return(0,T.jsx)(Pn.T,{"aria-label":i,titleText:i,descriptionText:t?w.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.message-playlist"):w.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.message-folder"),onConfirm:r,onClose:n,confirmText:w.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-text"),confirmLabel:t?w.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-label-playlist"):w.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-label-folder"),cancelText:w.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.cancel-button-text"),allowHTML:!0})},jn=r(73129);function wn(e){var t,r=e.onApplyDrop,a=e.spec,o=e.isDropTargetPinned,s=(0,cr.f)(),d=(0,jn.p)("ylpin").contains,p=(0,u.useState)(null),y=(0,l.A)(p,2),g=y[0],f=y[1],m=(0,u.useCallback)(function(){var e=(0,i.A)(c().mark((function e(t,i){var a,l,s,u,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=3;break}return r(t,i),e.abrupt("return");case 3:if(a=t[B.fl.PLAYLISTS_V2],l=void 0===a?[]:a,s=t[B.fl.FOLDERS],u=void 0===s?[]:s,p=[].concat((0,n.A)(l),(0,n.A)(u)),e.t0=!!p.length,!e.t0){e.next=10;break}return e.next=9,d.apply(void 0,(0,n.A)(p));case 9:e.t0=e.sent.some(Boolean);case 10:if(!e.t0){e.next=17;break}if(!(p.length>1)){e.next=14;break}throw new Error("Reordering multiple pinned items at once is not supported");case 14:f({dropData:t,dropPosition:i}),e.next=18;break;case 17:r(t,i);case 18:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[o,d,r]),b=(0,I.s)();return{applyDropWithUnpinConfirmation:m,unpinConfirmationDialog:g?(0,T.jsx)(On,{isConfirmationForPlaylist:!(null!==(t=g.dropData[B.fl.FOLDERS])&&void 0!==t&&t.length),onClose:function(){return f(null)},onConfirm:(0,i.A)(c().mark((function e(){var t,i,o,l,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.dropData,i=t[B.fl.PLAYLISTS_V2],o=void 0===i?[]:i,l=t[B.fl.FOLDERS],u=void 0===l?[]:l,e.next=3,s.unpin([].concat((0,n.A)(o),(0,n.A)(u))[0]);case 3:null!=a&&a.dragUnpinItem&&b.logInteraction(a.dragUnpinItem({itemToUnpin:[].concat((0,n.A)(o),(0,n.A)(u))[0]})),r(g.dropData,g.dropPosition),f(null);case 6:case"end":return e.stop()}}),e)})))}):null}}function Sn(){var e=(0,u.useContext)(z.O_),t=e.dropOriginUri,r=e.sectionId;return{dropOriginIsYLX:t===N.gv,entityIsInFolder:r>0}}var An=r(59370);function Dn(){var e=(0,An.g)(),t=Sn().dropOriginIsYLX,r=(0,u.useCallback)(function(){var r=(0,i.A)(c().mark((function r(n,i){var a;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.contains(n);case 2:if(a=r.sent,1===new Set(a).size){r.next=5;break}throw new Error("Dropping a mix of newly added and moved playlists is not supported");case 5:if(!a[0]){r.next=18;break}if(!(n.length>1)){r.next=9;break}throw new Error("Moving multiple playlists at once is not supported");case 9:if(!t){r.next=14;break}return r.next=12,e.move({uri:n[0]},i);case 12:r.next=16;break;case 14:return r.next=16,e.move({uri:n[0]},i,!0);case 16:r.next=20;break;case 18:return r.next=20,e.add(n,i);case 20:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),[t,e]);return r}var Cn=r(8741);function In(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Tn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw a}}}}function Tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Rn(e){var t=e.dropTargetUri,r=e.spec,n=e.isDropTargetPinned,a=(0,An.g)(),o=(0,cr.f)(),s=(0,I.s)(),d=Dn(),p=(0,u.useCallback)(function(){var e=(0,i.A)(c().mark((function e(i,u){var p,y,g,f,m,b,v,h,x,P,O,j;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=i[B.fl.PLAYLISTS_V2],y=void 0===p?[]:p,g=i[B.fl.FOLDERS],f=void 0===g?[]:g,m=(0,l.A)(f,1),b=m[0],v=u===U.Nz.BEFORE?{before:{uri:t}}:{after:{uri:t}},!n){e.next=38;break}if(h=i[Object.keys(i)[0]][0],!(0,Fr.tbX)(h)&&!(0,Fr.fpb)(h)){e.next=24;break}return e.next=7,a.getContents();case 7:if(x=e.sent,-1!==(P=En(x.items,h))){e.next=14;break}return e.next=12,a.add([h],{before:"start"});case 12:e.next=22;break;case 14:if(!(P>0)){e.next=22;break}if(!(0,Fr.tbX)(h)){e.next=20;break}return e.next=18,a.move({uri:h},{before:"start"});case 18:e.next=22;break;case 20:return e.next=22,a.moveFolder({uri:h},{before:"start"});case 22:e.next=33;break;case 24:if((0,Fr.Z0m)(h)){e.next=33;break}return e.next=27,o.contains(h);case 27:if(O=e.sent,j=(0,l.A)(O,1),j[0]){e.next=33;break}return e.next=33,o.add({uris:[h]});case 33:return e.next=35,o.pin(h,v);case 35:s.logInteraction(r.dragPinItem({itemToPin:h})),e.next=46;break;case 38:if(!b){e.next=43;break}return e.next=41,a.moveFolder({uri:b},v);case 41:e.next=46;break;case 43:if(!y.length){e.next=46;break}return e.next=46,d(y,v);case 46:s.logInteraction(r.dragSort());case 47:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[t,n,o,s,r,a,d]),y=wn(n?{onApplyDrop:p,spec:r,isDropTargetPinned:n}:{onApplyDrop:p}),g=y.unpinConfirmationDialog,f=y.applyDropWithUnpinConfirmation,m=(0,u.useCallback)(function(){var e=(0,i.A)(c().mark((function e(t,r){var n,i,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[B.fl.PLAYLISTS_V2],i=void 0===n?[]:n,a=t[B.fl.FOLDERS],o=void 0===a?[]:a,!i.length||!o.length){e.next=5;break}throw new Error("Dropping a mix of playlists and folders is not supported");case 5:if(!(o.length>1)){e.next=7;break}throw new Error("Dropping multiple folders is not supported");case 7:f(t,r);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[f]);return{handleDropBeforeOrAfterRootlistItem:m,unpinConfirmationDialog:g}}function En(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=In(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if((0,Cn.Af)(a)||(0,Cn.sA)(a)){if((0,Fr.B2u)(a.uri,t))return n;if((0,Cn.sA)(a)){var o=En(a.items,t,n+1);if(-1!==o)return o}}}}catch(e){i.e(e)}finally{i.f()}return-1}var kn=r(35605),Ln=["dropPosition","className"];function Nn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Mn={state:{referrer:"your_library",preventMoveFocus:!0}};function Bn(e){var t,r,n=e.uri,i=e.to,l=void 0===i?(null===(t=(0,Fr.o_h)(n))||void 0===t?void 0:t.toURLPath(!0))||"":i,s=e.type,c=e.handleNavigate,d=e.dragLabel,p=e.isPinned,y=e.canReorder,g=e.allowedDropTargetDropOnMimeTypes,f=void 0===g?[]:g,m=e.onDropTargetDropOn,b=e.onLongDragOver,v=e.openDeleteDialog,h=e.togglePlay,x=e.triggerPlay,P=e.isItemInGrid,O=e.playInsteadOfNavigating,j=void 0!==O&&O,w=e.isPlaying,S=e.spec,A=e.folderDepth,D=(0,sn.W)({uri:n,type:"link"})?(0,gn.hF)(l):l,C=(0,an.Zp)(),T=(0,an.zy)(),R=(0,u.useCallback)((function(){C(D,Mn)}),[C,D]),E=(0,I.s)(),k=(0,u.useRef)(0),L=(0,u.useRef)(null),F=(0,u.useCallback)((function(e){var t,r=e.target;return r instanceof HTMLElement&&!(null!==(t=L.current)&&void 0!==t&&t.contains(r))}),[]),M=(0,u.useCallback)((function(e){if(!F(e)){if(e.preventDefault(),e.currentTarget.scrollIntoView({block:"nearest"}),j){if(k.current>Date.now())return;return k.current=Date.now()+300,void(w||(null==h||h(),E.logInteraction(S.yourLibraryItemFactory().hitPlay({itemToBePlayed:n}))))}c?c():D&&C(D,Fn(Fn({},Mn),{},{replace:D===T.pathname})),E.logInteraction(S.yourLibraryItemFactory().hitUiNavigate({destination:n}))}}),[F,j,c,D,E,S,n,h,w,C,T.pathname]),_=(0,u.useCallback)((function(e){j||F(e)||x&&(E.logInteraction(S.yourLibraryItemFactory().doubleHitPlay({itemToBePlayed:n})),null==x||x())}),[j,F,x,E,S,n]),H=(0,u.useCallback)((function(){E.logInteraction(S.yourLibraryItemFactory().secondaryHitUiReveal())}),[E,S]),z=(0,kn.P)({itemUris:[n],itemMimeTypes:[(0,B.j3)(s)],dragLabelText:d,sectionId:null!=A?A:0,dropOriginUri:N.gv}),X=z.draggable,W=z.onDragStart,Y=[];p?Y=hn:y&&(Y=xn);var K=(0,a.A)((0,a.A)((0,a.A)({},U.Nz.ON,f),U.Nz.BEFORE,Y),U.Nz.AFTER,Y),G=Rn({dropTargetUri:n,spec:S,isDropTargetPinned:p}),Z=G.handleDropBeforeOrAfterRootlistItem,J=G.unpinConfirmationDialog,q=(0,u.useCallback)((function(e,t){t===U.Nz.ON?null==m||m(e,t):t!==U.Nz.BEFORE&&t!==U.Nz.AFTER||Z(e,t)}),[m,Z]),Q=(0,V.A)({uri:n,allowedMimeTypesByDropPosition:K,onDrop:q,onLongDragOver:null!=b?b:R,reorderDirection:P?"horizontal":"vertical"}),$=Q.dropPosition,ee=Q.className,te=(0,o.A)(Q,Ln),re=(0,u.useCallback)((function(e){e.repeat||F(e)||("Backspace"!==e.key&&"Delete"!==e.key||!v||v(),"Enter"===e.key&&e.shiftKey&&h&&(e.preventDefault(),h()),"Enter"===e.key&&E.logInteraction(S.yourLibraryItemFactory().keyStrokeUiNavigate({destination:n})))}),[F,E,v,S,h,n]),ne=null===(r=(0,Fr.o_h)(T.pathname,{parseUnknown:!0}))||void 0===r?void 0:r.toURI();return Fn({onClick:M,onDoubleClick:_,draggable:X&&!!d,onDragStart:W,onKeyDown:re,unpinConfirmationDialog:J,dropPosition:$,dropTargetClassName:ee,logRightClick:H,isViewActive:!!ne&&(0,Fr.B2u)(n,ne),itemRef:L},te)}var Un=r(97579),Vn=function(e){switch(e){case Un.c.ALBUM:return w.Ru.get("web-player.your-library-x.type-album");case Un.c.ARTIST:return w.Ru.get("web-player.your-library-x.type-artist");case Un.c.FOLDER:return w.Ru.get("web-player.your-library-x.type-folder");case Un.c.AUDIOBOOK:return w.Ru.get("web-player.your-library-x.type-audiobook");case Un.c.YOUR_EPISODES:case Un.c.LOCAL_FILES:case Un.c.LIKED_SONGS:case Un.c.PLAYLIST:return w.Ru.get("web-player.your-library-x.type-playlist");case Un.c.SHOW:return w.Ru.get("web-player.your-library-x.type-show");case Un.c.PRE_RELEASE_ALBUM:return w.Ru.get("web-player.your-library-x.type-prerelease-album");case Un.c.PRE_RELEASE_BOOK:return w.Ru.get("web-player.your-library-x.type-prerelease-audiobook");default:return(0,we.d)(e)}},_n=function(e){switch(e){case Un.c.YOUR_EPISODES:case Un.c.LIKED_SONGS:case Un.c.LOCAL_FILES:return Un.c.PLAYLIST;default:return e}},Hn=r(92839),zn=u.createContext(!1),Xn=function(e){var t=e.children,r=e.isCompact;return(0,T.jsx)(zn.Provider,{value:r,children:t})},Wn=function(){return(0,u.useContext)(zn)};const Yn="wJTUKAyYI219kJtclJLa",Kn="q0_cpEyu_8EC7he96qT_",Gn="L8ET6xwMh_wMEqCpmunH",Zn="D_1eJKOJ3wTCKO93GX06",Jn="_7kcfiJ2UNEh3CDR9Wau",qn="N8wAJha8ApfxgOfqv4UM",Qn="iJMxV9zMXSfrjJPyB3Fw";var $n=["onClick","onDoubleClick","draggable","onDragStart","onKeyDown","dropPosition","dropTargetClassName","unpinConfirmationDialog","logRightClick","isViewActive","itemRef"];function ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ei(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ri=function(e){var t,r=e.uri,n=e.to,i=void 0===n?(null===(t=(0,Fr.o_h)(r))||void 0===t?void 0:t.toURLPath(!0))||"":n,l=e.handleNavigate,s=e.dragLabel,c=e.name,d=e.subtitle,y=e.cover,g=e.type,f=e.downloadButton,m=e.canReorder,b=e.allowedDropTargetDropOnMimeTypes,v=e.onDropTargetDropOn,h=e.onLongDragOver,P=e.menu,O=e.leading,j=e.openDeleteDialog,w=e.togglePlay,S=e.triggerPlay,A=e.isPinned,D=e.shouldShowType,C=e.playbackUri,I=e.isPlaying,R=e.isActive,E=e.playInsteadOfNavigating,k=e.spec,L=e.index,N=e.animateClassName,F=void 0===N?"":N,M=e.animateState,B=e.preReleaseIcon,V=e.lockedIcon,_=Bn({uri:r,to:i,handleNavigate:l,dragLabel:s,isPinned:A,canReorder:m,allowedDropTargetDropOnMimeTypes:b,onDropTargetDropOn:v,openDeleteDialog:j,onLongDragOver:h,togglePlay:w,triggerPlay:S,isItemInGrid:!0,isPlaying:I,isActive:R,spec:k,playInsteadOfNavigating:E}),H=_.onClick,z=_.onDoubleClick,X=_.draggable,W=_.onDragStart,Y=_.onKeyDown,K=_.dropPosition,G=_.dropTargetClassName,Z=_.unpinConfirmationDialog,J=_.logRightClick,q=_.isViewActive,Q=_.itemRef,$=(0,o.A)(_,$n),ee=(0,T.jsx)(vn,{uri:r,title:c,menu:P,handleNavigate:l,playbackUri:C}),te=(0,T.jsx)(nn,{leading:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Hn.g,{pinned:A}),V,B,f]}),subtitle:(0,T.jsxs)(T.Fragment,{children:[D&&Vn(g),!!d&&D&&" • ",d]}),uri:r}),re=(0,u.useRef)(null),ne=Wn(),ie=(0,T.jsx)(x.h,{menu:P,onShow:J,children:(0,T.jsx)(Zr.E,{uri:r,trigger:Zr.l.OnMouseDown,children:(0,T.jsx)(Yr.Z,ti({id:r,title:ee,subtitle:te,media:y,size:"sm",leading:O,className:p()(Yn,(0,a.A)({},F,M)),variant:q?"tinted":void 0,onClick:H,onDoubleClick:z,padding:Kr.CJ},$))})});return ne&&(ie=(0,T.jsx)(Qr,{title:ee,subtitleSlot:te,uri:r,isPlaying:I,parentRef:re,children:(0,T.jsx)("div",{children:(0,T.jsx)(x.h,{menu:P,onShow:J,children:(0,T.jsx)(Zr.E,{uri:r,trigger:Zr.l.OnMouseDown,children:(0,T.jsx)(Yr.Z,ti({id:r,title:void 0,media:y,size:"sm",className:p()(Yn,Kn,(0,a.A)({},F,M)),variant:q?"tinted":void 0,onClick:H,onDoubleClick:z,padding:Kr.vw,ref:re},$))})})})})),(0,T.jsxs)(T.Fragment,{children:[Z,(0,T.jsx)(Gr.W,{draggable:X,onDragStart:W,onKeyDown:Y,className:p()(G,(0,a.A)((0,a.A)((0,a.A)({},ur,K===U.Nz.ON),pr,K===U.Nz.BEFORE),yr,K===U.Nz.AFTER)),"aria-selected":R,innerRef:Q,"aria-posinset":L,children:ie})]})},ni=r(4319),ii=(r(33067),r(42761)),ai=function(e){var t=e.name,r=e.uri,n=e.togglePlay,i=e.spec,o=e.isActive,l=e.isPlaying,s=e.size,c=(0,I.s)(),d=(0,u.useCallback)((function(){o?l?c.logInteraction(i.yourLibraryItemFactory().doubleHitPause({itemToBePaused:r})):c.logInteraction(i.yourLibraryItemFactory().doubleHitResume({itemToBeResumed:r})):c.logInteraction(i.yourLibraryItemFactory().doubleHitPlay({itemToBePlayed:r})),n()}),[o,l,c,i,n,r]);return(0,T.jsx)("div",{className:p()(Jn,(0,a.A)((0,a.A)({},Qn,l),qn,"small"===s)),role:"gridcell",children:(0,T.jsx)(ii.R,{isPlaying:l,onClick:d,ariaPlayLabel:w.Ru.get("playlist.a11y.play",t),ariaPauseLabel:w.Ru.get("playlist.a11y.pause",t),size:s})})},oi=r(58237),li=function(e){var t=e.name,r=e.uri,n=e.togglePlay,i=e.spec,a=e.isActive,o=e.isPlaying,l=e.size,s=(0,I.s)(),c=(0,u.useCallback)((function(){var e=(0,oi.$I)({spec:i,logger:s,uri:r,isActive:a,isPlaying:o});n({loggingParams:e})}),[a,o,s,i,n,r]);return(0,T.jsx)(ii.R,{isPlaying:o,onClick:c,ariaPlayLabel:w.Ru.get("playlist.a11y.play",t),ariaPauseLabel:w.Ru.get("playlist.a11y.pause",t),size:l,version:ii.H.transparent})},si=r(75599),ci=r(22872),ui=r(88532),di=r(46131),pi=r(28583),yi=r(35489);function gi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var fi=(0,u.memo)((function(e){var t=e.title,r=e.type,n=e.images,i=e.isCircular,o=e.color,l=e.animateState,s=e.animateClassName,c=void 0===s?"":s,u=e.isPlaying,d=e.togglePlay,y=e.spec,g=e.uri,f=(0,pi._)(),m=(0,nt.$)().isCollapsed,b=d&&!m;return(0,T.jsxs)("div",{className:p()((0,a.A)({},tn.A.imageContainer,b)),children:[(0,T.jsx)(si.b,{fadeIn:!0,images:f(n,48),shape:i?si.u.CIRCLE:si.u.ROUNDED_CORNERS,size:ci.Qe.SIZE_48,iconSize:"medium",type:r,title:t,className:p()(tn.A.entityImage,(0,a.A)({},c,l)),color:o,loadingMode:"eager"}),b&&(0,T.jsx)("div",{className:tr,children:(0,T.jsx)(li,{spec:y.yourLibraryItemFactory().playButtonFactory(),name:t,uri:g,togglePlay:d,isPlaying:u,isActive:!0,size:"medium"})})]})})),mi=(0,u.memo)((function(e){var t=e.title,r=e.type,n=e.uri,i=e.images,o=e.isCircular,s=e.togglePlay,c=e.color,d=e.spec,p=e.isActive,y=e.isPlaying,g=(0,b.NC)(yi.AE),f=Wn(),m=(0,pi._)(),v=(0,u.useState)("medium"),h=(0,l.A)(v,2),x=h[0],P=h[1],O=(0,u.useRef)(null);return(0,di.w)({onResize:function(e){var t=e.width;P(t<90?"small":"medium")},refOrElement:O}),(0,T.jsx)("div",{className:Zn,ref:O,children:(0,T.jsx)(ni.M,{images:m(i,250),FallbackComponent:function(e){return(0,T.jsx)(ui.s,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({semanticColor:"textSubdued",type:r,size:"xxlarge",className:g?Gn:""},e))},isCircular:o,color:c,loadingMode:"eager",children:s&&!f&&(0,T.jsx)(ai,{name:t,uri:n,togglePlay:s,spec:d,isActive:p,isPlaying:y,size:x})})})})),bi=r(20568);const vi="_ymJNIfklFmogab9uWY1";var hi=function(e){var t=e.folderDepth,r=void 0===t?0:t;return(0,T.jsx)("li",{className:vi,style:{"--ylx-folder-depth":r}})},xi=["RowVariantComponent","uri","to","handleNavigate","folderDepth","className","dragLabel","isPinned","canReorder","allowedDropTargetDropOnMimeTypes","onDropTargetDropOn","onLongDragOver","style","openDeleteDialog","togglePlay","triggerPlay","isPlaying","isActive","type","menu","name","subtitle","downloadButton","expandFolderButton","cover","alt","addedAt","lastPlayedAt","shouldShowType","playbackUri","playInsteadOfNavigating","spec","nrValidItems","index","lockedIcon","onKeyDown","preReleaseIcon"],Pi=["onClick","onDoubleClick","onDragStart","onKeyDown","dropPosition","dropTargetClassName","draggable","unpinConfirmationDialog","logRightClick","isViewActive","itemRef"];function Oi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oi(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var wi=function(e){var t,r=e.RowVariantComponent,n=e.uri,i=e.to,l=void 0===i?(null===(t=(0,Fr.o_h)(n))||void 0===t?void 0:t.toURLPath(!0))||"":i,s=e.handleNavigate,c=e.folderDepth,d=e.className,y=e.dragLabel,g=e.isPinned,f=e.canReorder,m=e.allowedDropTargetDropOnMimeTypes,b=e.onDropTargetDropOn,v=e.onLongDragOver,h=e.style,x=e.openDeleteDialog,P=e.togglePlay,O=e.triggerPlay,j=e.isPlaying,w=e.isActive,S=e.type,A=(e.menu,e.name,e.subtitle,e.downloadButton,e.expandFolderButton,e.cover,e.alt,e.addedAt,e.lastPlayedAt,e.shouldShowType,e.playbackUri,e.playInsteadOfNavigating),D=e.spec,C=e.nrValidItems,I=e.index,R=(e.lockedIcon,e.onKeyDown),E=(e.preReleaseIcon,(0,o.A)(e,xi)),k=Bn({uri:n,to:l,type:S,handleNavigate:s,dragLabel:y,isPinned:g,canReorder:f,allowedDropTargetDropOnMimeTypes:m,onDropTargetDropOn:b,onLongDragOver:v,openDeleteDialog:x,togglePlay:P,triggerPlay:O,isPlaying:j,isActive:w,playInsteadOfNavigating:A,spec:D,folderDepth:c}),L=k.onClick,N=k.onDoubleClick,F=k.onDragStart,M=k.onKeyDown,B=k.dropPosition,V=k.dropTargetClassName,_=k.draggable,H=k.unpinConfirmationDialog,z=k.logRightClick,X=k.isViewActive,W=k.itemRef,Y=(0,o.A)(k,Pi),K=(0,u.useCallback)((function(e){M(e),null==R||R(e)}),[M,R]);return(0,T.jsxs)(T.Fragment,{children:[H,B===U.Nz.BEFORE&&(0,T.jsx)(hi,{folderDepth:c}),(0,T.jsx)(bi.c,ji(ji(ji({style:ji({"--ylx-folder-depth":c},h),draggable:_,onDragStart:F,onDoubleClick:N,className:p()(d,V,er,(0,a.A)({},ur,B===U.Nz.ON))},E),Y),{},{onKeyDown:K,innerRef:W,"aria-setsize":C,"aria-posinset":I+1,children:(0,T.jsx)(r,ji(ji({},e),{},{to:l,isActive:w,isViewActive:X,onClick:L,logRightClick:z,playInsteadOfNavigating:A,parentRef:W}))})),B===U.Nz.AFTER&&(0,T.jsx)(hi,{folderDepth:c})]})},Si=r(4925),Ai=function(e){return e.locked?(0,T.jsx)(Si.u,{semanticColor:"textSubdued",title:w.Ru.get("mwp.header.content.unavailable"),className:tn.A.icon,size:"xsmall"}):null},Di=r(74484);function Ci(e){var t,r,n=e.uri,i=e.artists,a=e.isPremiumOnly,o=(0,u.useContext)(le.g).filter,l=(0,cn.l_)(n),s=l.isPlaying,c=l.isActive,d=(0,g.wA)(),p=(0,u.useCallback)((function(){d((0,Hr.aw)(n))}),[d,n]),y=(0,Di.P)({uri:n},{featureIdentifier:"album",referrerIdentifier:"your_library"}),f=y.togglePlay,m=y.triggerPlay;return{isPlaying:s,isActive:c,openDeleteDialog:p,togglePlay:a?void 0:f,triggerPlay:a?void 0:m,menu:(0,T.jsx)(zr.h,{uri:n,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0}),subtitleText:(0,T.jsx)(Wr.M,{searchWords:[o.trim()],textToHighlight:null!==(t=null===(r=i.at(0))||void 0===r?void 0:r.name)&&void 0!==t?t:""}),downloadButton:(0,T.jsx)(Xr.M,{uri:n,size:"xsmall",className:tn.A.icon,as:"span"})}}var Ii=function(e){var t=e.libraryItem,r=e.shouldShowType,n=void 0!==r&&r,i=e.RowVariantComponent,a=e.spec,o=e.nrValidItems,l=e.index,s=t.uri,c=t.images,u=t.name,d=t.pinned,p=t.type,y=t.addedAt,g=t.lastPlayedAt,f=t.color,m=t.isPremiumOnly,b=Ci(t),v=b.isPlaying,h=b.isActive,x=b.openDeleteDialog,P=b.togglePlay,O=b.triggerPlay,j=b.menu,w=b.subtitleText,S=b.downloadButton,A=(0,T.jsx)(fi,{title:u,type:p,images:c,color:f,uri:s,isPlaying:v,spec:a,togglePlay:P}),D=(0,T.jsx)(Ai,{locked:m});return(0,T.jsx)(wi,{RowVariantComponent:i,uri:s,cover:A,name:u,subtitle:w,downloadButton:S,alt:u,type:p,dragLabel:u,menu:j,togglePlay:P,triggerPlay:O,openDeleteDialog:x,addedAt:y,lastPlayedAt:g,isPinned:d,isPlaying:v,isActive:h,shouldShowType:n,spec:a,nrValidItems:o,index:l,lockedIcon:D})},Ti=function(e){var t=e.libraryItem,r=e.shouldShowType,n=void 0!==r&&r,i=e.spec,a=e.index,o=t.uri,l=t.images,s=t.name,c=t.pinned,u=t.type,d=t.color,p=t.isPremiumOnly,y=Ci(t),g=y.togglePlay,f=y.triggerPlay,m=y.menu,b=y.subtitleText,v=y.downloadButton,h=y.openDeleteDialog,x=y.isPlaying,P=y.isActive,O=(0,T.jsx)(mi,{title:s,type:u,images:l,uri:o,togglePlay:g,color:d,spec:i,isActive:P,isPlaying:x}),j=(0,T.jsx)(Ai,{locked:p});return(0,T.jsx)(ri,{uri:o,name:s,subtitle:b,menu:m,dragLabel:s,cover:O,downloadButton:v,type:u,togglePlay:g,triggerPlay:f,isPinned:c,shouldShowType:n,openDeleteDialog:h,isPlaying:x,isActive:P,spec:i,index:a,lockedIcon:j})},Ri=r(52733);function Ei(e){var t=e.uri,r=(0,g.wA)(),n=(0,Di.P)({uri:t},{featureIdentifier:"artist",referrerIdentifier:"your_library"}),i=n.togglePlay,a=n.triggerPlay,o=(0,cn.l_)(t);return{togglePlay:i,triggerPlay:a,isPlaying:o.isPlaying,isActive:o.isActive,openDeleteDialog:(0,u.useCallback)((function(){r((0,Hr.aw)(t))}),[r,t]),menu:(0,T.jsx)(Ri.t,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0})}}var ki=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l=t.uri,s=t.images,c=t.name,u=t.type,d=t.addedAt,p=t.lastPlayedAt,y=t.pinned,g=t.color,f=Ei(t),m=f.togglePlay,b=f.triggerPlay,v=f.isPlaying,h=f.isActive,x=f.openDeleteDialog,P=f.menu,O=(0,T.jsx)(fi,{title:c,type:u,images:s,isCircular:!0,color:g,uri:l,isPlaying:v,spec:i,togglePlay:m});return(0,T.jsx)(wi,{RowVariantComponent:n,uri:l,cover:O,name:c,type:u,alt:c,dragLabel:c,menu:P,togglePlay:m,triggerPlay:b,openDeleteDialog:x,addedAt:d,lastPlayedAt:p,isPlaying:v,isActive:h,isPinned:y,shouldShowType:r,spec:i,nrValidItems:a,index:o})},Li=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.spec,i=e.index,a=t.uri,o=t.images,l=t.name,s=t.type,c=t.pinned,u=t.color,d=Ei(t),p=d.togglePlay,y=d.triggerPlay,g=d.menu,f=d.openDeleteDialog,m=d.isPlaying,b=d.isActive,v=(0,T.jsx)(mi,{title:l,type:s,images:o,uri:a,togglePlay:p,isCircular:!0,color:u,spec:n,isActive:b,isPlaying:m});return(0,T.jsx)(ri,{uri:a,name:l,menu:g,dragLabel:l,cover:v,type:s,togglePlay:p,triggerPlay:y,isPinned:c,shouldShowType:r,openDeleteDialog:f,isPlaying:m,isActive:b,spec:n,index:i})},Ni=r(76089);function Fi(e){var t=e.uri,r=e.authorName,n=(0,u.useContext)(le.g).filter,i=(0,g.wA)(),a=(0,cn.l_)(t);return{isPlaying:a.isPlaying,isActive:a.isActive,openDeleteDialog:(0,u.useCallback)((function(){i((0,Hr.aw)(t))}),[i,t]),menu:(0,T.jsx)(Ni.p,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0}),subtitleText:(0,T.jsx)(Wr.M,{searchWords:[n.trim()],textToHighlight:r}),downloadButton:(0,T.jsx)(Xr.M,{uri:t,size:"xsmall",className:tn.A.icon,as:"span"})}}var Mi=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l=t.uri,s=t.images,c=t.name,u=t.type,d=t.pinned,p=t.addedAt,y=t.lastPlayedAt,g=t.color,f=Fi(t),m=f.isPlaying,b=f.isActive,v=f.openDeleteDialog,h=f.menu,x=f.subtitleText,P=f.downloadButton,O=(0,T.jsx)(fi,{title:c,type:u,images:s,color:g,uri:l,isPlaying:m,spec:i,togglePlay:void 0}),j=(0,T.jsx)(Ai,{locked:t.isLocked});return(0,T.jsx)(wi,{RowVariantComponent:n,uri:l,cover:O,name:c,subtitle:x,alt:c,dragLabel:c,menu:h,openDeleteDialog:v,addedAt:p,lastPlayedAt:y,isPlaying:m,isActive:b,isPinned:d,shouldShowType:r,type:u,spec:i,nrValidItems:a,lockedIcon:j,index:o,downloadButton:P})},Bi=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.spec,i=e.index,a=t.uri,o=t.images,l=t.name,s=t.type,c=t.pinned,u=t.color,d=Fi(t),p=d.menu,y=d.subtitleText,g=d.openDeleteDialog,f=d.isPlaying,m=d.isActive,b=d.downloadButton,v=(0,T.jsx)(mi,{title:l,type:s,images:o,uri:a,color:u,spec:n,isActive:m,isPlaying:f});return(0,T.jsx)(ri,{uri:a,name:l,subtitle:y,menu:p,dragLabel:l,cover:v,isPinned:c,shouldShowType:r,type:s,openDeleteDialog:g,isPlaying:f,isActive:m,spec:n,index:i,downloadButton:b})},Ui=(r(34518),r(31285)),Vi=r(32520);function _i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var zi=function(e){var t=e.uri,r=e.divider,n=e.onDeleteCallback,i=(0,A.W)(),a=(0,g.wA)(),o=(0,u.useCallback)((function(){i({intent:"playlisting",type:"click"}),a((0,Hr.OB)(t,n))}),[a,n,i,t]);return(0,T.jsx)(S.D,{role:"menuitem",divider:r,onClick:o,leadingIcon:(0,T.jsx)(Vi.P,{semanticColor:"textSubdued",size:"small"}),children:w.Ru.get("contextmenu.delete")})},Xi=u.memo((function(e){return(0,T.jsx)(C.pZ,{value:"delete-folder",children:(0,T.jsx)(zi,Hi({},e))})})),Wi=r(24249),Yi=r(45355),Ki=r(70019);function Gi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gi(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ji=function(e){var t=e.uri,r=e.spec,n=(0,Di.P)({uri:t},{featureIdentifier:"folder"}),i=n.togglePlay,a=n.isPlaying,o=n.isActive,l=(0,I.s)(),s=(0,u.useCallback)((function(){i(),r&&l&&(a?l.logInteraction(r.playButtonFactory({uri:t}).hitPause({itemToBePaused:t})):o?l.logInteraction(r.playButtonFactory({uri:t}).hitResume({itemToBeResumed:t})):l.logInteraction(r.playButtonFactory({uri:t}).hitPlay({itemToBePlayed:t})))}),[o,a,l,r,i,t]);return(0,T.jsx)(S.D,{role:"menuitem",onClick:s,leadingIcon:a?(0,T.jsx)(Yi._,{semanticColor:"textSubdued",size:"small"}):(0,T.jsx)(Ki.A,{semanticColor:"textSubdued",size:"small"}),children:a?w.Ru.get("pause"):w.Ru.get("play")})},qi=u.memo((function(e){return(0,T.jsx)(C.pZ,{value:"create-folder",children:(0,T.jsx)(Ji,Zi({},e))})})),Qi=r(41413);function $i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$i(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ta=function(e){var t=e.uri,r=e.name,n=e.divider,i=e.spec,a=e.handleRename,o=(0,I.s)(),l=(0,g.wA)(),s=(0,u.useCallback)((function(){i&&o.logInteraction(i.editButtonFactory({uri:t}).hitUiReveal()),l((0,Hr.O2)(r,a))}),[l,o,r,a,i,t]);return(0,T.jsx)(S.D,{role:"menuitem",divider:n,onClick:s,leadingIcon:(0,T.jsx)(Qi.G,{semanticColor:"textSubdued",size:"small"}),children:w.Ru.get("contextmenu.rename")})},ra=u.memo((function(e){return(0,T.jsx)(C.pZ,{value:"rename",children:(0,T.jsx)(ta,ea({},e))})})),na=r(23571),ia=r(29533),aa=u.memo((function(e){var t=e.reference,r=e.name,n=void 0===r?"":r,i=e.onRename,a=e.onCreateCallback,o=void 0===a?function(){}:a,l=e.onDeleteCallback,s=e.canPin,c=void 0===s?N.oT.NO:s,u=e.isPinned,d=void 0!==u&&u,p=e.isPlayable,y=void 0===p||p,g=(0,F.o)(t.uri).spec,f=(0,ia.Ek)()&&y;return(0,T.jsx)(C.pZ,{value:"folder",children:(0,T.jsxs)(P.W,{children:[(0,T.jsx)(ra,{spec:g,uri:t.uri,name:n,handleRename:i}),(0,T.jsx)(Xi,{uri:t.uri,divider:"after",onDeleteCallback:l}),(c!==N.oT.NO||d)&&(0,T.jsx)(Wi.k,{uri:t.uri,canPin:c,isPinned:d,type:Un.c.FOLDER,spec:g}),(0,T.jsx)(L,{position:{after:t},onCreateCallback:o,spec:g}),(0,T.jsx)(O.j,{position:{after:t},onCreateCallback:o,spec:g}),(0,T.jsx)(na.y,{uriToBeAdded:t.uri,isInLibrary:!0,spec:g}),f&&(0,T.jsx)(qi,{uri:t.uri,spec:g})]})})}));function oa(e,t){var r=(0,D.A)(),a=r.createPlaylistFromAlbum,o=r.createPlaylistFromTracks,l=(0,I.s)(),s=(0,An.g)(),d=Dn(),p=wn({onApplyDrop:(0,u.useCallback)((function(r){if(t){var n=r[B.fl.PLAYLISTS_V2],i=void 0===n?[]:n,a=r[B.fl.FOLDERS],o=void 0===a?[]:a,c={after:{uri:t}};i.length&&(d(i,c),l.logInteraction(e.dragSort())),o.length&&(s.moveFolder({uri:o[0]},c),l.logInteraction(e.dragSort()))}}),[d,l,s,e,t])}),y=p.unpinConfirmationDialog,g=p.applyDropWithUnpinConfirmation,f=(0,u.useCallback)(function(){var r=(0,i.A)(c().mark((function r(i){var s,u,d,p,y,f,m,b,v,h,x,P,O;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return");case 2:s=i[B.fl.TRACKS],u=void 0===s?[]:s,d=i[B.fl.LOCAL_TRACKS],p=void 0===d?[]:d,y=i[B.fl.ALBUMS],f=void 0===y?[]:y,m=i[B.fl.EPISODES],b=void 0===m?[]:m,v=i[B.fl.PLAYLISTS_V2],h=void 0===v?[]:v,x=i[B.fl.FOLDERS],P=void 0===x?[]:x,O={after:{uri:t}},h.length||P.length?g(i,U.Nz.ON):f.length?(a(f[0],O),l.logInteraction(e.yourLibraryItemFactory().dragCreatePlaylist())):(u.length||p.length||b.length)&&(o([].concat((0,n.A)(u),(0,n.A)(p),(0,n.A)(b)),O),l.logInteraction(e.yourLibraryItemFactory().dragCreatePlaylist()));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[t,g,a,l,e,o]);return{unpinConfirmationDialog:y,handleDropOnFolder:f}}var la=r(69054),sa=r(63656),ca=r(36144),ua=r(32918),da=r(13074),pa=r(60647),ya=r(99020),ga=function(e){var t=e.uri,r=(0,u.useState)(!1),n=(0,l.A)(r,2),i=n[0],a=n[1],o=(0,la.x)(),s=(0,u.useCallback)((function(){a(!0),setTimeout((function(){a(!1)}),500)}),[]);return(0,ca.l)(sa.UV.OPERATION_COMPLETE,(function(e){"add"===e.data.operation&&t===o.getDefaultCurationContextUri(e.data.uris[0])&&s()})),(0,da.e)(ua.Lj.OPERATION_COMPLETE,(function(e){"add"===e.data.operation&&t===e.data.uri&&s()})),(0,pa.b)(ya.tD.OPERATION_COMPLETE,(function(e){var r,n;"remove"!==e.data.operation&&"end"!==(null===(r=e.data.position)||void 0===r?void 0:r.after)&&(null===(n=e.data.position.after)||void 0===n?void 0:n.uri)===t&&(0,Fr.fpb)(t)&&s()})),{animateState:i,animateClassName:tn.A.pulse}},fa=r(13205),ma=r(13047);function ba(e,t){var r=e.uri,n=e.name,i=e.numberOfFolders,a=e.numberOfPlaylists,o=e.pinned,l=(0,cn.l_)(r),s=l.isPlaying,c=l.isActive,d=(0,u.useContext)(Br).pushFolder,p=(0,g.wA)(),y=(0,Di.P)({uri:r},{featureIdentifier:"folder",referrerIdentifier:"your_library"}),f=y.togglePlay,m=y.triggerPlay,b=(0,g.d4)((function(e){return e.platform.isDesktop})),v=oa(t,r),h=v.handleDropOnFolder,x=v.unpinConfirmationDialog,P=(0,fa.Z)().renameFolder,O=h,j=[a>0||!i?w.Ru.get("web-player.your-library-x.rows.folder.number-of-playlists",a):null,i>0?w.Ru.get("web-player.your-library-x.rows.folder.number-of-folders",i):null].filter(ma.P).join(w.Ru.getSeparator()),S=(0,u.useCallback)((function(){P(e,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}),[e,P]),A=(0,u.useCallback)((function(){d(e.uri)}),[e.uri,d]);return{openDeleteDialog:(0,u.useCallback)((function(){p((0,Hr.OB)(r))}),[p,r]),togglePlay:b?f:void 0,triggerPlay:b?m:void 0,menu:(0,T.jsx)(aa,{reference:{uri:r},name:n,canPin:e.canPin,isPinned:o,onRename:S,isPlayable:!e.isEmpty}),subtitleText:j,onDropTargetDropOn:O,handleNavigate:A,dropOnFolderUnpinConfirmationDialog:x,isPlaying:s,isActive:c}}var va=function(e){var t,r,n=e.libraryItem,i=e.RowVariantComponent,o=e.spec,s=e.nrValidItems,c=e.index,d=n.uri,y=n.folderDepth,g=n.name,f=n.type,m=n.isFlattened,b=n.pinned,v=n.canReorder,h=ba(n,o),x=h.openDeleteDialog,P=h.togglePlay,O=h.triggerPlay,j=h.menu,S=h.subtitleText,A=h.onDropTargetDropOn,D=h.handleNavigate,C=h.dropOnFolderUnpinConfirmationDialog,R=h.isPlaying,E=h.isActive,k=function(e){var t=(0,u.useContext)(Nt),r=t.getIsFolderExpanded,n=t.setIsFolderExpanded;return[(0,u.useMemo)((function(){return r(e)}),[r,e]),(0,u.useCallback)((function(t){n(e,t)}),[n,e])]}(d),L=(0,l.A)(k,2),N=L[0],F=L[1],M=(0,I.s)(),B=(0,u.useCallback)((function(){F(!0),M.logInteraction(o.yourLibraryItemFactory().dragUiReveal())}),[M,F,o]),U=(0,u.useCallback)((function(e){e.stopPropagation()}),[]),V=(0,u.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),F(!N),N?M.logInteraction(o.yourLibraryItemFactory().toggleFolderButtonFactory().hitUiHide()):M.logInteraction(o.yourLibraryItemFactory().toggleFolderButtonFactory().hitUiReveal())}),[F,N,M,o]),_=(0,u.useCallback)((function(e){"ArrowLeft"===e.key?F(!1):"ArrowRight"===e.key&&F(!0)}),[F]),H=!m&&(0,T.jsx)(et.H,{"data-skip-in-keyboard-nav":!0,"aria-label":N?w.Ru.get("web-player.your-library-x.collapse-folder"):w.Ru.get("web-player.your-library-x.expand-folder"),iconOnly:Ui.y,size:"small",condensedAll:!0,onClick:V,onDoubleClick:U,tabIndex:-1,className:p()(_t,Ht,(0,a.A)({},$t,!N))}),z=ga({uri:d}),X=z.animateState,W=z.animateClassName,Y=(0,T.jsx)(fi,{title:g,type:f,animateState:X,animateClassName:W,uri:d,isPlaying:R,spec:o,togglePlay:P});return(0,T.jsxs)(T.Fragment,{children:[C,(0,T.jsx)(wi,{onKeyDown:_,RowVariantComponent:i,uri:d,to:"/folder/".concat(null!==(t=null===(r=(0,Fr.o_h)(d))||void 0===r?void 0:r.id)&&void 0!==t?t:""),handleNavigate:D,folderDepth:y,cover:Y,name:g,subtitle:S,alt:g,dragLabel:g,menu:j,canReorder:v,allowedDropTargetDropOnMimeTypes:Tr,onDropTargetDropOn:A,onLongDragOver:B,togglePlay:P,triggerPlay:O,openDeleteDialog:x,addedAt:n.addedAt,lastPlayedAt:n.lastPlayedAt,isPinned:b,shouldShowType:!1,type:f,isPlaying:R,isActive:E,expandFolderButton:H,spec:o,nrValidItems:s,index:c})]})},ha=function(e){var t,r,n=e.libraryItem,i=e.spec,a=e.index,o=n.uri,l=n.name,s=n.type,c=n.pinned,u=n.canReorder,d=ba(n,i),p=d.togglePlay,y=d.triggerPlay,g=d.menu,f=d.subtitleText,m=d.onDropTargetDropOn,b=d.handleNavigate,v=d.openDeleteDialog,h=d.isPlaying,x=d.isActive,P=ga({uri:o}),O=P.animateState,j=P.animateClassName,w=(0,T.jsx)(mi,{title:l,type:s,uri:o,togglePlay:p,spec:i,isActive:x,isPlaying:h});return(0,T.jsx)(ri,{uri:o,to:"/folder/".concat(null!==(t=null===(r=(0,Fr.o_h)(o))||void 0===r?void 0:r.id)&&void 0!==t?t:""),handleNavigate:b,cover:w,name:l,subtitle:f,menu:g,dragLabel:l,canReorder:u,allowedDropTargetDropOnMimeTypes:Tr,onLongDragOver:b,onDropTargetDropOn:m,togglePlay:p,triggerPlay:y,isPinned:c,shouldShowType:!1,type:s,openDeleteDialog:v,isPlaying:h,isActive:x,spec:i,index:a,animateState:O,animateClassName:j})},xa=r(48274),Pa=u.memo((function(e){var t=e.uri,r=e.canPin,n=e.isPinned,i=e.downloadUri,a=(0,F.o)(t).spec;return(0,T.jsx)(C.pZ,{value:"generic",children:(0,T.jsxs)(P.W,{children:[i?(0,T.jsx)(xa.d,{spec:a,uri:i}):null,r!==N.oT.NO&&(0,T.jsx)(Wi.k,{uri:t,canPin:r,isPinned:n,type:Un.c.PLAYLIST,spec:a})]})})})),Oa=r(73309);function ja(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var wa=[B.fl.TRACKS,B.fl.LOCAL_TRACKS];function Sa(e){var t=e.numberOfSongs,r="spotify:collection:tracks",i=(0,g.d4)(Oa.Ht).user,o=(0,Fr.fHB)(null==i?void 0:i.id).toURI(),l=o,s=o,c=(0,Di.P)({uri:l},{featureIdentifier:"your_library",referrerIdentifier:"your_library"}),d=c.togglePlay,p=c.triggerPlay,y=(0,cr.f)(),f=(0,cn.l_)(l),m=f.isPlaying,b=f.isActive,v=(0,u.useCallback)((function(e){var t=e[B.fl.TRACKS],r=void 0===t?[]:t,i=e[B.fl.LOCAL_TRACKS],a=void 0===i?[]:i,o=[].concat((0,n.A)(r),(0,n.A)(a));null!=o&&o.length&&(null==y||y.add({uris:o}))}),[y]);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ja(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ja(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isPlaying:m,isActive:b,togglePlay:d,triggerPlay:p,menu:(0,T.jsx)(Pa,{uri:r,canPin:e.canPin,isPinned:e.pinned,downloadUri:s}),downloadButton:(0,T.jsx)(Xr.M,{uri:s,size:"xsmall",className:tn.A.icon,as:"span"}),subtitleText:(0,T.jsx)(T.Fragment,{children:w.Ru.get("web-player.your-library-x.rows.liked-songs.subtitle",t)}),onDropTargetDropOn:v,playbackUri:l,uri:r},ga({uri:r}))}var Aa=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l=t.images,s=t.name,c=t.type,u=t.pinned,d=t.addedAt,p=t.lastPlayedAt,y=t.color,g=Sa(t),f=g.isPlaying,m=g.isActive,b=g.togglePlay,v=g.triggerPlay,h=g.menu,x=g.subtitleText,P=g.onDropTargetDropOn,O=g.playbackUri,j=g.uri,w=g.downloadButton,S=g.animateState,A=g.animateClassName,D=(0,T.jsx)(fi,{title:s,type:c,images:l,color:y,animateState:S,animateClassName:A,uri:j,isPlaying:f,spec:i,togglePlay:b});return(0,T.jsx)(wi,{RowVariantComponent:n,uri:j,cover:D,name:s,subtitle:x,alt:s,dragLabel:s,menu:h,allowedDropTargetDropOnMimeTypes:wa,onDropTargetDropOn:P,togglePlay:b,triggerPlay:v,addedAt:d,lastPlayedAt:p,isPlaying:f,isActive:m,isPinned:u,shouldShowType:r,type:c,playbackUri:O,downloadButton:w,spec:i,nrValidItems:a,index:o})},Da=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.spec,i=e.index,a=t.images,o=t.name,l=t.type,s=t.pinned,c=t.color,u=Sa(t),d=u.togglePlay,p=u.triggerPlay,y=u.menu,g=u.subtitleText,f=u.onDropTargetDropOn,m=u.playbackUri,b=u.uri,v=u.downloadButton,h=u.isPlaying,x=u.isActive,P=u.animateState,O=u.animateClassName,j=(0,T.jsx)(mi,{title:o,type:l,images:a,uri:m,togglePlay:d,color:c,spec:n,isActive:x,isPlaying:h});return(0,T.jsx)(ri,{uri:b,name:o,subtitle:g,menu:y,dragLabel:o,allowedDropTargetDropOnMimeTypes:wa,onDropTargetDropOn:f,cover:j,togglePlay:d,triggerPlay:p,isPinned:s,shouldShowType:r,type:l,playbackUri:m,downloadButton:v,isPlaying:h,isActive:x,spec:n,index:i,animateState:P,animateClassName:O})},Ca=r(19750),Ia=r(99794),Ta=r(3497),Ra=r(2398);function Ea(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ka(e){var t=e.numberOfFiles,r=Ra.bV,n=(0,Ta.Iu)().uri,i=(0,cn.l_)(r);return{playbackUri:r,uri:n,isPlaying:i.isPlaying,isActive:i.isActive,menu:(0,T.jsx)(Pa,{uri:n,canPin:e.canPin,isPinned:e.pinned}),downloadButton:(0,T.jsx)(Ca.F,{size:"xsmall",className:tn.A.icon,semanticColor:"textBrightAccent"}),subtitleText:w.Ru.get("web-player.your-library-x.rows.local-files.subtitle",t)}}var La=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l=t.name,s=t.addedAt,c=t.lastPlayedAt,u=t.type,d=t.pinned,p=ka(t),y=p.playbackUri,g=p.uri,f=p.isPlaying,m=p.menu,b=p.subtitleText,v=p.downloadButton,h=p.isActive,x=(0,T.jsx)("div",{className:zt,children:(0,T.jsx)(Ia.e,{iconSize:24,title:l})});return(0,T.jsx)(wi,{RowVariantComponent:n,uri:g,name:l,subtitle:b,alt:l,dragLabel:l,menu:m,addedAt:s,lastPlayedAt:c,isPinned:d,isPlaying:f,isActive:h,shouldShowType:r,playbackUri:y,downloadButton:v,cover:x,type:u,spec:i,nrValidItems:a,index:o})},Na=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.spec,i=e.index,o=t.name,l=t.images,s=t.type,c=t.pinned,u=ka(t),d=u.playbackUri,p=u.uri,y=u.menu,g=u.downloadButton,f=u.subtitleText,m=u.isPlaying,v=u.isActive,h=(0,b.NC)(yi.AE),x=(0,T.jsx)("div",{className:Zn,children:(0,T.jsx)(ni.M,{images:l,FallbackComponent:function(e){return(0,T.jsx)(Ia.e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ea(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ea(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({size:"xxlarge",className:h?Gn:""},e))}})});return(0,T.jsx)(ri,{uri:p,name:o,subtitle:f,menu:y,cover:x,type:s,playbackUri:d,downloadButton:g,isPinned:c,shouldShowType:r,isPlaying:m,isActive:v,spec:n,index:i})},Fa=r(6037),Ma=function(e){var t=e.index,r=e.type,n=(0,b.NC)(yi.AE),i=Wn();return(0,T.jsx)(Fa.T,{columnIndex:0,children:(0,T.jsx)(Yr.Z,{className:p()(Yn,(0,a.A)({},Kn,i)),media:(0,T.jsx)(ni.M,{images:[],FallbackComponent:function(){return(0,T.jsx)(ui.s,{type:r,size:"xxlarge",className:n?Gn:"",semanticColor:"textSubdued"})},isCircular:r===Un.c.ARTIST}),variant:"naked",id:t,title:"",padding:i?Kr.vw:Kr.CJ})})},Ba=r(21011),Ua=r(83741),Va=r(51355),_a=r(69089),Ha=r(53045),za=r(32473),Xa=r(69965),Wa=r(75421),Ya=r(13729),Ka=r(17947),Ga=r(59622),Za=r(11681),Ja=r(74896),qa=r(14876),Qa=r(9554),$a=r(60645),eo=r(53685),to=r(86503),ro=u.memo((function(e){var t,r,n,i,a,o=e.reference,l=e.isPublished,s=e.canPin,c=void 0===s?N.oT.NO:s,u=e.isPinned,d=void 0!==u&&u,p=e.useDialogForUnfollow,y=void 0!==p&&p,g=e.isInLibrary,f=o.uri,m=(0,eo.J)(f),b=!(null==m||null===(t=m.permissions)||void 0===t||!t.isPrivate),v=null!==(r=null!==(n=(0,to.v)(f))&&void 0!==n?n:null==m?void 0:m.isPublished)&&void 0!==r?r:l,h=(0,F.o)(f).spec,x=null==m?void 0:m.hasSpotifyAudiobooks;return m&&(0,T.jsx)(C.pZ,{value:"playlist",children:(0,T.jsxs)(P.W,{children:[!x&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Va.K,{spec:h,uris:[f]}),(0,T.jsx)($a._,{uri:f,spec:h})]}),!b&&(0,T.jsx)(Za._,{spec:h,divider:m.isOwnedBySelf?"after":"both",uri:f,isPublished:v}),m.isOwnedBySelf&&(0,T.jsx)(za.T,{spec:h,uri:f,name:m.name,description:m.description,image:m.images[0]}),!m.isOwnedBySelf&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Ja.P,{spec:h,uri:f}),(0,T.jsx)(Ua.ET,{uri:f,useDialog:y,initialState:g})]}),m.isOwnedBySelf&&(0,T.jsx)(Ha.u,{spec:h,uri:f}),!x&&(0,T.jsx)(xa.d,{spec:h,uri:f}),(0,T.jsx)(L,{position:{after:o},divider:"before",spec:h}),(0,T.jsx)(O.j,{position:{after:o},spec:h}),(null===(i=m.permissions)||void 0===i?void 0:i.canAdministratePermissions)&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Ga.U,{spec:h,divider:"before",uri:f,isPrivate:b}),!x&&(0,T.jsx)(Wa.n,{uri:f,spec:h})]}),(null===(a=m.permissions)||void 0===a?void 0:a.canCancelMembership)&&(0,T.jsx)(Ya._,{spec:h,divider:"before",uri:f}),(0,T.jsx)(Xa.w,{spec:h,uri:f}),(0,T.jsx)(na.y,{uriToBeAdded:f,isInLibrary:!0,spec:h}),!x&&(0,T.jsx)(qa.o,{spec:h,uris:[f],isPlaylist:!0}),(c!==N.oT.NO||d)&&(0,T.jsx)(Wi.k,{uri:f,canPin:c,isPinned:d,type:Un.c.PLAYLIST,spec:h}),(m.isOwnedBySelf||!b)&&(0,T.jsxs)(Qa.h,{divider:"before",children:[(0,T.jsx)(_a.m,{spec:h,uri:f,displayText:w.Ru.get("contextmenu.share.copy-playlist-link"),isPrivatePlaylist:b}),(0,T.jsx)(Ka.x,{spec:h,uri:f,type:Un.c.PLAYLIST})]})]})})})),no=u.memo((function(e){var t=e.reference,r=e.canPin,n=void 0===r?N.oT.NO:r,i=e.isPinned,a=void 0!==i&&i,o=t.uri,l=(0,F.o)(o).spec;return(0,T.jsx)(C.pZ,{value:"playlist",children:(0,T.jsxs)(P.W,{children:[(0,T.jsx)(L,{position:{after:t},divider:"before",spec:l}),(0,T.jsx)(O.j,{position:{after:t},spec:l}),n!==N.oT.NO&&(0,T.jsx)(Wi.k,{uri:o,canPin:n,isPinned:a,type:Un.c.PLAYLIST,spec:l})]})})})),io=r(4178),ao=function(){return(0,io.m)().getCapabilities()};function oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lo(e,t){var r=e.uri,o=e.isLoading,l=e.owner,s=e.pinned,d=(0,io.m)(),p=(0,u.useContext)(le.g).filter,y=ao().canAddAudiobooks,f=[B.fl.TRACKS,B.fl.LOCAL_TRACKS,B.fl.ALBUMS,B.fl.EPISODES],m=y?[B.fl.AUDIOBOOKS]:[];(0,u.useEffect)((function(){o&&d.resync(r)}),[d,r,o]);var b,v=(0,Di.P)({uri:r},{featureIdentifier:"playlist",referrerIdentifier:"your_library"}),h=v.togglePlay,x=v.triggerPlay,O=(0,cn.l_)(r),j=O.isPlaying,S=O.isActive,A=(0,g.wA)(),D=(0,I.s)(),C=[],R=(0,u.useCallback)(function(){var e=(0,i.A)(c().mark((function e(i){var a,o,l,s,u,d,p,y,g,f,m,b;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=i[B.fl.TRACKS],l=void 0===o?[]:o,s=i[B.fl.LOCAL_TRACKS],u=void 0===s?[]:s,d=i[B.fl.ALBUMS],p=void 0===d?[]:d,y=i[B.fl.EPISODES],g=void 0===y?[]:y,f=i[B.fl.AUDIOBOOKS],m=void 0===f?[]:f,b=[].concat((0,n.A)(l),(0,n.A)(u),(0,n.A)(p),(0,n.A)(g),(0,n.A)(m)),A((0,Ba.io)(r,b)),D.logInteraction(t.yourLibraryItemFactory().dragAddToPlaylist({itemToBeAdded:null!==(a=b.at(0))&&void 0!==a?a:"",playlist:r}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[A,D,t,r]);e.canAddTo&&(C=e.isEmpty?[].concat(m,f):e.isBooklist?m:f,b=R);var E,k=(0,u.useCallback)((function(){A((0,Hr.O)(r))}),[A,r]),L=(0,_r.c0)(r),N=o&&!e.name;E=L?(0,T.jsx)(no,{reference:e,canPin:e.canPin,isPinned:s}):N?(0,T.jsx)(P.W,{children:(0,T.jsx)(Ua.ET,{uri:r,initialState:!0})}):(0,T.jsx)(ro,{reference:e,canPin:e.canPin,isPinned:s,useDialogForUnfollow:!0,isInLibrary:!0});var F=(0,T.jsx)(Xr.M,{uri:r,size:"xsmall",className:tn.A.icon,as:"span"}),M=(0,_r.c0)(r)?(0,T.jsx)(T.Fragment,{children:w.Ru.get("ylx.clicktoplay")}):(l.uri,(0,T.jsx)(Wr.M,{searchWords:[p.trim()],textToHighlight:l.name})),U=!!(0,_r.c0)(r)||!e.isBooklist&&!e.isEmpty;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({openDeleteDialog:k,togglePlay:U?h:void 0,triggerPlay:U?x:void 0,isPlaying:j,isActive:S,menu:E,downloadButton:F,subtitleText:M,allowedDropTargetDropOnMimeTypes:C,onDropTargetDropOn:b},ga({uri:r}))}var so=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l=t.uri,s=t.images,c=t.folderDepth,u=t.name,d=t.type,p=t.pinned,y=t.addedAt,g=t.lastPlayedAt,f=t.color,m=t.canReorder,b=lo(t,i),v=b.openDeleteDialog,h=b.togglePlay,x=b.triggerPlay,P=b.isPlaying,O=b.isActive,j=b.menu,w=b.downloadButton,S=b.subtitleText,A=b.allowedDropTargetDropOnMimeTypes,D=b.onDropTargetDropOn,C=b.animateState,I=b.animateClassName,R=(0,T.jsx)(fi,{title:u,type:d,images:s,color:f,animateState:C,animateClassName:I,uri:l,isPlaying:P,togglePlay:h,spec:i});return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(wi,{RowVariantComponent:n,uri:l,folderDepth:c,cover:R,name:u,subtitle:S,alt:u,dragLabel:u,menu:j,canReorder:m,allowedDropTargetDropOnMimeTypes:A,onDropTargetDropOn:D,togglePlay:h,triggerPlay:x,openDeleteDialog:v,addedAt:y,lastPlayedAt:g,isPlaying:P,isActive:O,isPinned:p,shouldShowType:r,type:d,downloadButton:w,spec:i,playInsteadOfNavigating:(0,_r.c0)(l),nrValidItems:a,index:o})})},co=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.spec,i=e.index,a=t.uri,o=t.images,l=t.name,s=t.type,c=t.pinned,u=t.color,d=t.canReorder,p=lo(t,n),y=p.togglePlay,g=p.triggerPlay,f=p.menu,m=p.downloadButton,b=p.subtitleText,v=p.onDropTargetDropOn,h=p.allowedDropTargetDropOnMimeTypes,x=p.openDeleteDialog,P=p.isPlaying,O=p.isActive,j=p.animateState,w=p.animateClassName,S=(0,T.jsx)(mi,{title:l,type:s,images:o,uri:a,togglePlay:y,color:u,spec:n,isActive:O,isPlaying:P});return(0,T.jsx)(ri,{uri:a,name:l,subtitle:b,menu:f,dragLabel:l,canReorder:d,allowedDropTargetDropOnMimeTypes:h,onDropTargetDropOn:v,cover:S,togglePlay:y,triggerPlay:g,isPinned:c,shouldShowType:r,type:s,downloadButton:m,openDeleteDialog:x,isPlaying:P,isActive:O,spec:n,playInsteadOfNavigating:(0,_r.c0)(a),index:i,animateState:j,animateClassName:w})},uo=r(92326),po=r(59908),yo=r(70417),go=r(44303),fo=u.memo((function(e){var t=e.uri,r=e.canPin,n=void 0===r?N.oT.NO:r,i=e.isPinned,a=void 0!==i&&i,o=e.canRemove,l=void 0!==o&&o,s=(0,F.o)(t).spec;return(0,T.jsx)(C.pZ,{value:"audiobook",children:(0,T.jsxs)(P.W,{children:[l&&(0,T.jsx)(go.p,{uri:t,removeLabel:w.Ru.get("contextmenu.remove-from-library")}),n!==N.oT.NO&&(0,T.jsx)(Wi.k,{uri:t,canPin:n,isPinned:a,type:Un.c.PRE_RELEASE_BOOK,spec:s}),(0,T.jsx)(_a.m,{uri:t,spec:s,displayText:w.Ru.get("context-menu.copy-book-link")}),(0,T.jsx)(yo.q,{spec:s,divider:"before",uri:t})]})})}));function mo(e){var t,r=e.uri,n=e.canPin,i=e.pinned,a=e.type,o=(0,u.useContext)(le.g).filter,l=(0,g.wA)(),s=(0,u.useCallback)((function(){l((0,Hr.aw)(r,!0))}),[l,r]),c="";if(a===Un.c.PRE_RELEASE_ALBUM){var d,p,y=null===(d=e.artists)||void 0===d?void 0:d.at(0);c=null!==(p=null==y?void 0:y.name)&&void 0!==p?p:"",t=(0,T.jsx)(po.P,{uri:r,artistUri:null==y?void 0:y.uri,canPin:n,isPinned:i,canRemove:!0})}else c=e.authorName,t=(0,T.jsx)(fo,{uri:r,canPin:n,isPinned:i,canRemove:!0});return{openDeleteDialog:s,menu:t,subtitleText:(0,T.jsx)(Wr.M,{searchWords:[o.trim()],textToHighlight:c})}}var bo=function(e){var t=e.libraryItem,r=e.shouldShowType,n=void 0!==r&&r,i=e.RowVariantComponent,a=e.spec,o=e.nrValidItems,l=e.index,s=t.uri,c=t.images,u=t.name,d=t.pinned,p=t.type,y=t.addedAt,g=t.lastPlayedAt,f=t.color,m=mo(t),b=m.openDeleteDialog,v=m.menu,h=m.subtitleText,x=(0,T.jsx)(fi,{title:u,type:p,images:c,color:f,uri:s,isPlaying:!1,spec:a,togglePlay:void 0});return(0,T.jsx)(wi,{RowVariantComponent:i,uri:s,cover:x,name:u,subtitle:h,alt:u,type:p,dragLabel:u,menu:v,openDeleteDialog:b,addedAt:y,lastPlayedAt:g,isPinned:d,isPlaying:!1,isActive:!1,shouldShowType:n,spec:a,nrValidItems:o,index:l,preReleaseIcon:(0,T.jsx)(uo.t,{size:"xsmall",className:tn.A.icon})})},vo=function(e){var t=e.libraryItem,r=e.shouldShowType,n=void 0!==r&&r,i=e.spec,a=e.index,o=t.uri,l=t.images,s=t.name,c=t.pinned,u=t.type,d=t.color,p=mo(t),y=p.menu,g=p.subtitleText,f=p.openDeleteDialog,m=(0,T.jsx)(mi,{title:s,type:u,images:l,uri:o,color:d,spec:i,isActive:!1,isPlaying:!1});return(0,T.jsx)(ri,{uri:o,name:s,subtitle:g,menu:y,dragLabel:s,cover:m,type:u,isPinned:c,shouldShowType:n,openDeleteDialog:f,isPlaying:!1,isActive:!1,spec:i,index:a,preReleaseIcon:(0,T.jsx)(uo.t,{size:"xsmall",className:tn.A.icon})})},ho=r(39342);function xo(e){var t=e.uri,r=e.publisher,n=(0,u.useContext)(le.g).filter,i=(0,g.wA)(),a=(0,Di.P)({uri:t},{featureIdentifier:"show",referrerIdentifier:"your_library"}),o=a.togglePlay,l=a.triggerPlay,s=(0,cn.l_)(t);return{isPlaying:s.isPlaying,isActive:s.isActive,openDeleteDialog:(0,u.useCallback)((function(){i((0,Hr.aw)(t))}),[i,t]),togglePlay:o,triggerPlay:l,menu:(0,T.jsx)(ho.H,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0}),downloadButton:(0,T.jsx)(Xr.M,{uri:t,size:"xsmall",className:tn.A.icon,as:"span"}),subtitleText:(0,T.jsx)(Wr.M,{autoEscape:!0,searchWords:[n.trim()],textToHighlight:r})}}var Po=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l=t.uri,s=t.images,c=t.name,u=t.type,d=t.addedAt,p=t.lastPlayedAt,y=t.pinned,g=t.color,f=xo(t),m=f.isPlaying,b=f.isActive,v=f.openDeleteDialog,h=f.togglePlay,x=f.triggerPlay,P=f.menu,O=f.downloadButton,j=f.subtitleText,w=(0,T.jsx)(fi,{title:c,type:u,images:s,color:g,uri:l,isPlaying:m,spec:i,togglePlay:h});return(0,T.jsx)(wi,{RowVariantComponent:n,uri:l,cover:w,name:c,subtitle:j,alt:c,dragLabel:c,menu:P,togglePlay:h,triggerPlay:x,openDeleteDialog:v,addedAt:d,lastPlayedAt:p,isPlaying:m,isActive:b,isPinned:y,shouldShowType:r,type:u,downloadButton:O,spec:i,nrValidItems:a,index:o})},Oo=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.spec,i=e.index,a=t.uri,o=t.images,l=t.name,s=t.type,c=t.pinned,u=t.color,d=xo(t),p=d.togglePlay,y=d.triggerPlay,g=d.menu,f=d.downloadButton,m=d.subtitleText,b=d.openDeleteDialog,v=d.isPlaying,h=d.isActive,x=(0,T.jsx)(mi,{title:l,type:s,images:o,uri:a,togglePlay:p,color:u,spec:n,isActive:h,isPlaying:v});return(0,T.jsx)(ri,{uri:a,name:l,subtitle:m,menu:g,dragLabel:l,cover:x,togglePlay:p,triggerPlay:y,isPinned:c,shouldShowType:r,type:s,downloadButton:f,openDeleteDialog:b,isPlaying:v,isActive:h,spec:n,index:i})};function jo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var wo=[B.fl.EPISODES];function So(e){var t=e.numberOfDownloadedEpisodes,r=e.uri,n=(0,b.NC)($.ucV,{loadingValue:!1}),i=(0,g.d4)(Oa.Ht).user,o=(0,Fr.fHB)(null==i?void 0:i.id,"your-episodes").toURI(),l=n?r:o,s=N.Xn,c=(0,Di.P)({uri:l},{featureIdentifier:"episode",referrerIdentifier:"your_library"}),d=c.togglePlay,p=c.triggerPlay,y=(0,cn.l_)(l),f=y.isPlaying,m=y.isActive,v=(0,cr.f)(),h=(0,u.useCallback)((function(e){var t=e[B.fl.EPISODES],r=void 0===t?[]:t;null!=r&&r.length&&(null==v||v.add({uris:r}))}),[v]);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isPlaying:f,isActive:m,togglePlay:d,triggerPlay:p,menu:(0,T.jsx)(Pa,{uri:s,canPin:e.canPin,isPinned:e.pinned}),downloadButton:t?(0,T.jsx)(Ca.F,{size:"xsmall",className:tn.A.icon,semanticColor:"textBrightAccent"}):null,subtitleText:w.Ru.get("web-player.your-library-x.subtitle-your-episodes"),onDropTargetDropOn:h,playbackUri:l,uri:s},ga({uri:s}))}var Ao=function(e){var t=e.libraryItem,r=e.RowVariantComponent,n=e.spec,i=e.nrValidItems,a=e.index,o=t.images,l=t.name,s=t.type,c=t.pinned,u=t.lastPlayedAt,d=t.addedAt,p=t.color,y=So(t),g=y.isPlaying,f=y.isActive,m=y.togglePlay,b=y.triggerPlay,v=y.menu,h=y.downloadButton,x=y.subtitleText,P=y.onDropTargetDropOn,O=y.playbackUri,j=y.uri,w=y.animateState,S=y.animateClassName,A=(0,T.jsx)(fi,{title:l,type:s,images:o,color:p,animateState:w,animateClassName:S,uri:j,isPlaying:g,spec:n,togglePlay:m});return(0,T.jsx)(wi,{RowVariantComponent:r,uri:j,cover:A,name:l,subtitle:x,alt:l,dragLabel:l,menu:v,allowedDropTargetDropOnMimeTypes:wo,onDropTargetDropOn:P,togglePlay:m,triggerPlay:b,addedAt:d,lastPlayedAt:u,isPlaying:g,isActive:f,isPinned:c,shouldShowType:!1,type:s,downloadButton:h,playbackUri:O,spec:n,nrValidItems:i,index:a})},Do=function(e){var t=e.libraryItem,r=e.spec,n=e.index,i=t.images,a=t.name,o=t.type,l=t.pinned,s=t.color,c=So(t),u=c.togglePlay,d=c.triggerPlay,p=c.menu,y=c.downloadButton,g=c.subtitleText,f=c.onDropTargetDropOn,m=c.playbackUri,b=c.uri,v=c.isPlaying,h=c.isActive,x=c.animateState,P=c.animateClassName,O=(0,T.jsx)(mi,{title:a,type:o,images:i,uri:b,togglePlay:u,color:s,spec:r,isActive:h,isPlaying:v});return(0,T.jsx)(ri,{uri:b,name:a,subtitle:g,menu:p,dragLabel:a,allowedDropTargetDropOnMimeTypes:wo,onDropTargetDropOn:f,cover:O,togglePlay:u,triggerPlay:d,playbackUri:m,downloadButton:y,isPinned:l,shouldShowType:!1,type:o,isPlaying:v,isActive:h,spec:r,index:n,animateState:x,animateClassName:P})};function Co(){var e=(0,b.NC)($.AEN),t=(0,Ue.x)("ylx-grid-scale",1),r=(0,l.A)(t,2),n=r[0];return{gridScale:e?n:1,setGridScale:r[1]}}var Io=r(31625),To=r(19179),Ro=r(53877),Eo=function(e){var t=e.span,r=e.onInView,n=e.marginBottom,i=e.marginTop,a=(0,u.useRef)(null);return(0,u.useEffect)((function(){if(!window.IntersectionObserver)return function(){};var e=new window.IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&r()}))}));return a.current&&e.observe(a.current),function(){e.disconnect()}}),[r]),t<=0?null:(0,T.jsx)("div",{style:{gridColumn:"1/-1",gridRow:"span ".concat(t),marginBottom:n,marginTop:i},ref:a,"data-type":"sentinel"},"topSentinel")},ko=function(e){var t=e.renderItems,r=e.nrItems,n=e.estimatedItemMaxHeight,i=e.scrollNodeRef,a=e.nrRowsOverscan,o=void 0===a?5:a,s=e.initalNrRows,c=void 0===s?5:s,d=e.onGridResize,p=(0,u.useState)({firstRowToRender:0,nrRows:c+o}),y=(0,l.A)(p,2),g=y[0],f=y[1],m=(0,u.useRef)(0),b=(0,u.useRef)(null),v=(0,u.useRef)(n),h=(0,u.useCallback)((function(){var e,t=null===(e=b.current)||void 0===e?void 0:e.querySelector(':scope > *:not([data-type="sentinel"])');v.current=t?t.getBoundingClientRect().height:v.current}),[]),x=(0,u.useCallback)((function(){var e=i.current;if(e){h();var t=Math.floor((e.scrollTop-m.current)/v.current),r=Math.max(t-o,0),n=Math.ceil(e.offsetHeight/v.current)+2*o;r===g.firstRowToRender&&n===g.nrRows||f({firstRowToRender:r,nrRows:n})}}),[o,g,i,h]),P=(0,u.useCallback)((function(e){var n=e.columnCount;if(n<=0)return[null];d&&d(n,v.current);var i=Math.ceil(r/n),a=g.firstRowToRender*n,l=g.firstRowToRender+g.nrRows-1,s=Math.min(r-1,(l+1)*n-1),c=v.current*(o-2);return[(0,T.jsx)(Eo,{span:g.firstRowToRender,onInView:x,marginBottom:"-".concat(c,"px")},"topSentinel-".concat(g.firstRowToRender)),t(a,s,n),(0,T.jsx)(Eo,{span:i-l,onInView:x,marginTop:"-".concat(c,"px")},"bottomSentinel-".concat(i-l))]}),[r,o,d,x,t,g]);return(0,u.useEffect)((function(){var e=b.current,t=i.current;e&&t&&(m.current=e.getBoundingClientRect().top-t.getBoundingClientRect().top+t.scrollTop)}),[i]),(0,T.jsx)(Ro.E,{useUniformRowHeight:!0,ref:b,render:P,onLayoutChange:h})};function Lo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function No(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fo=(0,ee.g)(Un.c),Mo=(0,u.memo)((function(e){var t=e.item,r=e.primaryFilter,n=e.spec,i=e.index,a={shouldShowType:!(0,_r.c0)(t.uri)&&_n(t.type)!==r,spec:n,index:i},o=(0,b.NC)($.lDH);switch(t.type){case Un.c.FOLDER:return(0,T.jsx)(ha,No({libraryItem:t},a));case Un.c.ALBUM:return(0,T.jsx)(Ti,No({libraryItem:t},a));case Un.c.ARTIST:return(0,T.jsx)(Li,No({libraryItem:t},a));case Un.c.AUDIOBOOK:return(0,T.jsx)(Bi,No({libraryItem:t},a));case Un.c.SHOW:return(0,T.jsx)(Oo,No({libraryItem:t},a));case Un.c.PLAYLIST:return(0,T.jsx)(co,No({libraryItem:t},a));case Un.c.LIKED_SONGS:return(0,T.jsx)(Da,No({libraryItem:t},a));case Un.c.YOUR_EPISODES:return(0,T.jsx)(Do,No({libraryItem:t},a));case Un.c.LOCAL_FILES:return(0,T.jsx)(Na,No({libraryItem:t},a));case Un.c.PRE_RELEASE_ALBUM:return o?(0,T.jsx)(vo,No({libraryItem:t},a)):null;case Un.c.PRE_RELEASE_BOOK:return(0,T.jsx)(vo,No({libraryItem:t},a));default:(0,we.d)(t)}})),Bo=function(e){var t,r=e.getItems,n=e.scrollNodeRef,i=e.primaryFilter,a=e.nrValidItems,o=e.spec,l=Co().gridScale,s=(0,To.s1)(To.yV.YLX,l),c=(0,u.useRef)({}),d=function(){var e=Co().gridScale;return!!(0,b.NC)($.AEN)&&e<.8}(),p=(0,u.useCallback)((function(e){return(0,T.jsx)(Ma,{index:e,type:Fo(i)?i:void 0},e)}),[i]),y=(0,u.useCallback)((function(e,t){return r(e,t).map((function(t,r){return t?(0,T.jsx)(Mo,{item:t,spec:o,primaryFilter:i,index:e+r},t.uri):p("".concat(e+r))}))}),[r,i,p,o]),g=(0,u.useCallback)((function(e,t){c.current={numColumns:e,rowHeight:t}}),[]);return(0,T.jsx)(Io.x,{config:s,children:(0,T.jsx)(Xn,{isCompact:d,children:(0,T.jsx)(Vr.R,{firstInteractiveIsWrapper:!0,"aria-label":w.Ru.get("web-player.your-library-x.your-library"),"aria-rowcount":Math.round(a/(null!==(t=c.current.numColumns)&&void 0!==t?t:1)),"aria-colcount":c.current.numColumns,children:(0,T.jsx)(ko,{renderItems:y,nrItems:a,estimatedItemMaxHeight:250,scrollNodeRef:n,onGridResize:g})})})})},Uo=r(86113),Vo=r(76744);const _o="main-yourLibraryX-header",Ho="main-yourLibraryX-collapseButtonWrapper",zo="main-yourLibraryX-headerContent",Xo="iYP0xuQiJCgi7gx1jUPJ",Wo="main-yourLibraryX-collapseButton",Yo="main-yourLibraryX-button",Ko="af749NDLYTDK_8LinKWD",Go="nGWhztVvLY1BInXjcWYa",Zo="oZT8iKL42zhLAm_zE5F5",Jo="MdDY8fQ_j94mQZy7ZVXf",qo="uNReR011bI8ML42Pgveg";var Qo=function(e){switch(e){case nt.fX.EXPANDED:return"expanded";case nt.fX.COLLAPSED:return"collapsed";case nt.fX.DEFAULT:return"default";default:throw(0,we.k)(e)}},$o=function(e){var t=e.folderUri,r=e.dropTargetClassName,n=e.spec,i=(0,nt.$)(),a=i.isCollapsed,o=i.ylxSidebarState,l=i.setYlxSidebarState,s=i.lastUncollapsedYlxSidebarState,c=(0,I.s)(),d=(0,u.useCallback)((function(){var e=o===nt.fX.COLLAPSED?s:nt.fX.COLLAPSED;l(e),c.logInteraction(n.hitToggleState({stateBeforeToggle:Qo(o),stateAfterToggle:Qo(e)}))}),[o,s,l,c,n]),y=a?Uo.M:Vo.A;return(0,T.jsx)(rt.Zp,{label:a?w.Ru.get("web-player.your-library-x.expand-your-library"):w.Ru.get("web-player.your-library-x.collapse-your-library"),placement:a?"right":void 0,children:(0,T.jsx)(et.H,{"aria-label":a?w.Ru.get("web-player.your-library-x.expand-your-library"):w.Ru.get("web-player.your-library-x.collapse-your-library"),onClick:d,className:p()(Ho,Yo,r),condensed:!0,iconLeading:t||a?void 0:y,iconOnly:t||a?y:void 0,children:!t&&!a&&w.Ru.get("web-player.your-library-x.your-library")})})},el=r(78170),tl=r(48824),rl=r(47321),nl=function(e){var t=e.folderUri,r=e.spec,n=(0,D.A)().createPlaylist,i=(0,fa.Z)().createFolder,a=(0,I.s)(),o=(0,We.V)(),l=t?{after:{uri:t}}:{before:"start"};return(0,T.jsxs)(P.W,{children:[(0,T.jsx)(S.D,{onClick:function(){n(void 0,l),a.logInteraction(r.createPlaylistOptionFactory().hitCreatePlaylist())},role:"menuitem",leadingIcon:(0,T.jsx)(j.u,{size:"small"}),children:w.Ru.get("web-player.your-library-x.create.create-a-new-playlist")}),!o&&(0,T.jsx)(S.D,{onClick:function(){i(w.Ru.get("web-player.your-library-x.default_folder_name"),l),a.logInteraction(r.createFolderOptionFactory().hitCreateFolder())},role:"menuitem",leadingIcon:(0,T.jsx)(rl.h,{size:"small"}),children:w.Ru.get("web-player.your-library-x.create.create-a-playlist-folder")})]})},il=["className","dropPosition"];function al(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ol(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?al(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):al(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ll=function(e){var t=e.className,r=void 0===t?"":t,i=e.folderUri,l=e.tooltipPlacement,s=e.spec,c=w.Ru.get("web-player.your-library-x.create.button-label"),d=(0,I.s)(),y=ao().canAddAudiobooks,g=(0,D.A)(),f=g.createPlaylistFromAlbum,m=g.createPlaylistFromTracks,b=g.createPlaylistFromPlaylist,v=(0,V.A)({allowedMimeTypesByDropPosition:(0,a.A)({},U.Nz.ON,[B.fl.TRACKS,B.fl.EPISODES,B.fl.ALBUMS,B.fl.PLAYLISTS_V2].concat((0,n.A)(y?[B.fl.AUDIOBOOKS]:[]))),onDrop:(0,u.useCallback)((function(e){var t=e[B.fl.TRACKS],r=void 0===t?[]:t,a=e[B.fl.LOCAL_TRACKS],o=void 0===a?[]:a,l=e[B.fl.EPISODES],s=void 0===l?[]:l,c=e[B.fl.AUDIOBOOKS],u=void 0===c?[]:c,d=e[B.fl.ALBUMS],p=void 0===d?[]:d,y=e[B.fl.PLAYLISTS_V2],g=void 0===y?[]:y,v=i?{after:{uri:i}}:{before:"start"},h=[].concat((0,n.A)(r),(0,n.A)(o),(0,n.A)(s));u.length>0?m(u,v):h.length?m(h,v):p.length>0?f(p[0],v):g.length>0&&b(g[0],v)}),[f,b,m,i])}),h=v.className,x=v.dropPosition,P=(0,o.A)(v,il);return(0,T.jsx)(tl.t,{renderInline:!0,menu:(0,T.jsx)(nl,{folderUri:i,spec:s.createMenuFactory()}),preventScrollingWhileOpen:!1,children:function(e,t,n){return(0,T.jsx)(rt.Zp,{label:c,placement:l,children:(0,T.jsx)(et.H,ol({ref:n,iconOnly:el.u,className:p()(r,h,(0,a.A)({},dr,x===U.Nz.ON)),"aria-label":c,onClick:function(e){t(e),d.logInteraction(s.hitUiReveal())},size:"small"},P))})}})},sl=r(19630),cl=r(62397),ul=function(e){var t=e.dropTargetClassName,r=e.spec,n=(0,nt.$)(),i=n.ylxSidebarState,a=n.setYlxSidebarState,o=i===nt.fX.DEFAULT,l=(0,I.s)();return(0,T.jsx)(rt.Zp,{label:o?w.Ru.get("web-player.your-library-x.show-more"):w.Ru.get("web-player.your-library-x.show-less"),children:(0,T.jsx)(et.H,{className:p()(Yo,Go,t),iconOnly:o?sl.h:cl.G,"aria-label":o?w.Ru.get("web-player.your-library-x.enlarge-your-library"):w.Ru.get("web-player.your-library-x.reduce-your-library"),onClick:function(){a(o?nt.fX.EXPANDED:nt.fX.DEFAULT),l.logInteraction(r.hitToggleState({stateBeforeToggle:o?"default":"expanded",stateAfterToggle:o?"expanded":"default"}))},size:"small"})})},dl=r(71591),pl=["dropPosition","className"];function yl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yl(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fl=function(e){var t,r=e.handleNavigateBack,n=Rn({dropTargetUri:e.parentFolderUri,spec:e.spec}).handleDropBeforeOrAfterRootlistItem,l=(0,V.A)({allowedMimeTypesByDropPosition:(0,a.A)({},U.Nz.ON,Cr),onDrop:(t=(0,i.A)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t,U.Nz.BEFORE);case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),onLongDragOver:r}),s=l.dropPosition,u=l.className,d=(0,o.A)(l,pl);return(0,T.jsx)(rt.Zp,{label:w.Ru.get("web-player.your-library-x.navigate-back-folder"),children:(0,T.jsx)(et.H,gl({className:p()(Yo,Ko,u,(0,a.A)({},dr,s===U.Nz.ON)),"aria-label":w.Ru.get("web-player.your-library-x.navigate-back-folder"),onClick:r,iconOnly:dl.g,size:"small"},d))})},ml=r(52334),bl=r(10806),vl=function(e){var t=e.folderMenu,r=e.folderName,n=e.dropTargetClassName;return(0,T.jsx)(bl.b,{menu:t,children:(0,T.jsx)("span",{children:(0,T.jsx)(rt.Zp,{label:w.Ru.get("more.label.context",r),children:(0,T.jsx)(et.H,{className:p()(Yo,Go,n),iconOnly:ml.x,"aria-haspopup":"menu","aria-label":w.Ru.get("more.label.context",r),size:"small"})})})})},hl=r(97466),xl=r(37782),Pl=r(57707),Ol=function(e){var t=e.dropTargetClassName,r=e.spec,n=(0,Pl.t)(),i=n.isGridView,a=n.setItemsView,o=(0,I.s)();return(0,T.jsx)(rt.Zp,{label:i?w.Ru.get("web-player.your-library-x.list-view"):w.Ru.get("web-player.your-library-x.grid-view"),children:(0,T.jsx)(et.H,{className:p()(Yo,t),iconOnly:i?hl.N:xl.D,"aria-label":i?w.Ru.get("web-player.your-library-x.list-view"):w.Ru.get("web-player.your-library-x.grid-view"),onClick:function(){a(i?Pl.X.LIST:Pl.X.GRID),o.logInteraction(r.hitToggleState({stateBeforeToggle:i?"grid":"list",stateAfterToggle:i?"list":"grid"}))},size:"small"})})},jl=(0,u.forwardRef)((function(e,t){var r=e.folderUri,n=e.folderName,i=e.folderMenu,a=e.onRename,o=e.spec,l=e.className,s=(0,cn.l_)(null!=r?r:"not-a-folder").isActive,c=(0,g.wA)(),d=(0,I.s)(),y=(0,u.useCallback)((function(){c((0,Hr.O2)(n,a)),d.logInteraction(o.hitRenameFolder({uri:r}))}),[c,n,r,d,a,o]);return(0,T.jsx)(rt.Zp,{label:n,showDelay:rt.uF,children:(0,T.jsx)("div",{className:p()(Jo,l),children:(0,T.jsx)(x.h,{menu:i,children:(0,T.jsx)(et.H,{"aria-label":n,onClick:y,size:"small",condensed:!0,className:p()(Yo),ref:t,children:(0,T.jsx)(ze.E,{variant:"bodyMediumBold",semanticColor:s?"textBrightAccent":void 0,className:qo,children:n})})})})})})),wl=r(6179),Sl=r(5880),Al=r(19540);const Dl="fJrnaZd0QWm65978IgD2",Cl="yCpl0fAaEYj7E8F_Oabw";var Il=function(){var e,t,r,n,i,a,o=(e=(0,u.useState)({syncing:!1,percentage:0,totalItems:0,currentItem:0}),t=(0,l.A)(e,2),r=t[0],n=t[1],i=Sl.I.UPDATE_TOTAL_PROGRESS,a=(0,u.useCallback)((function(e){return n(e.data.progress)}),[]),(0,Al.b)(i,a),r),s=o.syncing,c=o.percentage,d=o.currentItem,p=o.totalItems;return s?(0,T.jsxs)("div",{className:Dl,children:[(0,T.jsxs)("div",{className:Cl,children:[(0,T.jsx)(ze.E,{variant:"bodySmallBold",semanticColor:"textBase",children:w.Ru.get("web-player.your-library-x.download-progress-title")}),(0,T.jsx)(ze.E,{variant:"bodySmallBold",semanticColor:"textBase",children:w.Ru.get("web-player.your-library-x.download-progress-count-out-of-total",d,p)})]}),(0,T.jsx)(wl.z,{value:c})]}):null};var Tl=function(e){var t=e.parentDropTargetClassName,r=e.isLibraryCompletelyEmpty,n=e.folderUri,i=e.folderName,o=e.spec,l=e.openedFolderIsPlayable,s=(0,nt.$)(),c=s.isCollapsed,d=s.ylxSidebarState,y=s.canExpand,g=(0,fa.Z)().renameFolder,f=(0,u.useContext)(Br).popFolder,v=(0,u.useCallback)((function(){n&&g({uri:n},arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}),[n,g]),h=(0,u.useCallback)((function(){f()}),[f]),x=n?(0,T.jsx)(aa,{reference:{uri:n},name:i,onRename:v,onDeleteCallback:h,isPlayable:l}):null,P=Sn().dropOriginIsYLX,O=!c&&n&&void 0!==i,j=(0,u.useRef)(null),w=(0,u.useRef)(null),S=(0,u.useRef)(null);!function(e,t,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),a=3;a<n;a++)i[a-3]=arguments[a];var o=(0,m.U0)((function(){if(e.current)if(t.current instanceof HTMLElement){e.current.style.display="block";var r=t.current,n=r.scrollWidth>r.offsetWidth;e.current.style.display=n?"none":"block"}else e.current.style.display="block"}),[i]);(0,u.useLayoutEffect)(o,[o]),(0,di.w)({refOrElement:r,observeOnly:"width",onResize:o})}(S,(0,u.useMemo)((function(){return{get current(){var e,t;return(null===(e=w.current)||void 0===e?void 0:e.firstElementChild)instanceof HTMLElement?null===(t=w.current)||void 0===t?void 0:t.firstElementChild:null}}}),[]),j,i,O);var A=(0,b.NC)($.AEN),D=!c||r&&c;return(0,T.jsxs)("header",{className:p()(_o,(0,a.A)({},Zo,c)),ref:j,children:[!c&&(0,T.jsx)(Il,{}),(0,T.jsxs)("div",{className:p()(zo,(0,a.A)({},Xo,c)),children:[(0,T.jsxs)("div",{className:p()(Wo,(0,a.A)({},Xo,c)),children:[(0,T.jsx)($o,{folderUri:n,dropTargetClassName:t,spec:o.toggleCollapsedModeButtonFactory({identifier:""})}),n&&(0,T.jsx)(fl,{handleNavigateBack:h,parentFolderUri:n,spec:o.folderBackButtonFactory()}),O&&(0,T.jsx)(jl,{folderUri:n,folderName:i,folderMenu:x,onRename:v,spec:o.folderTitleFactory(),className:P?t:void 0,ref:w},n)]}),D&&(0,T.jsx)("span",{ref:S,children:(0,T.jsx)(ll,{className:p()(Yo,Go),folderUri:n,tooltipPlacement:c?"right":void 0,spec:o.createMenuButtonFactory()})}),n&&!c&&(0,T.jsx)(vl,{folderName:i,folderMenu:x,dropTargetClassName:t}),d===nt.fX.EXPANDED&&!A&&(0,T.jsx)(Ol,{dropTargetClassName:t,spec:o.viewDensityToggleFactory({identifier:""})}),(d===nt.fX.DEFAULT&&y||d===nt.fX.EXPANDED)&&(0,T.jsx)(ul,{dropTargetClassName:t,spec:o.toggleExpandedModeButtonFactory({identifier:""})})]})]})},Rl=r(15824),El=r(80080),kl=r(87207),Ll=function(e){var t=e.date;return(0,T.jsx)(ze.E,{variant:"bodySmall",semanticColor:"textSubdued",className:Zt,children:t&&w.Ru.formatRelativeDate(new Date(t),{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"})})};function Nl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nl(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ml=function(e){var t,r=e.handleNavigate,n=(0,T.jsx)(bn,{uri:e.uri,title:e.name,menu:e.menu,handleNavigate:r,playbackUri:e.playbackUri}),i=null!==(t=e.expandFolderButton)&&void 0!==t?t:e.isPlaying&&(0,T.jsx)(qr,{}),a=(0,T.jsx)(rn,{leading:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Hn.g,{pinned:e.isPinned}),e.preReleaseIcon,e.downloadButton,e.lockedIcon]}),subtitle:(0,T.jsxs)(T.Fragment,{children:[e.shouldShowType&&Vn(e.type),!!e.subtitle&&e.shouldShowType&&" • ",e.subtitle]}),uri:e.uri}),o=e.logRightClick;return(0,T.jsx)(x.h,{menu:e.menu,onShow:o,children:(0,T.jsx)(Zr.E,{uri:e.uri,trigger:Zr.l.OnMouseDown,children:(0,T.jsx)(El.v,{className:Mt,media:e.cover,title:n,subtitle:a,trailing:i,id:e.uri,variant:e.isViewActive?"tinted":void 0,padding:Kr.v4,onClick:e.onClick,hoverAnimationDuration:"0ms"})})})},Bl=function(e){var t=e.handleNavigate,r=(0,T.jsx)(bn,{uri:e.uri,title:e.name,menu:e.menu,handleNavigate:t,playbackUri:e.playbackUri}),n=(0,T.jsx)(rn,{leading:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Hn.g,{pinned:e.isPinned}),e.preReleaseIcon,e.downloadButton,e.lockedIcon]}),subtitle:(0,T.jsxs)(T.Fragment,{children:[e.shouldShowType&&Vn(e.type),!!e.subtitle&&e.shouldShowType&&" • ",e.subtitle]}),uri:e.uri}),i=e.logRightClick;return(0,T.jsx)(Qr,Fl(Fl({},e),{},{title:r,subtitleSlot:n,parentRef:e.parentRef,children:(0,T.jsxs)("div",{children:[(0,T.jsx)(x.h,{menu:e.menu,onShow:i,children:(0,T.jsx)(Zr.E,{uri:e.uri,trigger:Zr.l.OnMouseDown,children:(0,T.jsx)(El.v,{className:p()(Mt,Ut),media:e.cover,id:e.uri,padding:Kr.v4,onClick:e.onClick,variant:void 0,title:void 0,hoverAnimationDuration:"0ms"})})}),(0,T.jsxs)("span",{className:rr,children:[r," ",n]})]})}))},Ul=function(e){var t=(0,u.useRef)(null),r=e.logRightClick;return(0,T.jsx)(x.h,{menu:e.menu,onShow:r,children:(0,T.jsxs)("div",{className:Gt,ref:t,children:[(0,T.jsx)(Ml,Fl(Fl({},e),{},{parentRef:t})),(0,T.jsx)(Ll,{date:e.addedAt}),(0,T.jsx)(Ll,{date:e.lastPlayedAt})]})})},Vl=function(e){var t,r=e.handleNavigate,n=(0,T.jsxs)("div",{className:Qt,children:[(0,T.jsx)(bn,{uri:e.uri,title:e.name,menu:e.menu,handleNavigate:r,playbackUri:e.playbackUri}),e.shouldShowType&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(kl.v,{children:"•"}),(0,T.jsx)(kl.v,{lineClamp:1,children:Vn(e.type)})]}),(!e.shouldShowType&&e.type===Un.c.ALBUM||(0,_r.c0)(e.uri))&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(kl.v,{children:"•"}),(0,T.jsx)(rn,{leading:null,uri:e.uri,subtitle:e.subtitle})]})]}),i=(0,T.jsx)(Hn.g,{pinned:e.isPinned}),a=null!==(t=e.expandFolderButton)&&void 0!==t?t:e.isPlaying?(0,T.jsx)(qr,{iconSize:"xsmall"}):(0,T.jsxs)(T.Fragment,{children:[e.downloadButton&&(0,T.jsx)("div",{className:_t,children:e.downloadButton}),e.preReleaseIcon&&(0,T.jsx)("div",{className:_t,children:e.preReleaseIcon}),e.lockedIcon&&(0,T.jsx)("div",{className:_t,children:e.lockedIcon})]}),o=e.logRightClick;return(0,T.jsx)(x.h,{menu:e.menu,onShow:o,children:(0,T.jsx)(Zr.E,{uri:e.uri,trigger:Zr.l.OnMouseDown,children:(0,T.jsx)(El.v,{className:p()(Mt,Bt),title:n,leading:e.isPinned?i:void 0,trailing:a,id:e.uri,variant:e.isViewActive?"tinted":void 0,padding:"".concat(Kr.vw," ").concat(Kr.v4),onClick:e.onClick,size:"sm",hoverAnimationDuration:"0ms"})})})},_l=function(e){var t=e.logRightClick;return(0,T.jsx)(x.h,{menu:e.menu,onShow:t,children:(0,T.jsxs)("div",{className:Gt,children:[(0,T.jsx)(Vl,Fl({},e)),(0,T.jsx)(Ll,{date:e.addedAt}),(0,T.jsx)(Ll,{date:e.lastPlayedAt})]})})},Hl=function(e){var t=e.height,r=e.isCompact,n=e.primaryFilter;return(0,T.jsx)(bi.c,{className:p()((0,a.A)((0,a.A)((0,a.A)({},Xt,!r),Yt,r),Wt,n===Un.c.ARTIST)),style:{height:t}})},zl=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.COMPACT=1]="COMPACT",e}({}),Xl=function(){var e=(0,Ue.x)("library-row-mode",zl.DEFAULT),t=(0,l.A)(e,2),r=t[0],n=t[1],i=(0,nt.vW)();return{libraryRowMode:r,setLibraryRowMode:n,rowHeight:r===zl.DEFAULT||i===nt.fX.COLLAPSED?64:32}},Wl=r(96718);function Yl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yl(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Gl=(0,u.memo)((function(e){var t=e.item,r=e.primaryFilter,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l={shouldShowType:!(0,_r.c0)(t.uri)&&_n(t.type)!==r,RowVariantComponent:n,spec:i,nrValidItems:a,index:o},s=(0,b.NC)($.lDH);switch(t.type){case Un.c.FOLDER:return(0,T.jsx)(va,Kl({libraryItem:t},l));case Un.c.ALBUM:return(0,T.jsx)(Ii,Kl({libraryItem:t},l));case Un.c.ARTIST:return(0,T.jsx)(ki,Kl({libraryItem:t},l));case Un.c.AUDIOBOOK:return(0,T.jsx)(Mi,Kl({libraryItem:t},l));case Un.c.SHOW:return(0,T.jsx)(Po,Kl({libraryItem:t},l));case Un.c.PLAYLIST:return(0,T.jsx)(so,Kl({libraryItem:t},l));case Un.c.LIKED_SONGS:return(0,T.jsx)(Aa,Kl({libraryItem:t},l));case Un.c.YOUR_EPISODES:return(0,T.jsx)(Ao,Kl({libraryItem:t},l));case Un.c.LOCAL_FILES:return(0,T.jsx)(La,Kl({libraryItem:t},l));case Un.c.PRE_RELEASE_ALBUM:return s?(0,T.jsx)(bo,Kl({libraryItem:t},l)):null;case Un.c.PRE_RELEASE_BOOK:return(0,T.jsx)(bo,Kl({libraryItem:t},l));default:(0,we.d)(t)}})),Zl=function(e){var t=e.getItems,r=e.scrollNodeRef,n=e.primaryFilter,i=e.nrValidItems,a=e.spec,o=(0,nt.vW)(),l=Xl(),s=l.rowHeight,c=l.libraryRowMode===zl.COMPACT,d=function(e,t){switch(e){case nt.fX.COLLAPSED:return Bl;case nt.fX.DEFAULT:return t?Vl:Ml;case nt.fX.EXPANDED:return t?_l:Ul;default:(0,we.d)(e)}}(o,c),p=(0,u.useCallback)((function(e,t){return(0,T.jsx)(Hl,{height:e,isCompact:c,primaryFilter:n},t)}),[c,n]),y=(0,u.useCallback)((function(e,r){return t(e,r).map((function(t,r){return t?(0,T.jsx)(Gl,{item:t,spec:a,RowVariantComponent:d,primaryFilter:n,nrValidItems:i,index:e+r},t.uri):p("".concat(s,"px"),"".concat(e+r))}))}),[d,t,n,p,s,a,i]);return(0,T.jsx)(Rl.$,{circular:!1,allowsMultipleInteractiveChildrenInItem:!0,"aria-label":w.Ru.get("web-player.your-library-x.your-library"),children:(0,T.jsx)(Wl.L,{renderRows:y,nrRows:i,rowHeight:s,scrollNodeRef:r,renderPlaceholder:p})})},Jl=r(62058),ql=r(6036),Ql=function(e,t){var r=(0,u.useContext)(Pe),n=r.notifyShowInterest,i=r.notifyHideInterest;return{events:r.events,notifyShowInterest:(0,u.useCallback)((function(){n(e,t)}),[e,n,t]),notifyHideInterest:(0,u.useCallback)((function(){i(e,t)}),[e,i,t])}},$l=r(76254);function es(e){var t=e.children,r=e.content,n=e.itemKey,i=e.priority,a=e.offset,o=e.placement,s=function(e,t,r){var n,i,a=t.isInterestedInBeingShown,o=function(){},s=(0,$l.A)(null!==(n=t.onVisibilityGranted)&&void 0!==n?n:o),c=(0,$l.A)(null!==(i=t.onVisibilityDenied)&&void 0!==i?i:o),d=(0,u.useState)(!1),p=(0,l.A)(d,2),y=p[0],g=p[1],f=Ql(e,r),m=f.notifyShowInterest,b=f.notifyHideInterest,v=f.events;return(0,u.useEffect)((function(){var t=v.addListener(he.VISIBILITY_GRANTED,(function(t){t.data.key===e&&(s(),g(!0))})),r=v.addListener(he.VISIBILITY_DENIED,(function(t){t.data.key===e&&(c(),g(!1))}));return function(){t(),r()}}),[v,e,s,c]),(0,u.useEffect)((function(){a?m():b()}),[b,m,a]),(0,u.useEffect)((function(){return b}),[b]),{isVisible:y}}(n,{isInterestedInBeingShown:e.isInterestedInBeingShown,onVisibilityDenied:e.onVisibilityDenied,onVisibilityGranted:e.onVisibilityGranted},i),c=s.isVisible;return(0,T.jsx)(ql.E,{content:r,isVisible:c,offset:a,placement:o,children:t})}var ts=r(40407),rs=r(33736),ns=r(36178),is=r(84904),as=r(49937),os=function(e,t,r){var n,i=t.closest('li[role="presentation"]'),a=null===(n=e.parentElement)||void 0===n?void 0:n.querySelectorAll('ul[role="menu"]');if(r===as.O.UP){var o,l=null==a?void 0:a[a.length-1],s=e.previousElementSibling,c=null==i||null===(o=i.previousElementSibling)||void 0===o?void 0:o.previousElementSibling;if(t instanceof HTMLUListElement||!c){if(s&&s instanceof HTMLUListElement)return s;if(l&&l instanceof HTMLUListElement)return l}}else{if(!(null==i?void 0:i.nextElementSibling)){var u=e.nextElementSibling;return u&&u instanceof HTMLUListElement?u:null==a?void 0:a[0]}}};const ls="GvHaMehoYEIaLhHafB4F",ss="ijaSPbJ8wd3RNiyukjlh",cs="w0nWe_59HwsG7nQLoibF",us="LbAtRPub21imosz1Xjht";var ds=[{itemsViewState:Pl.X.LIST,compactModeState:zl.COMPACT},{itemsViewState:Pl.X.LIST,compactModeState:zl.DEFAULT},{itemsViewState:Pl.X.GRID,compactModeState:zl.DEFAULT}],ps=function(e,t,r){return Math.round((e+t)*r)/r},ys=function(e){return e.itemsViewState===Pl.X.GRID?w.Ru.get("web-player.your-library-x.sort-and-view-picker.grid"):e.compactModeState===zl.COMPACT?w.Ru.get("web-player.your-library-x.sort-and-view-picker.compact"):w.Ru.get("web-player.your-library-x.sort-and-view-picker.list")},gs=function(e){var t=e.selectedSort,r=e.selectedView,n=e.onSortSelect,i=e.onViewSelect,a=e.sortOptions,o=e.spec,l=e.id,s=(0,I.s)(),c=(0,u.useCallback)((function(e){return e.itemsViewState===Pl.X.GRID?(0,T.jsx)(xl.D,{size:"small"}):e.compactModeState===zl.COMPACT?(0,T.jsx)(rs.d,{size:"small"}):(0,T.jsx)(hl.N,{size:"small"})}),[]),d=Co(),p=d.gridScale,y=d.setGridScale,g=function(e){var t=ps(e,.5,100);y(t),s.logInteraction(o.gridDensitySliderFactory().dragSetSliderPosition({position:t}))},f=(0,u.useCallback)((function(e){y(e),s.logInteraction(o.gridDensitySliderFactory().hitSetSliderPosition({position:e}))}),[s,y,o]),m=function(e){var t;return null==e||null===(t=e.parentElement)||void 0===t?void 0:t.querySelector("ul")},b=(0,u.useRef)(null);return(0,T.jsxs)("div",{id:l,className:ss,ref:b,children:[(0,T.jsxs)(P.W,{"aria-label":w.Ru.get("web-player.your-library-x.sort_by"),onFocusVerticalItem:os,getInitialFocusElement:m,children:[(0,T.jsx)(ns.y,{children:w.Ru.get("web-player.your-library-x.sort_by")}),a.map((function(e,r){var i=e.key,o=e.value;return(0,T.jsx)(S.D,{role:"menuitemradio","aria-checked":i===t.key,onClick:function(){return n(i,r)},divider:r===a.length-1?"after":void 0,autoClose:!1,children:o},i)}))]}),(0,T.jsxs)(P.W,{"aria-label":w.Ru.get("web-player.your-library-x.sort-and-view-picker.view-as"),onFocusVerticalItem:os,getInitialFocusElement:m,children:[(0,T.jsx)(ns.y,{children:w.Ru.get("web-player.your-library-x.sort-and-view-picker.view-as")}),ds.map((function(e){var t=ys(e),n=e.itemsViewState===r.itemsViewState&&e.compactModeState===r.compactModeState;return(0,T.jsx)(S.D,{role:"menuitemradio","aria-checked":n,onClick:function(){return i(e)},leadingIcon:c(e),autoClose:!1,children:t},t)})),Pl.X.GRID===r.itemsViewState&&(0,T.jsx)("li",{role:"presentation",children:(0,T.jsx)("div",{role:"menuitem",className:us,children:(0,T.jsx)(is.z2,{labelText:w.Ru.get("web-player.your-library-x.sort-and-view-picker.grid-density-label"),value:ps(p,-.5,100),max:1,step:.1,onDragStart:g,onDragMove:g,onDragEnd:g,onStepBackward:function(){return f(ps(p,-.1,10))},onStepForward:function(){return f(ps(p,.1,10))},forceActiveStyles:!0,"data-roving-interactive":"1"})})})]})]})},fs=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=(0,Ue.x)("onboarding-dismissed:ylx-playlist-ordering",!1),n=(0,l.A)(r,2),i=n[0],a=n[1],o=(0,Ue.x)("onboarding-dismissed-amount:ylx-playlist-ordering",0),s=(0,l.A)(o,2),c=s[0],d=s[1],p=(0,u.useState)(!1),y=(0,l.A)(p,2),g=y[0],f=y[1],m=Sn().dropOriginIsYLX,b=(0,u.useContext)(z.O_).draggingIsInProgress;(0,u.useEffect)((function(){b&&m&&f(!0)}),[b,m]);var v=(0,u.useCallback)((function(){a(!0),f(!1),d(c+1)}),[c,d,a]);return{show:e&&c<3&&(!i||g)&&(t||g),onHide:v}},ms=r(75658),bs=function(e){var t,r,n,i=e.sortOptions,a=e.selectedSort,o=e.onSortSelect,l=e.showReorderingOnboarding,s=e.scrollNodeRef,c=e.spec,d=(0,Pl.t)(),p=d.itemsView,y=d.setItemsView,g=Xl(),f=g.libraryRowMode,m=g.setLibraryRowMode,b=(0,I.s)(),v=(0,u.useCallback)((function(){b.logInteraction(c.hitUiReveal())}),[b,c]),h=(0,u.useMemo)((function(){return p===Pl.X.GRID?{itemsViewState:Pl.X.GRID,compactModeState:zl.DEFAULT}:f===zl.COMPACT?{itemsViewState:Pl.X.LIST,compactModeState:zl.COMPACT}:{itemsViewState:Pl.X.LIST,compactModeState:zl.DEFAULT}}),[p,f]),x=(0,u.useCallback)((function(e){var t=c.viewAsOptionFactory({identifier:"grid",position:3}).hitUiElementToggle();e.itemsViewState===Pl.X.GRID?y(Pl.X.GRID):e.compactModeState===zl.COMPACT?(t=c.viewAsOptionFactory({identifier:"compact",position:1}).hitUiElementToggle(),y(Pl.X.LIST),m(zl.COMPACT)):(t=c.viewAsOptionFactory({identifier:"list",position:2}).hitUiElementToggle(),y(Pl.X.LIST),m(zl.DEFAULT)),b.logInteraction(t)}),[b,y,m,c]),P=(0,u.useRef)(null),O=(0,ms.y)(s,"0px 0px 0px 0px",.75,P),j=fs(l,!O),S=j.show,A=j.onHide;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(es,{isInterestedInBeingShown:S,itemKey:ue.YLX_CUSTOM_ORDERING,priority:de.CONTEXTUAL,placement:"right",content:(0,T.jsx)(Jl.z,{onClose:A,children:(0,T.jsx)(ze.E,{as:"p",dangerouslySetInnerHTML:{__html:w.Ru.get("web-player.your-library-x.custom-ordering-onboarding-text")}})}),children:(0,T.jsx)(bl.b,{menu:(0,T.jsx)(gs,{selectedSort:a,selectedView:{itemsViewState:null!==(t=h.itemsViewState)&&void 0!==t?t:Pl.X.LIST,compactModeState:null!==(r=h.compactModeState)&&void 0!==r?r:zl.DEFAULT},sortOptions:i,onSortSelect:o,onViewSelect:x,spec:c,id:"sort-and-view-picker"}),placement:"bottom-end",children:(0,T.jsx)(et.H,{"aria-label":w.Ru.get("web-player.your-library-x.sort-and-view-picker.button-aria-label",a.value,ys(h)),onClick:v,size:"small",iconTrailing:(n=h,n.itemsViewState===Pl.X.GRID?xl.D:n.compactModeState===zl.COMPACT?rs.d:hl.N),ref:P,role:"combobox","aria-controls":"sort-and-view-picker",children:(0,T.jsx)(ze.E,{variant:"bodySmall",className:cs,"data-sortbox-label":!0,children:a.value})})})})})},vs=function(e){var t,r,n,i,a,o=e.sortOrders,l=e.activeSortOrderId,s=e.setActiveSortOrderId,c=e.showReorderingOnboarding,d=e.spec,p=e.scrollNodeRef,y=(0,u.useMemo)((function(){return d.sortMenuButtonFactory()}),[d]),g=(0,u.useMemo)((function(){return d.sortbyViewasMenuButtonFactory()}),[d]),f=(0,I.s)(),m=(0,cr.f)(),v=null!==(t=o.find((function(e){return e.id===l})))&&void 0!==t?t:null==o?void 0:o.at(0),h=(0,u.useRef)(null),x=(0,b.NC)($.AEN),P=(0,u.useCallback)((function(e,t){s(e);var r=m.getSortOrderLabel(e);x?f.logInteraction(g.sortOptionFactory({identifier:r,position:t}).hitSort()):f.logInteraction(y.sortMenuFactory().sortOptionFactory({identifier:r,position:t}).hitSort())}),[m,f,s,g,y,x]),O=fs(c),j=O.show,S=O.onHide;return x?(0,T.jsx)(bs,{sortOptions:o.map((function(e){return{key:e.id,value:e.name}})),selectedSort:{key:null!==(i=null==v?void 0:v.id)&&void 0!==i?i:"",value:null!==(a=null==v?void 0:v.name)&&void 0!==a?a:""},onSortSelect:P,showReorderingOnboarding:c,scrollNodeRef:p,spec:g}):(0,T.jsx)("div",{className:ls,ref:h,children:(0,T.jsx)(es,{isInterestedInBeingShown:j,itemKey:ue.YLX_CUSTOM_ORDERING,priority:de.CONTEXTUAL,placement:"right",content:(0,T.jsx)(Jl.z,{onClose:S,children:(0,T.jsx)(ze.E,{as:"p",dangerouslySetInnerHTML:{__html:w.Ru.get("web-player.your-library-x.custom-ordering-onboarding-text")}})}),children:(0,T.jsx)(ts.g,{options:o.map((function(e){return{key:e.id,value:e.name}})),onClick:function(){f.logInteraction(y.hitUiReveal())},onSelect:P,selected:{key:null!==(r=null==v?void 0:v.id)&&void 0!==r?r:"",value:null!==(n=null==v?void 0:v.name)&&void 0!==n?n:""},heading:w.Ru.get("web-player.your-library-x.sort_by"),ariaLabel:w.Ru.get("web-player.your-library-x.sort_by")})})})},hs=r(90785),xs=r(10289),Ps=r(55198);var Os=function(e){var t=e.clearOnEscapeInElementRef,r=e.primaryFilter,n=e.spec,i=(0,cr.f)(),a=(0,I.s)(),o=function(e){switch(e){case Un.c.PRE_RELEASE_ALBUM:case Un.c.ALBUM:return w.Ru.get("web-player.your-library-x.text-filter.albums-placeholder");case Un.c.ARTIST:return w.Ru.get("web-player.your-library-x.text-filter.artists-placeholder");case Un.c.PLAYLIST:return w.Ru.get("web-player.your-library-x.text-filter.playlists-placeholder");case Un.c.SHOW:return w.Ru.get("web-player.your-library-x.text-filter.shows-placeholder");case Un.c.PRE_RELEASE_BOOK:case Un.c.AUDIOBOOK:return w.Ru.get("web-player.your-library-x.text-filter.audiobooks-placeholder");case"downloaded":return w.Ru.get("web-player.your-library-x.text-filter.downloaded-placeholder");case void 0:return w.Ru.get("web-player.your-library-x.text-filter.generic-placeholder");default:return void(0,we.k)(e)}}(r),l=(0,u.useCallback)((function(){return a.logInteraction(n.searchButtonFactory().hitUiReveal()),!0}),[a,n]),s=(0,u.useCallback)((function(){return a.logInteraction(n.textFilterFactory().keyStrokeClearFilter()),!0}),[a,n]);return(0,T.jsx)(hs.S,{placeholder:o,clearOnEscapeInElementRef:t,debounceFilterChangeTimeout:null!=i&&i.getCapabilities().canTextFilterContentsInRealtime?0:void 0,expandDirection:"right",onActivate:l,onClear:s,useExpandCallback:function(e){(0,Ps.f)(xs.g.FOCUS_YLX_TEXT_FILTER,e)}})},js=r(40494);function ws(e,t,r,n){if(e){var i=e.scrollTop,a=e.offsetHeight,o=t&&e?t.getBoundingClientRect().top+i-e.getBoundingClientRect().top:0;if(o+r<i||o+r+n>i+a){var l=r-a/2+o+n/2;e.scrollTop=l}}}var Ss=r(1749);var As=r(5886);function Ds(){var e=(0,u.useState)(null),t=(0,l.A)(e,2),r=t[0],n=t[1];if((0,ca.l)(sa.UV.UPDATE_PIN_ERROR,(function(e){n(e.data)})),void 0===(null==r?void 0:r.reason))return null;switch(r.reason){case sa.uL.TOO_MANY_PINS:return(0,T.jsx)(As.x,{animated:!0,headingMessage:w.Ru.get("web-player.your-library-x.pin-error.title"),message:w.Ru.get("web-player.your-library-x.pin-error.message",r.maximumPinnedItems),buttonLabel:w.Ru.get("web-player.your-library-x.pin-error.ok"),isOpen:!0,onDismissDialog:function(){return n(null)}});case sa.uL.NO_PIN_IN_FOLDER:return(0,T.jsx)(As.x,{animated:!0,headingMessage:w.Ru.get("web-player.your-library-x.pin-error.no-pin-in-folder.title"),message:w.Ru.get("web-player.your-library-x.pin-error.no-pin-in-folder.message"),buttonLabel:w.Ru.get("web-player.your-library-x.pin-error.ok"),isOpen:!0,onDismissDialog:function(){return n(null)}});default:return(0,we.k)(r),null}}function Cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Is(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ts(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ts(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ts(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Es=r(22263),ks=r(1626),Ls=r(43503),Ns=r(17413),Fs=r(14845),Ms=r(82354),Bs=function(e,t,r,n,a){var o=(0,Ms.x)(),l=(0,u.useRef)(r),s=(0,u.useRef)(),d=(0,u.useRef)();s.current=n,d.current=a,(0,u.useEffect)((function(){var r,n,a={ident:e,isPrefix:t,onMessage:function(e){return l.current(e)},onSubscribe:(n=(0,i.A)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=s.current)||void 0===r?void 0:r.call(s,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onCancel:(r=(0,i.A)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=d.current)||void 0===r?void 0:r.call(d,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},u=o.subscribe(a);return function(){u.cancel()}}),[e,t,o])},Us=r(47902),Vs=(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},sa.Ir.ALBUMS,Un.c.ALBUM),sa.Ir.ARTISTS,Un.c.ARTIST),sa.Ir.BOOKS,Un.c.AUDIOBOOK),sa.Ir.EPISODES,Un.c.EPISODE),sa.Ir.SHOWS,Un.c.SHOW),sa.Ir.TRACKS,Un.c.TRACK);function _s(e,t,r){var n=(0,u.useCallback)((function(t){var n=t.data.list,i=Vs[n];Hs(e,i)&&r()}),[e,r]);(0,ca.l)(sa.UV.UPDATE,n),(0,ca.l)(sa.UV.UPDATE_PIN,r);var i=(0,u.useCallback)((function(){Hs(e,Un.c.PLAYLIST)&&r()}),[e,r]);(0,pa.L)(i),function(e){Bs("hm://collection/ylpin/",!0,e)}(r),function(e){var t=(0,Fs.A)(),r=t.getEvents();(0,u.useEffect)((function(){return r.addListener(Ns.T.UPDATE,e)}),[t,r,e])}(r),function(e){var t=(0,Ls.l)().getEvents();(0,u.useEffect)((function(){var r=function(t){"prerelease"===t.data.set&&e()};return t.addListener(De.ar.ADDED,r),t.addListener(De.ar.REMOVED,r),function(){t.removeListener(De.ar.ADDED,r),t.removeListener(De.ar.REMOVED,r)}}),[e,t])}(r),function(e,t){var r=(0,Us.F)();(0,u.useEffect)((function(){!r||e!==je.oR.RECENTLY_PLAYED_OR_ADDED.toString()&&"Recents"!==e||t()}),[t,r,e])}(t,r)}function Hs(e,t){switch(e){case Un.c.ALBUM:case Un.c.ARTIST:case Un.c.AUDIOBOOK:case Un.c.SHOW:return e===t;case Un.c.PLAYLIST:switch(t){case Un.c.TRACK:case Un.c.PLAYLIST:case Un.c.EPISODE:return!0;default:return!1}default:return!0}}var zs=r(22070),Xs=r(49551),Ws=r(11035);const Ys="Vf3ww2_My5QuwUnbpzhu";var Ks=r(16086),Gs=function(){var e=(0,u.useContext)(pn).typeaheadResult.str;return e?(0,T.jsx)(Ks.qb,{className:Ys,children:e}):null},Zs=r(36783);const Js="main-yourLibraryX-libraryContainer",qs="main-yourLibraryX-libraryFilter",Qs="iwhVJuPipY1lrQIjaA1k",$s="main-yourLibraryX-libraryItemContainer",ec="main-yourLibraryX-libraryRootlist",tc="sikBfynL1Y6I25nVpbAg",rc="KwShd3RdVrsX6dGLJNxT",nc="qOtD4rsRpIMhQLCjJ4K3",ic="oEDH8yMQOKQNoX7LWjwt",ac="RHRitk6QC3rvuG24RAdj",oc="main-yourLibraryX-filterArea";var lc=["dropPosition","className"],sc=["offset","limit","items"];function cc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cc(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dc={items:[],totalLength:0},pc=function(){var e,t,r,s,d,g,P,O,j,w=(0,u.useContext)(le.g).filter,S=(0,u.useState)(null),A=(0,l.A)(S,2),D=A[0],C=A[1],R=function(e){var t=(0,u.useContext)(Br),r=t.openedFolderUri,n=void 0===r?Mr:r,i=t.change,o=t.resetFolder,s=(0,u.useRef)(n),c=(0,Ue.x)("ylx-active-filter-ids",(0,a.A)({},n,[])),d=(0,l.A)(c,2),p=d[0],y=d[1],g=(0,u.useRef)(!0),f=(0,m.U0)((function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=new Set(e);i.has(t)?i.delete(t):i.add(t),g.current=r,y(Is(Is({},p),{},(0,a.A)({},n,Array.from(i))))}),[e,y,n]),b=(0,u.useCallback)((function(){return y(Is(Is({},p),{},(0,a.A)({},n,[])))}),[n,p,y]),v=(0,u.useCallback)((function(e){n&&o(),y(Is(Is({},p),{},(0,a.A)({},Mr,e?[e]:[])))}),[n,o,p,y]);return(0,u.useLayoutEffect)((function(){n!==s.current&&n!==Mr&&"PUSH"===i&&y(Is(Is({},p),{},(0,a.A)({},n,p[s.current]))),s.current=n}),[i,n,p,y]),{refinersPickedByUserRef:g,selectedRefinerIds:p[n],resetRefinerIds:b,resetAndToggleRootRefiner:v,toggleRefinerId:f}}(null!==(e=null==D||null===(t=D.selectedFilters)||void 0===t?void 0:t.map((function(e){return e.id})))&&void 0!==e?e:[]),E=R.refinersPickedByUserRef,k=R.selectedRefinerIds,L=R.resetRefinerIds,F=R.resetAndToggleRootRefiner,_=R.toggleRefinerId,W=function(e){var t=(0,cr.f)().getContentsPrimaryFilterId(Un.c.PLAYLIST),r=(0,u.useContext)(Br).openedFolderUri,n=void 0===r?"":r,i=(0,Ue.x)("ylx-active-sort-order-by-filter-id",{}),o=(0,l.A)(i,2),s=o[0],c=o[1],d="".concat(n&&t?t:e);return{selectedSortOrderId:s[d],setSelectedSortOrderId:(0,u.useCallback)((function(e){c(Rs(Rs({},s),{},(0,a.A)({},d,e)))}),[d,s,c])}}(null==k?void 0:k[0]),Y=W.selectedSortOrderId,K=W.setSelectedSortOrderId,G=(0,u.useRef)(null),Z=(0,u.useRef)(null),J=(0,u.useRef)(null),q=function(){var e=(0,u.useContext)(Nt);if(!e)throw new Error("useExpandedFolders must be used within a ExpandedFoldersProvider");return e}().expandedFolders,Q=(0,u.useContext)(Br),ee=Q.openedFolderUri,te=Q.resetFolder,re=(0,zs.p)(),ne=(0,Ce.P)(),ie=(0,cr.f)(),ae=(0,An.g)(),se=_e(),ce=Dn(),ue=(0,u.useState)(!1),de=(0,l.A)(ue,2),pe=de[0],ye=de[1],ge=(0,nt.$)(),fe=ge.isCollapsed,me=ge.isExpanded,be=ge.setYlxSidebarState;!function(e){var t=(0,cr.f)(),r=(0,nt.$)(),n=r.isCollapsed,i=r.setYlxSidebarState,a=r.lastUncollapsedYlxSidebarState,o=(0,ks.W)(),l=(0,u.useCallback)((function(){var e=n?a:nt.fX.COLLAPSED;i(e)}),[n,a,i]),s=(0,u.useCallback)((function(){e(null),n&&i(a)}),[n,a,e,i]),c=(0,u.useCallback)((function(r){return function(){e(t.getContentsPrimaryFilterId(r)),n&&i(a)}}),[n,a,t,e,i]),d=c(Un.c.PLAYLIST),p=c(Un.c.SHOW),y=c(Un.c.ARTIST),g=c(Un.c.ALBUM),f=c(Un.c.AUDIOBOOK);(0,Es.Nx)(o?xs.g.TOGGLE_NPV_SIDEBAR:xs.g.TOGGLE_YLX_SIDEBAR,l),(0,Es.Nx)(xs.g.GO_TO_LIBRARY,s),(0,Es.Nx)(xs.g.GO_TO_PLAYLISTS,d),(0,Es.Nx)(xs.g.GO_TO_PODCASTS,p),(0,Es.Nx)(xs.g.GO_TO_ARTISTS,y),(0,Es.Nx)(xs.g.GO_TO_ALBUMS,g),(0,Es.Nx)(xs.g.GO_TO_AUDIOBOOKS,f)}(F);var ve,he=(0,Pl.t)().isGridView,xe=Xl().libraryRowMode===zl.COMPACT,Pe=(0,at.r)(v.j,{data:{identifier:"yourlibraryx"}}),Oe=Pe.spec,je=Pe.UBIFragment;ve=fe?"collapsed":he?me?"expanded_grid":"default_grid":xe?me?"expanded_compact":"default_compact":me?"expanded_list":"default_list";var we=(0,u.useMemo)((function(){return Oe.sidebarFactory({uri:null!=ee?ee:Mr,identifier:ve})}),[Oe,ee,ve]),Se=(0,Zs.t)(we),Ae=(0,u.useMemo)((function(){return we.headerFactory()}),[we]),De=(0,u.useMemo)((function(){return Ae.filtersFactory()}),[Ae]),Ie=(0,u.useMemo)((function(){return Ae.searchBarFactory()}),[Ae]),Re=(0,u.useMemo)((function(){return we.listFactory()}),[we]),Ne=(0,I.s)();!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=(0,js.n)(),i=(0,cr.f)().getContentsPrimaryFilterId("downloaded"),a=(0,u.useRef)(e);a.current=e;var o=(0,u.useRef)(t);o.current=t;var l=(0,u.useRef)(r);l.current=r;var s=(0,u.useRef)(!1);(0,u.useEffect)((function(){if(i){var e=o.current.includes(i),t=a.current.includes(i),r=o.current.length>1,c=!n&&!r&&!e&&t,u=n&&e&&s.current;(c||u)&&(c&&(s.current=!0),l.current(i,!1))}}),[i,n]);var c=(0,u.useRef)(t);(0,m.Ij)((function(){i&&(t.includes(i)&&!c.current.includes(i)&&s.current||(s.current=!1),c.current=t)}),[i,t])}(null==D||null===(r=D.availableFilters)||void 0===r?void 0:r.map((function(e){return e.id})),null==D||null===(s=D.selectedFilters)||void 0===s?void 0:s.map((function(e){return e.id})),_);var Fe=oa(Re,ee),Me=Fe.handleDropOnFolder,Be=Fe.unpinConfirmationDialog,He=Sn(),ze=He.dropOriginIsYLX,Xe=He.entityIsInFolder,We=(0,u.useContext)(z.O_).setDraggingIsInProgress;(0,X.g)(G);var Ye=ee?Ir:Cr,Ke=!Xe||null!=D&&D.reorderAllowed?[]:[B.fl.PLAYLISTS_V2,B.fl.FOLDERS],Ge=(0,V.A)({allowedMimeTypesByDropPosition:(0,a.A)({},U.Nz.ON,ze?Ke:Ye),onDrop:(0,u.useCallback)(function(){var e=(0,i.A)(c().mark((function e(t){var r,i,a,o,l,s,u,d,p,y,g,f,m,b,v,h,x,P,O;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee?Me(t):(r=t[B.fl.TRACKS],i=void 0===r?[]:r,a=t[B.fl.LOCAL_TRACKS],o=void 0===a?[]:a,l=t[B.fl.ALBUMS],s=t[B.fl.ARTISTS],u=t[B.fl.EPISODES],d=t[B.fl.SHOWS],p=t[B.fl.PLAYLISTS_V2],y=void 0===p?[]:p,g=t[B.fl.FOLDERS],f=t[B.fl.AUDIOBOOKS],(m=[].concat((0,n.A)(i),(0,n.A)(o))).length&&(null==ie||ie.add({uris:m}),Ne.logInteraction(Re.dragCreatePlaylist())),null!=l&&l.length&&(null==ie||ie.add({uris:l}),Ne.logInteraction(Re.dragLike({itemToBeLiked:null!==(b=l.at(0))&&void 0!==b?b:""}))),null!=s&&s.length&&(null==ie||ie.add({uris:s}),Ne.logInteraction(Re.dragLike({itemToBeLiked:null!==(v=s.at(0))&&void 0!==v?v:""}))),null!=u&&u.length&&(null==ie||ie.add({uris:u}),Ne.logInteraction(Re.dragLike({itemToBeLiked:null!==(h=u.at(0))&&void 0!==h?h:""}))),null!=d&&d.length&&(null==ie||ie.add({uris:d}),Ne.logInteraction(Re.dragLike({itemToBeLiked:null!==(x=d.at(0))&&void 0!==x?x:""}))),null!=f&&f.length&&(null==ie||ie.add({uris:f}),Ne.logInteraction(Re.dragLike({itemToBeLiked:null!==(P=f.at(0))&&void 0!==P?P:""}))),y.length&&(ce(y,{before:"start"}),ze?Ne.logInteraction(Re.dragSort()):Ne.logInteraction(Re.dragLike({itemToBeLiked:null!==(O=y.at(0))&&void 0!==O?O:""}))),null!=g&&g.length&&(ae.moveFolder({uri:g[0]},{before:"start"}),Ne.logInteraction(Re.dragSort())));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[ee,Me,ie,Ne,Re,ce,ze,ae]),onLongDragOver:(0,u.useCallback)((function(){fe&&be(nt.fX.DEFAULT)}),[fe,be])}),Ze=Ge.dropPosition,Je=Ge.className,qe=(0,o.A)(Ge,lc),Qe=(0,b.NC)($.lDH),$e=(0,u.useMemo)((function(){return{filters:k,sortOrder:Y,textFilter:w,includeLocalFiles:ne,includeYourEpisodes:!0,includeLikedSongs:!0,includePreReleases:Qe,expandedFolders:fe||he?[]:q,filtersPickedByUser:E.current,folderUri:ee}}),[k,Y,w,ne,Qe,fe,he,q,E,ee]),et=(0,u.useCallback)(function(){var e=(0,i.A)(c().mark((function e(t,r){var n,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie.getContents(uc({offset:t,limit:r},$e));case 3:return n=e.sent,n.offset,n.limit,n.items,i=(0,o.A)(n,sc),ye(!1),e.abrupt("return",uc({fetchedId:$e.folderUri,onCacheSuccess:function(){C((function(e){return(0,y.j)(i,e)?e:i}))}},n));case 9:if(e.prev=9,e.t0=e.catch(0),!(e.t0 instanceof N.c_)){e.next=16;break}return L(),e.abrupt("return",dc);case 16:if(!(e.t0 instanceof N.IU)){e.next=21;break}return K(void 0),e.abrupt("return",dc);case 21:if(!(e.t0 instanceof N.db)){e.next=24;break}return te(),e.abrupt("return",dc);case 24:return(0,Ws.UD)(e.t0),ye(!0),e.abrupt("return",dc);case 27:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}(),[$e,ie,L,te,K]),tt=!1===(null==D?void 0:D.hasUnfilteredItems),rt=(null==D?void 0:D.hasTextFilter)&&0===D.totalLength&&""!==w,it=(0,u.useContext)(le.g).setFilter;(0,u.useEffect)((function(){rt&&fe&&it("")}),[rt,fe,it]);var ot=0===(null==D?void 0:D.totalLength)&&D.selectedFilters.length>0&&!D.passedFolderUri&&!D.hasTextFilter;(0,m.Ij)((function(){var e=null==D?void 0:D.selectedFilters.at(-1);ot&&e&&_(e.id,!1)}),[ot,null==D?void 0:D.selectedFilters]);var lt=(0,b.NC)($.HbK,{loadingValue:!1})&&(null==ie?void 0:ie.getCapabilities().canFetchAllItems),st=(0,Xs.E)({nrItems:50,fetch:et,limit:50,cacheAllOnInvalidation:lt,cacheAllLimit:5e4}),ut=st.fetchedId,dt=st.getItems,yt=st.nrValidItems,gt=st.invalidateCache,ft=(0,f.YQ)(gt,200,{leading:!0,trailing:!0,maxWait:1e3});_s(null==D?void 0:D.primaryFilter,Y,ft);var mt=!ee&&!ut||ee===ut;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=(0,u.useRef)({});(0,u.useLayoutEffect)((function(){if(!e.current)return function(){};var n=e.current,i=r.current[t];n.scrollTop=null!=i?i:0;var a=function(){r.current[t]=n.scrollTop};return null==n||n.addEventListener("scroll",a),function(){null==n||n.removeEventListener("scroll",a)}}),[e,t])}(G,ut);var bt,vt=(0,u.useCallback)((function(){gt(),ye(!1)}),[gt]),ht=(0,ms.y)(G),xt=!(null==D||!D.openedFolderName),Pt=(0,b.NC)($._p8,{loadingValue:!1})&&lt,Ot=function(e,t,r){var n=(0,Pl.t)().isGridView,a=Xl().rowHeight;return(0,u.useCallback)(function(){var o=(0,i.A)(c().mark((function i(o){var l,s,u,d,p,y,g,f,m;return c().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(s=a,u=1,n&&(y=null===(d=e.current)||void 0===d?void 0:d.querySelector('li[role="row"]'),s=null!==(p=null==y?void 0:y.getBoundingClientRect().height)&&void 0!==p?p:0,null!=y&&y.parentElement&&(u=getComputedStyle(y.parentElement).getPropertyValue("grid-template-columns").split(" ").length)),s){i.next=5;break}return i.abrupt("return",null);case 5:return g=r(0,5e4,{cachedOnly:!0}),f=g.find((function(e){return(null==e?void 0:e.name)&&(0,Ss.u)(o,e.name)})),-1!==(m=f?g.indexOf(f):-1)&&t.current&&ws(t.current,e.current,Math.floor(m/u)*s,s),i.abrupt("return",null!==(l=null==f?void 0:f.uri)&&void 0!==l?l:null);case 10:case"end":return i.stop()}}),i)})));return function(e){return o.apply(this,arguments)}}(),[e,t,a,r,n])}(J,G,dt),jt=pe?(0,T.jsx)(Lt,{onClick:vt}):null;(0,u.useEffect)((function(){pe&&fe&&be(nt.fX.DEFAULT)}),[pe,fe,be]),tt&&!fe&&(bt=xt?(0,T.jsx)(pt,{className:Je}):(0,T.jsx)(St,{className:Je}));var wt=rt?(0,T.jsx)(Tt,{query:w,className:Je}):null,At=(0,b.NC)($.AEN),Dt=!fe&&!bt&&(0,T.jsxs)("div",{className:p()(qs,Je,(0,a.A)({},Qs,At)),children:[(0,T.jsx)(Os,{clearOnEscapeInElementRef:Z,primaryFilter:null==D?void 0:D.primaryFilter,spec:Ie},ee),(0,T.jsx)(vs,{sortOrders:null!==(d=null==D?void 0:D.availableSortOrders)&&void 0!==d?d:[],activeSortOrderId:null==D||null===(g=D.selectedSortOrder)||void 0===g?void 0:g.id,setActiveSortOrderId:K,showReorderingOnboarding:(null==D?void 0:D.primaryFilter)===Un.c.PLAYLIST&&!(null!=D&&D.reorderAllowed),spec:Ae,scrollNodeRef:G})]}),Ct=pe&&!D,It=me&&!he&&!jt&&!bt,Rt=(null!==(P=null==D?void 0:D.selectedFilters)&&void 0!==P?P:[]).length>0,Et=se&&!Rt&&!ee&&!tt,kt=Ve(),Ft=kt.cheetaraOnboardingIsActive,Mt=kt.setCheetaraOnboardingIsActive,Bt=kt.cheetaraOnboardingDismissed,Ut=kt.setCheetaraOnboardingDismissed,Vt=kt.handleCloseCheetaraOnboarding,_t=!fe&&se&&!pe&&!Bt&&!(null!=D&&D.passedFolderUri)&&!(null==D||null===(O=D.availableFilters)||void 0===O||!O.length)&&!(null!=D&&null!==(j=D.selectedFilters)&&void 0!==j&&j.length);return(0,T.jsx)(yn,{containerRef:Z,findMatchingTypeaheadUid:Ot,isEnabled:Pt,children:(0,T.jsxs)(je,{spec:Oe,children:[(0,T.jsx)(oe,{}),Ft&&(0,T.jsx)(ke,{onClose:Vt}),(0,T.jsx)(x.h,{menu:(0,T.jsx)(M,{folderUri:ee}),children:(0,T.jsxs)("div",uc(uc({className:p()(Js,(0,a.A)((0,a.A)((0,a.A)({},ur,Ze===U.Nz.ON),tc,fe),ic,Ft)),style:{"--placeholder-image":"url(".concat((0,h.b)("images/ylx-row-placeholder.png"),")"),"--placeholder-artist-image":"url(".concat((0,h.b)("images/ylx-artist-row-placeholder.png"),")"),"--placeholder-compact-image":"url(".concat((0,h.b)("images/ylx-compact-row-placeholder.png"),")")},ref:function(e){Z.current=e,Se(e)}},qe),{},{tabIndex:-1,onDragStart:function(){return We(!0)},onDragEnd:function(){return We(!1)},children:[Be,(0,T.jsxs)("div",{className:p()((0,a.A)({},ac,ht)),children:[(0,T.jsx)(Tl,{parentDropTargetClassName:Je,isLibraryCompletelyEmpty:tt,folderUri:null==D?void 0:D.passedFolderUri,folderName:null==D?void 0:D.openedFolderName,spec:Ae.titleRowFactory(),openedFolderIsPlayable:null==D?void 0:D.openedFolderIsPlayable}),!re&&(0,T.jsx)(je,{spec:Ae,children:(0,T.jsx)(ct,{})}),!fe&&!Ct&&(0,T.jsxs)("div",{className:oc,children:[Et&&(0,T.jsx)(u.Suspense,{fallback:null,children:(0,T.jsx)(Le,{})}),(0,T.jsx)(Nr,{selectedFilters:null==D?void 0:D.selectedFilters,availableFilters:null==D?void 0:D.availableFilters,toggleFilterId:_,resetFilterIds:L,className:p()((0,a.A)({},nc,!mt)),scrollNodeRef:G,spec:De,inFolderView:!(null==D||!D.passedFolderUri)},ut),me&&Dt]}),_t&&me&&(0,T.jsx)(u.Suspense,{fallback:null,children:(0,T.jsx)(Ee,{ylxIsExpanded:me,setCheetaraOnboardingIsActive:Mt,onHide:function(){return Ut(!0)}})}),It&&(0,T.jsx)(nr,{isScrolled:ht})]}),(0,T.jsx)(H.a,{className:$s,onInstanceCreated:function(e){G.current=e.elements().viewport},children:(0,T.jsxs)("div",{className:p()(ec,(0,a.A)((0,a.A)((0,a.A)({},nc,!pe&&!mt),tc,fe),rc,It)),children:[_t&&!me&&(0,T.jsx)(u.Suspense,{fallback:null,children:(0,T.jsx)(Ee,{ylxIsExpanded:me,setCheetaraOnboardingIsActive:Mt,onHide:function(){return Ut(!0)}})}),!me&&Dt,!fe&&(null==D?void 0:D.tagPlaylist)&&(0,T.jsx)(u.Suspense,{fallback:null,children:(0,T.jsx)(Te,{playlist:D.tagPlaylist})}),jt||bt||wt,(0,T.jsx)("div",{ref:J,children:he?(0,T.jsx)(Bo,{getItems:dt,scrollNodeRef:G,primaryFilter:null==D?void 0:D.primaryFilter,nrValidItems:yt,spec:Re}):(0,T.jsx)(Zl,{getItems:dt,scrollNodeRef:G,primaryFilter:null==D?void 0:D.primaryFilter,nrValidItems:yt,spec:Re})})]})}),Ds(),(0,T.jsx)(Gs,{})]}))})]})})},yc=function(){var e=(0,g.d4)((function(e){return e.session})).isAnonymous,t=(0,g.d4)((function(e){return e.ui.editRefinersModal})),r=_e();return(0,T.jsx)(_.s,{onError:function(e){(0,Ws.Jy)(e,"YourLibraryX")},children:(0,T.jsx)(le.s,{uri:N.gv,children:(0,T.jsx)(Ft,{children:(0,T.jsxs)(Ur,{children:[(0,T.jsx)(Ie,{children:(0,T.jsx)(Be,{children:(0,T.jsxs)(Oe,{children:[(0,T.jsx)(pc,{}),r&&t.isOpen&&(0,T.jsx)(Re,{})]})})}),(0,T.jsx)(Qe,{isAnonymous:e})]})})})})}},72211:(e,t,r)=>{r.d(t,{P:()=>i});var n=r(57379);function i(){return(0,n.y)()[0]}},57379:(e,t,r)=>{r.d(t,{y:()=>o});var n=r(71523),i=r(30758),a=r(14845);function o(){var e=(0,a.A)(),t=(0,i.useState)(e.getIsEnabled()),r=(0,n.A)(t,2),o=r[0],l=r[1];return(0,i.useEffect)((function(){var t=e.subscribeIsEnabled(l);return function(){return t()}}),[e]),[o,(0,i.useCallback)((function(t){return e.setIsEnabled(t)}),[e])]}},82354:(e,t,r)=>{r.d(t,{x:()=>a});var n=r(32865),i=r(93833);function a(){return(0,i.N)(n.b)}}}]);
//# sourceMappingURL=xpui-routes-your-library-x.js.map