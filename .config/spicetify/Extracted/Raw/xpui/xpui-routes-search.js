"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7125,352],{41888:(e,t,r)=>{r.d(t,{k:()=>c});var n=r(30758),i=r(99),a=r(74230),s=r(33786),o=r(52857),l=r(34300),u=r(86070),c=function(e){var t=e.id,r=e.children,c=e.targetURI,d=e.fadeOut,p=void 0!==d&&d,v=(0,n.useCallback)((function(){window.open((0,o.rw)(c).href)}),[c]),f={getTitle:function(){return i.Ru.get("action-trigger.available-in-app-only")},getDescription:function(){return i.Ru.get("action-trigger.listen-mixed-media-episode")},primaryButtonText:function(){return i.Ru.get("action-trigger.button.get-app")},secondaryButtonText:function(){return i.Ru.get("action-trigger.button.not-now")},isCTA:!0,intentPrimaryButton:"download-app",onLogInteraction:(0,s.W)(),shouldHideOnScroll:!0,fadeOut:p};return(0,u.jsx)(a.U,{className:l.A.container,id:t,onPrimaryButtonClick:v,options:f,children:r})}},82609:(e,t,r)=>{r.r(t),r.d(t,{PageErrorTemplate:()=>y});var n=r(30758),i=r(90543),a=r(15792),s=r(95081),o=r(86113),l=r(95334),u=r(36734),c=r(15278),d=r(99),p=r(36783),v=r(57965);const f="main-pageErrorTemplate-errorBody";var h=r(86070),m={"/":a.H,"/search":s.C,"/collection":o.M},y=n.memo((function(){var e,t=(0,i.zy)(),r=(e=t.pathname,m[e]||l.b),a=(0,v.r)(c.W,{data:{uri:t.pathname}}),s=a.spec,o=a.logger,y=(0,p.t)(s),g=(0,n.useCallback)((function(){var e=s.reloadPageButtonFactory().hitRefreshContent();o.logInteraction(e),window.location.reload()}),[s,o]);return(0,h.jsxs)("div",{className:f,ref:y,children:[(0,h.jsx)(r,{width:46,height:46}),(0,h.jsx)("h1",{children:d.Ru.get("error-dialog.generic.header")}),(0,h.jsx)("p",{children:d.Ru.get("error-dialog.generic.body")}),(0,h.jsx)(u.$,{onClick:g,children:d.Ru.get("fatal-error.button-label")})]})}))},10903:(e,t,r)=>{r.d(t,{g:()=>y});r(47994);var n=r(30758),i=r(97500),a=r.n(i),s=r(7852),o=r(2860),l=r(59414),u=r(26132),c=r(39342),d=r(98538),p=r(63130),v=r(35605),f=r(68113),h=r(76599),m=r(86070),y=function(e){var t=e.children,r=e.uri,i=e.name,y=e.nonInteractive,g=void 0!==y&&y,x=e.creatorUri,b=e.spec,j=null,C=(0,v.P)({itemUris:[r],dragLabelText:i}),R=C.draggable,w=C.onDragStart,A=(0,f.s)(),P=(0,n.useCallback)((function(){b&&A.logInteraction(b.albumLinkFactory({uri:r}).hitUiNavigate({destination:r}))}),[A,b,r]);return g?(0,m.jsx)("span",{className:a()("standalone-ellipsis-one-line",h.A.text),children:t}):((0,o._Tv)(r)&&(j=(0,m.jsx)(u.h,{uri:r,artistUri:x})),(0,o.WB1)(r)&&(j=(0,m.jsx)(c.H,{uri:r})),(0,m.jsx)(l.h,{menu:j,children:(0,m.jsx)(s.E,{variant:"bodySmall",children:(0,m.jsx)(d.Zp,{label:i,showDelay:d.uF,children:(0,m.jsx)(p.N,{draggable:R,onDragStart:w,className:a()("standalone-ellipsis-one-line"),to:r,dir:"auto",onClick:P,children:t})})})}))}},94793:(e,t,r)=>{r.d(t,{r:()=>g});var n=r(30758),i=r(51646),a=r(7852),s=r(83993),o=r(2860),l=r(63130),u=r(96463),c=r(57965);const d="CqCtb3wr4SK8AiZwxeH0",p="IGCDq9qa08JVVY3mcy7Y",v="Vn9yz8P5MjIvDT8c0U6w",f="MtV402NmdUF5mceSD0Dy",h="WDC2Yzs811n7JCYtYQzc";var m=r(86070),y=i.l0o,g=function(e){var t=e.title,r=e.imageUrl,i=e.viewId,g=e.pageId,x=e.color,b=void 0===x?y:x,j=e.href,C=e.index,R=e.ubiId,w=i&&"/genre/".concat(i)||j||"#",A=(0,c.r)(s.b,{data:{position:C,identifier:R}}),P=A.spec,k=A.logger,I=(0,n.useCallback)((function(){var e,t=null===(e=(0,o.o_h)(w))||void 0===e?void 0:e.toURI();t&&k.logInteraction(P.hitUiNavigate({destination:t}))}),[k,P,w]);return(0,m.jsx)("div",{className:p,children:(0,m.jsx)(l.N,{to:w,pageId:g,className:d,onClick:I,children:(0,m.jsxs)("div",{className:v,style:{backgroundColor:b},children:[r?(0,m.jsx)(u._,{loading:"lazy",src:r,className:h}):null,(0,m.jsx)(a.E,{variant:"titleSmall",className:f,children:t})]})})})}},44632:(e,t,r)=>{r.d(t,{K:()=>a});var n=r(71523),i=r(2860);function a(e){var t,r=(0,i.o_h)(e,{parseUnknown:!0}),a=null!==(t=null==r?void 0:r.args)&&void 0!==t?t:[],s=(0,n.A)(a,2),o=s[0],l=s[1];if(l&&"page"===o)return"/genre/".concat(l)}},89749:(e,t,r)=>{r.d(t,{P:()=>h});var n=r(65277),i=(r(16347),r(18653),r(4925)),a=r(98538),s=r(49259),o=r(86070),l=function(e){var t,r,n,l,u=e.gatedEntityRelations,c=e.hasGatedEntityRelationAccess;if(!u)return!1;var d=null==u||null===(t=u.entitiesWithValueProps)||void 0===t?void 0:t.at(0),p=null==d||null===(r=d.valueProps.at(0))||void 0===r?void 0:r.displayText,v=!c;return(0,o.jsx)(o.Fragment,{children:p&&d&&(0,o.jsx)(a.Zp,{label:v?null===(n=d.summary)||void 0===n?void 0:n.forUserWithoutAccess:null===(l=d.summary)||void 0===l?void 0:l.forUserWithAccess,children:(0,o.jsx)(s.E,{icon:v?i.u:void 0,text:p})})})},u=r(49093),c=r(22433),d=r(33267),p=r(67515),v=r(4254),f=function(e){return"contentRating"in e},h=function(e){var t,r,i,a=e.episode,s=(0,n.NC)(u.MCN,{loadingValue:!1}),h=(0,v.b)(f(a)?{contentRating:null==a||null===(t=a.contentRating)||void 0===t?void 0:t.label,isPaywalled:null===(r=a.podcastSubscription)||void 0===r?void 0:r.isPaywalled}:{isExplicit:null==a?void 0:a.isExplicit,isMOGEFRestricted:null==a?void 0:a.is19PlusOnly,isPaywalled:null===(i=a.podcastSubscription)||void 0===i?void 0:i.isPaywalled}).badges,m=s&&f(a);return(0,o.jsxs)(o.Fragment,{children:[h.explicit&&(0,o.jsx)(c.U,{}),m?(0,o.jsx)(l,{gatedEntityRelations:a.gatedEntityRelations,hasGatedEntityRelationAccess:"hasGatedEntityRelationAccess"in a&&a.hasGatedEntityRelationAccess}):h.paid&&(0,o.jsx)(d.y,{}),h.nineteen&&(0,o.jsx)(p.q,{size:16})]})}},14810:(e,t,r)=>{r.d(t,{B:()=>N,q:()=>U});var n=r(51488),i=r(71523),a=(r(7651),r(14551),r(83234),r(30456),r(26701),r(47994),r(37417),r(11737),r(51691),r(702),r(5672),r(43379),r(34192),r(88856),r(51565),r(18316),r(30758)),s=r(94822),o=r(80349),l=r(2860),u=r(32849),c=r(41888),d=r(59414),p=r(54363),v=r(6472),f=r(81713),h=r(74230),m=r(89749),y=r(35605),g=r(33786),x=r(67124),b=r(15190),j=r(30021),C=r(14816),R=r(56122),w=r(38547),A=r(36783),P=r(57965),k=r(70525),I=r(4254),S=r(86070);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}var _=function(e){return"activation-trigger-mme-".concat(e)},U=a.memo((function(e){var t,r,n,O,U,T,q,D,F,B,L,M=e.index,V=void 0===M?-1:M,H=e.showMetadata,W=e.episode,G=e.usePlayContextItem,Z=e.status,z=e.variant,K=(0,b.c)(),Q=W.playedState.playPositionMilliseconds,$=W.uri,Y=(0,a.useRef)(null),X=(0,a.useState)(W.playedState.state===k._w.Completed),J=(0,i.A)(X,2),ee=J[0],te=J[1],re=(0,y.P)(),ne=re.draggable,ie=re.onDragStart,ae=(0,x.V)(),se=(0,R.y)(),oe=(0,g.W)(),le=(0,s.wA)(),ue=(0,P.r)(o.d,{data:{uri:$,reason:W.requestId||"",position:V}}),ce=ue.UBIFragment,de=ue.spec,pe=ue.logger,ve=(0,A.t)(de),fe=G({uri:$}),he=fe.isActive,me=fe.isPlaying,ye=fe.togglePlay,ge=(0,w.S)(1e4,(function(e){var t;return(null==e||null===(t=e.item)||void 0===t?void 0:t.uri)===$})),xe=(0,i.A)(ge,1)[0];(0,a.useEffect)((function(){me&&(Y.current=xe)}),[me,xe]),(0,a.useEffect)((function(){!me&&Y.current&&W.duration.milliseconds<=Y.current&&te(!0)}),[me,W.duration.milliseconds]);var be=(0,a.useCallback)((function(e){e||(Y.current=0),te(e)}),[]),je=N(H),Ce=(0,j.C)(E(E({},W),{},{coverArt:{sources:W.coverArt}}),je),Re=(0,a.useCallback)((function(){if(W.episodeType===k.I_.Episode&&K)h.h.set((function(){return{triggerId:_(W.uri),triggerAction:null}}));else if(ae)Ce();else{var e;e=me?de.playButtonFactory().hitPause({itemToBePaused:$}):he?de.playButtonFactory().hitResume({itemToBeResumed:$}):de.playButtonFactory().hitPlay({itemToBePlayed:$});var t=pe.logInteraction(e);oe({targetUri:$,intent:me?"pause":"play",type:"click"}),ye({loggingParams:t})}}),[he,Ce,oe,ye,$,me,ae,W,K,pe,de]),we=(0,a.useCallback)((function(){pe.logInteraction(de.hitUiNavigate({destination:$})),oe({type:"click",targetUri:$,intent:"navigate"})}),[$,oe,pe,de]),Ae=null!==(t=null===(r=W.podcastSubscription)||void 0===r?void 0:r.isPaywalled)&&void 0!==t&&t,Pe=null!==(n=null===(O=W.podcastSubscription)||void 0===O?void 0:O.isUserSubscribed)&&void 0!==n&&n,ke=Ae&&!Pe,Ie=Ae&&ae,Se=(0,I.b)({contentRating:null===(U=W.contentRating)||void 0===U?void 0:U.label,isPaywalled:Ae}).badges,Oe=(0,a.useCallback)((function(){return le((0,u.Tf)(H.uri))}),[H.uri,le]),Ee=(0,a.useCallback)((function(e){var t,r=e;(ke||Ie)&&(r=(0,S.jsx)(f.f,{enabled:!0,showUri:(null===(t=W.podcast)||void 0===t?void 0:t.uri)||H.uri,renderInline:!1,children:r}));return!W.playability.playable&&Se.nineteen&&(r=(0,S.jsx)("div",{onClick:function(e){e.stopPropagation(),Oe()},children:e})),r=(0,S.jsx)(c.k,{id:_($),targetURI:(0,l.o_h)($),children:r})}),[$,ke,Ie,H.uri,Se.nineteen,W.playability.playable,Oe,null===(T=W.podcast)||void 0===T?void 0:T.uri]);return(0,S.jsx)(ce,{spec:de,children:(0,S.jsx)(C.pZ,{value:"row",index:V,children:(0,S.jsx)(d.h,{onShow:function(){pe.logInteraction(de.secondaryHitUiReveal())},menu:(0,S.jsx)(p.b,{uri:$,showUri:H.uri,sharingInfo:W.sharingInfo,isPlayed:ee,onMarkAsPlayed:be}),children:(0,S.jsx)(v.k,{ref:ve,requestId:W.requestId,index:V,uri:$,size:se,images:W.coverArt||[],name:W.name,showName:(null===(q=W.podcast)||void 0===q?void 0:q.name)||H.name,description:W.description,isPlayable:W.playability.playable||ke,fullyPlayed:ee,durationMs:W.duration.milliseconds,releaseDate:(null===(D=W.releaseDate)||void 0===D?void 0:D.isoString)||"",resumePositionMs:null!==(F=Y.current)&&void 0!==F?F:Q,draggable:ne,handleDragStart:function(e){if(e.target===e.currentTarget){var t="".concat(W.name," â€¢ ").concat(H.name);ie(e,{itemUris:[$],dragLabelText:t,contextUri:H.uri})}},handlePlaybackClick:Re,handleClick:we,isCurrentlyPlaying:he,isPaywalled:Ae,isUserSubscribed:Pe,isPlaying:me,position:me?xe:void 0,episodeSharingInfo:W.sharingInfo,onMarkAsPlayed:be,contentInformation:W.contentInformation,showUri:(null===(B=W.podcast)||void 0===B?void 0:B.uri)||H.uri,mediaTypes:null!==(L=W.mediaTypes)&&void 0!==L?L:void 0,badges:(0,S.jsx)(m.P,{episode:W}),playButtonWrapper:Ee,onMoreButtonClick:function(){pe.logInteraction(de.moreButtonFactory().hitUiReveal())},status:Z,variant:z})})})})}))},19813:(e,t,r)=>{r.d(t,{_:()=>d});var n=r(51488),i=r(30758),a=r(21743),s=r(97500),o=r.n(s);const l="eqw9lvuoZHrkWMTdyTpY",u="lb08f71wES9AQnKx6e0R";var c=r(86070),d=i.memo((function(e){var t=e.triggerOnInitialLoad,r=void 0!==t&&t,s=e.onReachBottom,d=e.showScrollbar,p=void 0===d||d,v=e.horizontalScroll,f=void 0!==v&&v,h=e.className,m=(0,a.Wx)({initialInView:r}),y=m.ref,g=m.inView;return(0,i.useEffect)((function(){g&&s&&s()}),[g,s]),(0,c.jsxs)("div",{className:o()((0,n.A)((0,n.A)({},u,!p),l,f),h),"data-testid":"infinite-scroll-list",children:[e.children,(0,c.jsx)("div",{ref:y})]})}))},21860:(e,t,r)=>{r.d(t,{PG:()=>i,f8:()=>s,oC:()=>n,s8:()=>a});var n=o(120),i=o(30),a=o(60),s=o(15);function o(e){return 60*e*1e3}},29902:(e,t,r)=>{r.d(t,{RS:()=>i,f0:()=>s,o8:()=>a});r(25550),r(15342);var n=r(89907);function i(e){return{url:e.url,width:e.width,height:e.height}}function a(e){if("Episode"===e.__typename){var t,r,n=e.podcastV2.data;return"Podcast"!==n.__typename?[]:null!==(t=null===(r=n.coverArt)||void 0===r?void 0:r.sources.map(i))&&void 0!==t?t:[]}return[]}function s(e){var t,r,a,s,o,l,u,c,d,p,v,f,h,m,y,g,x,b;switch(e.__typename){case"Artist":return null!==(t=null===(r=e.visuals.avatarImage)||void 0===r?void 0:r.sources.map(i))&&void 0!==t?t:[];case"Album":case"Audiobook":case"Podcast":case"Episode":case"Chapter":return null!==(a=null===(s=e.coverArt)||void 0===s?void 0:s.sources.map(i))&&void 0!==a?a:[];case"Track":return null!==(o=null===(l=e.albumOfTrack)||void 0===l||null===(l=l.coverArt)||void 0===l?void 0:l.sources.map(i))&&void 0!==o?o:[];case"Playlist":return null!==(u=null===(c=e.images.items[0])||void 0===c?void 0:c.sources.map(i))&&void 0!==u?u:[];case"User":return null!==(d=null===(p=e.avatar)||void 0===p?void 0:p.sources.map(i))&&void 0!==d?d:[];case"Merch":return null!==(v=null===(f=e.image)||void 0===f?void 0:f.sources.map(i))&&void 0!==v?v:[];case"ArtistConcerts":var j,C,R=e.mainArtist.data;return"Artist"!==R.__typename?[]:null!==(j=null===(C=R.visuals.avatarImage)||void 0===C?void 0:C.sources.map(i))&&void 0!==j?j:[];case"BrowseSectionContainer":return null!==(h=null===(m=e.data)||void 0===m||null===(m=m.cardRepresentation)||void 0===m||null===(m=m.artwork)||void 0===m?void 0:m.sources.map(i))&&void 0!==h?h:[];case"BrowseClientFeature":return null!==(y=null!==(g=null===(x=e.artwork)||void 0===x?void 0:x.sources.map(i))&&void 0!==g?g:null===(b=e.iconOverlay)||void 0===b?void 0:b.sources.map(i))&&void 0!==y?y:[];case"GenericError":case"NotFound":case"RestrictedContent":case"BrowseSpacesHub":case"BrowseExternalHref":return[];default:return(0,n.k)(e),[]}}},33483:(e,t,r)=>{r.d(t,{d:()=>n});var n=new(r(33872).l)("addConcertToLibrary","mutation","c4670bb9503f201cff5a61ee426a0aa93cac0eaa1c1b9b8c66d53e058f270f7c",null)},48516:(e,t,r)=>{r.d(t,{$:()=>n});var n=new(r(33872).l)("removeConcertFromLibrary","mutation","2b6a3dc45db6b423eb36c628ccb26768f2c03e75ae274e09a1701336d46dd21d",null)},367:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Qi});var n=r(5904),i=r(22507),a=r(71523),s=r(64501),o=r.n(s),l=(r(42486),r(83234),r(40065),r(68216),r(5672),r(43379),r(78397),r(34192),r(4865),r(30758)),u=r(88610),c=r(90543),d=r(3074),p=r.n(d),v=r(65277),f=r(52818),h=r(99),m=r(17781),y=r(77754),g=r(86070),x={albums:f.$h.SEARCH_ALBUMS,artists:f.$h.SEARCH_ARTISTS,episodes:f.$h.SEARCH_EPISODES,genres:f.$h.SEARCH_GENRES,playlists:f.$h.SEARCH_PLAYLISTS,podcasts:f.$h.SEARCH_SHOWS,audiobooks:f.$h.SEARCH_AUDIOBOOKS,tracks:f.$h.SEARCH_SONGS,users:f.$h.SEARCH_PROFILES,podcastAndEpisodes:f.$h.SEARCH_PODCASTS_AND_EPISODES,topResults:f.$h.SEARCH};function b(e){var t=e.children,r=(0,c.g)(),n=r.query,i=void 0===n?"":n,a=r.category,s=void 0===a?"":a;return(0,g.jsx)(y.e,{pageId:x[s],entityUri:"spotify:app:search:".concat(i,":").concat(s),children:t})}function j(e){var t=e.children,r=(0,c.g)().query;return(0,g.jsx)(y.e,{pageId:f.$h.SEARCH,entityUri:"spotify:app:search:".concat(r),children:t})}var C=r(53167),R=(r(25550),r(15342),r(79664)),w=r(94793),A=r(29902),P=r(44632),k=r(89907);function I(e){var t=(0,A.f0)(e);if(t.length>0)return t[0].url}function S(e,t){switch(e.content.__typename){case"BrowseXlinkResponseWrapper":case"BrowseSectionContainerWrapper":return function(e,t,r){var n,i,a;switch(e.__typename){case"BrowseClientFeature":return(0,g.jsx)(w.r,{title:null!==(n=null===(i=e.title)||void 0===i?void 0:i.transformedLabel)&&void 0!==n?n:"",pageId:"search",href:e.featureUri,color:null===(a=e.backgroundColor)||void 0===a?void 0:a.hex,imageUrl:I(e),ubiId:e.featureUri,index:t},e.featureUri);case"BrowseSectionContainer":var s,o,l,u;return null!==(s=e.data)&&void 0!==s&&s.cardRepresentation?(0,g.jsx)(w.r,{title:null!==(o=null===(l=e.data.cardRepresentation.title)||void 0===l?void 0:l.transformedLabel)&&void 0!==o?o:"",pageId:"search",href:(0,P.K)(r),color:null===(u=e.data.cardRepresentation.backgroundColor)||void 0===u?void 0:u.hex,imageUrl:I(e),ubiId:r,index:t},r):null;case"BrowseSpacesHub":case"GenericError":case"NotFound":case"BrowseExternalHref":return null;default:return(0,k.k)(e),null}}(e.content.data,t,e.uri);case"AlbumResponseWrapper":case"ArtistResponseWrapper":case"EpisodeOrChapterResponseWrapper":case"PlaylistResponseWrapper":case"PodcastOrAudiobookResponseWrapper":case"TrackResponseWrapper":case"UserResponseWrapper":case"ConcertResponseWrapper":case"MerchResponseWrapper":case"ArtistConcertsResponseWrapper":case"NoContent":case"UnknownType":return null;default:return(0,k.k)(e.content),null}}var O=r(21860),E=r(33872),N=r(93611),_=new E.l("browseAll","query","cd6fcd0ce9d1849477645646601a6d444597013355467e24066dad2c1dc9b740",null),U=function(){var e,t,r,n=function(e,t){return(0,N.I)(_,e,t)}({pagePagination:{offset:0,limit:10},sectionPagination:{offset:0,limit:99}},{gcTime:O.oC,staleTime:O.PG}),i=n.data;return"BrowseSectionContainer"!==(null==i||null===(e=i.browseStart)||void 0===e?void 0:e.__typename)?[]:null!==(t=null===(r=i.browseStart.sections)||void 0===r?void 0:r.items)&&void 0!==t?t:[]},T=r(31625),q=r(19179),D=r(84959);const F="AGAj7hr0pC57oadgb75h";var B=function(e){var t=e.browseAllSpec,r=U();return(0,g.jsx)("div",{className:F,children:r.map((function(e,r){return function(e,t,r){var n,i,a;if(null===(n=e.data)||void 0===n||!n.__typename)return null;switch(e.data.__typename){case"BrowseGridSectionData":return(0,g.jsx)(D.r,{spec:t,children:(0,g.jsx)(T.x,{config:(0,q.s1)(q.yV.BROWSE),children:(0,g.jsx)(R.p,{title:null!==(i=null===(a=e.data)||void 0===a||null===(a=a.title)||void 0===a?void 0:a.transformedLabel)&&void 0!==i?i:"",index:r,id:e.uri,showAll:!0,children:e.sectionItems.items.map((function(e,t){return S(e,t)}))})})},e.uri);case"BrowseSingleItemSectionData":case"BrowseGenericSectionData":case"BrowseRelatedSectionData":case"BrowseUnsupportedSectionData":return null;default:return(0,k.k)(e.data),null}}(e,t,r)}))})};r(26851),r(9750);var L=r(44710),M=r(320),V=r(74737),H=r(14816),W=function(){var e,t=(0,V.k)(),r=t.searchHistory,n=t.clearSearchHistory,i=0===(e=r).length?0:(0,L.v3)(JSON.stringify(e));return 0===r.length?null:(0,g.jsx)(R.p,{index:0,id:"recent-searches",total:r.length,seeAllUri:"spotify:app:recent-searches",title:h.Ru.get("search.title.recent-searches"),children:r.map((function(e,t){return(0,g.jsx)(H.pZ,{index:t,value:"search-history",children:(0,g.jsx)(M.X,{entity:e,index:t,clearSearchHistory:n,requestId:i.toString()})},e.uri)}))})},G=r(49093),Z=r(57965);const z="_YN9HVrnrcvnaCjYnNkM";var K=function(){var e=(0,v.NC)(G.MB0),t=(0,Z.r)(C.A,{data:{uri:"search:find"}}),r=t.spec,n=t.UBIFragment,i=(0,l.useMemo)((function(){return{recentSearchesSpec:r.recentSearchesFactory(),topGenresSpec:r.topGenresFactory(),browseAllSpec:r.browseAllFactory()}}),[r]),a=i.recentSearchesSpec,s=i.browseAllSpec;return(0,g.jsxs)("div",{className:z,children:[!e&&(0,g.jsx)(n,{spec:a,children:(0,g.jsx)(W,{})}),(0,g.jsx)(B,{browseAllSpec:s})]})},Q=r(82609),$=r(51488),Y=(r(7651),r(30456),r(26701),r(37417),r(11737),r(51691),r(702),r(88856),r(51565),r(18316),r(57695)),X=r(2860),J=r(65321),ee=r(68250),te=r(1201),re=r(7852),ne=r(36734),ie=r(12086),ae=(r(184),(0,l.createContext)(null)),se=ae.Provider;function oe(){var e=(0,l.useContext)(ae);if(null===e)throw new Error("Trying to use 'SearchContext' without 'SearchProvider'!");return e}var le=r(40494),ue=r(36783);const ce="_5hJUuCVGXtd6CaXQBUM",de="DH8aRN7lGO_ZqFegRTmj",pe="W37c8X5LCtHtmryEzR4I",ve="oNTqWDEksr002PdYJVmT";var fe=function(e){var t=e.forChip,r=oe(),n=r.query,i=r.serpId,a=!(0,le.n)(),s="/search/".concat(n),o=(0,X.RuZ)(n).toURI(),l=(0,Z.r)(ie.w,{data:{uri:o,reason:i}}),u=l.spec,c=l.logger,d=(0,ue.t)(u);return(0,g.jsxs)("div",{className:ce,"aria-live":"polite",ref:d,children:[(0,g.jsx)(re.E,{as:"h1",variant:"titleSmall",className:de,children:t?h.Ru.get("search.empty-results-title-for-chip",n,t):h.Ru.get("search.empty-results-title",n)}),(0,g.jsx)("p",{className:pe,children:a?h.Ru.get("web-player.search-modal.offline"):h.Ru.get("search.empty-results-text")}),t&&(0,g.jsx)(te.N_,{to:s,children:(0,g.jsx)(ne.$,{colorSet:"invertedLight",className:ve,onClick:function(){c.logInteraction(u.seeAllButtonFactory().hitUiNavigate({destination:s}))},children:h.Ru.get("search.see-all")})})]})},he=r(28130),me={results:null,isError:!1,isFetchMoreError:!1},ye=r(14810),ge=r(19813),xe=r(47832),be=r(56122),je=r(45335),Ce=r(74484),Re=r(68113);const we="l5wWcdJAOxbcnqyfuEmX",Ae="niq6jXm6QbYCNJJ6J0wQ",Pe="L3pQN7b5ky5wG5LuGE6o";function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){(0,$.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Se=function(e){var t=e.index,r=e.item,n=r.episode,i=r.show,a=(0,Ce.P)({uri:r.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"}).usePlayContextItem;return(0,g.jsxs)("div",{className:Pe,children:[(0,g.jsx)(ye.q,{index:t,episode:Ie(Ie({},n),{},{requestId:r.requestId}),showMetadata:i,usePlayContextItem:a}),(0,g.jsx)("hr",{className:Ae,"aria-hidden":!0})]})},Oe=function(e){var t=e.showTitle,r=void 0===t||t,n=e.displayEmptyPageOnEmptyResults,i=void 0===n||n,a=e.displayError,s=void 0===a||a,o=e.enableInfiniteScroll,l=void 0!==o&&o,u=e.fetchData,c=e.totalCountRef,d=e.items,p=e.isError,v=oe(),f=v.query,h=v.serpId,m=(0,X.RuZ)(f).toURI(),y=(0,je.x)((0,$.A)((0,$.A)({},xe.E.MEDIUM,0),xe.E.LARGE,600)),x=y.ref,b=y.breakpoint,j=(0,Re.s)(),C="spotify:app:search:".concat(encodeURIComponent(f),":episodes"),R=(0,Z.r)(Y.w,{data:{uri:m,reason:h}}),w=R.spec,A=R.UBIFragment;return p?s?(0,g.jsx)(Q.PageErrorTemplate,{}):null:0===c.current?i?(0,g.jsx)(A,{spec:w.emptyResultsFactory(),children:(0,g.jsx)(fe,{forChip:ee.j7.episodes()})}):null:(0,g.jsxs)(be.o.Provider,{value:b,children:[d&&r&&(0,g.jsx)(J.k,{title:ee.j7.episodes(),seeAllUri:C,onClickTitle:function(){w&&j.logInteraction(w.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:C}))},onClickSeeAll:function(){w&&j.logInteraction(w.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:C}))},hasMoreElements:!l&&d.length<(c.current||0)}),(0,g.jsx)("div",{ref:x,className:we,children:d&&(0,g.jsx)(ge._,{triggerOnInitialLoad:!1,onReachBottom:function(){l&&u()},children:d})})]})},Ee=function(e){var t=oe(),r=t.query,i=t.api,s=function(e,t){var r=(0,he.a)(),i=(0,l.useRef)(null),s=(0,l.useRef)(0),u=(0,l.useState)(me),c=(0,a.A)(u,2),d=c[0],p=c[1],v=(0,l.useCallback)((0,n.A)(o().mark((function n(){var a,l,u,c=arguments;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=c.length>0&&void 0!==c[0]&&c[0],r()){n.next=3;break}return n.abrupt("return");case 3:if(a&&(s.current=0,i.current=null),l=e,null===i.current){n.next=9;break}if(!(s.current>=i.current)){n.next=8;break}return n.abrupt("return");case 8:s.current+l>i.current&&(l=i.current-s.current);case 9:return n.prev=9,n.next=12,t(s.current,l);case 12:u=n.sent,s.current+=l,i.current=u.totalCount||0,r()&&p((function(e){return{isError:!1,isFetchMoreError:!1,results:(a||null===e.results?[]:e.results).concat(u.items)}})),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(9),r()&&p((function(e){var t=null===e.results||a;return{results:a?[]:e.results,isError:t,isFetchMoreError:!t}}));case 21:case"end":return n.stop()}}),n,null,[[9,18]])}))),[e,t,r]);return(0,l.useEffect)((function(){v(!0)}),[v]),{results:d.results,isError:d.isError,fetchData:v,totalCountRef:i}}(30,(0,l.useCallback)((function(e,t){return i.getFullEpisodes(r,e,t)}),[i,r])),u=s.results,c=s.isError,d=s.fetchData,p=s.totalCountRef;return(0,g.jsx)(Oe,Ie(Ie({},e),{},{fetchData:d,totalCountRef:p,items:null==u?void 0:u.map((function(e,t){return(0,g.jsx)(Se,{item:e,index:t},t)})),isError:c}))},Ne=r(15517),_e=function(e){var t=e.title,r=e.category,n=e.query,i=e.results,a=e.onAddToHistory,s=e.position,o=e.showSeeAll;if(!i)return null;var l=i.items,u=i.totalCount;return l&&0!==l.length?(0,g.jsx)(R.p,{index:s,id:r,total:u||0,title:t,testId:"".concat(r,"-search-entity"),seeAllUri:"spotify:app:search:".concat(encodeURIComponent(n),":").concat(r),showSeeAll:o,children:l.map((function(e,t){return(0,g.jsx)(H.pZ,{value:r,index:t,children:(0,g.jsx)(Ne.Q,{onClick:function(){return a(e)},entity:e,index:t})},e.uri)}))}):null};const Ue="T2yEew5FpZAOv3uHa0NK";var Te=function(e){var t=e.results,r=oe(),n=r.query,i=r.serpId,a=r.onAddToHistory,s=(0,X.RuZ)(n).toURI(),o=(0,Z.r)(Y.w,{data:{uri:s,reason:i}}),l=o.spec,u=o.UBIFragment;return 0===(null==t?void 0:t.podcasts.totalCount)&&0===(null==t?void 0:t.episodes.totalCount)?(0,g.jsx)(u,{spec:l.emptyResultsFactory(),children:(0,g.jsx)(fe,{forChip:ee.j7.podcastAndEpisodes()})}):(0,g.jsx)(u,{spec:l,children:(0,g.jsxs)("div",{className:Ue,children:[0!==(null==t?void 0:t.podcasts.totalCount)&&(0,g.jsx)("div",{children:(0,g.jsx)(_e,{position:0,category:"podcasts",title:ee.j7.podcastAndEpisodes(),query:n,results:null==t?void 0:t.podcasts,onAddToHistory:a})}),0!==(null==t?void 0:t.episodes.totalCount)&&(0,g.jsx)("div",{children:(0,g.jsx)(Ee,{displayEmptyPageOnEmptyResults:!1,displayError:!1})})]})})},qe=r(97500),De=r.n(qe),Fe=r(31120),Be=r(16964),Le=r(42500),Me=(r(24302),r(70750),r(57149),r(49166),r(54075)),Ve=function(e){var t,r=e.query,i=e.category,a=e.pageSize,s=e.includePreReleases,c=oe().api,d=(0,u.jE)(),p=(0,v.NC)(G.Z85),f=(0,l.useMemo)((function(){return["searchCategoryResults",r,{category:i,pageSize:a,includePreReleases:s}]}),[i,s,a,r]),h=(0,Me.q)({queryKey:f,initialPageParam:{offset:0,limit:a},queryFn:(t=(0,n.A)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pageParam,e.next=4,c.getSearchCategoryResults(r,i,!0,s,n.offset,n.limit);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),getNextPageParam:function(e,t){var r;if(!e)return null;var n=null===(r=e.pagingInfo)||void 0===r?void 0:r.nextOffset;if(null===n)return null;var i=a;return void 0!==e.totalCount&&n+i>=e.totalCount&&(i=e.totalCount-n),{offset:n,limit:i}},select:function(e){return e.pages.flatMap((function(e){return e.items}))},gcTime:p>0?6e5:0,staleTime:p>0?3e5:0}),m=h.data,y=h.isError,g=h.isLoading,x=h.fetchNextPage;return(0,l.useEffect)((function(){return function(){p>0&&d.setQueryData(f,(function(e){var t,r;return{pages:null!==(t=null==e?void 0:e.pages.slice(0,p))&&void 0!==t?t:[],pageParams:null!==(r=null==e?void 0:e.pageParams.slice(0,p))&&void 0!==r?r:[]}}))}}),[p,d,f]),{results:m,isLoading:g,isError:y,fetchNextPage:x}},He=r(53877);const We="w7SWsAZah4vovAuFxjgk",Ge="Qmu4FPZCnrDpQ85s4az5";var Ze=function(e){var t=e.displayChips,r=e.category,n=oe(),i=n.query,a=n.serpId,s=n.onAddToHistory,o=(0,Le.er)(),u=o.tryTriggerNextStep,c=o.isOnboardingComplete,d=Ve({query:i,category:r,pageSize:30,includePreReleases:"audiobooks"===r}),p=d.results,v=d.isError,f=d.isLoading,h=d.fetchNextPage,m=(0,l.useCallback)((function(e,t){return(0,g.jsx)(H.pZ,{value:"card",index:t,children:(0,g.jsx)(Be.PC,{cardIndex:t,children:(0,g.jsx)(Ne.Q,{entity:e,onClick:function(){s(e),u(Le.BD.ARTIST_CARD)},testId:"search-category-card-".concat(t),index:t})})},"".concat(e.uri,"-").concat(t))}),[s,u]),y=(0,X.RuZ)(i).toURI(),x=(0,Z.r)(Fe.b,{data:{uri:y,identifier:r,reason:a}}),b=x.spec,j=x.UBIFragment,C=(0,l.useMemo)((function(){return b.cardsFactory()}),[b]),R=(0,l.useMemo)((function(){return b.emptyResultsFactory()}),[b]);return v?(0,g.jsx)(Q.PageErrorTemplate,{}):f||p&&0!==p.length||!c?(0,g.jsx)(j,{spec:C,children:(0,g.jsx)("div",{className:De()(We,(0,$.A)({},Ge,t)),children:p&&(0,g.jsx)(ge._,{onReachBottom:h,triggerOnInitialLoad:!1,children:(0,g.jsx)(He.E,{render:function(){return p.map((function(e,t){return m(e,t)}))}})})})}):(0,g.jsx)(j,{spec:R,children:(0,g.jsx)(fe,{forChip:ee.j7[r]()})})},ze=(r(47994),r(71634)),Ke=(r(34518),r(84850)),Qe=r(59414),$e=r(80553),Ye=r(98788),Xe=r(10903),Je=r(51393),et=r(72963),tt=r(52999),rt=r(77638),nt=r(41065),it=r(30383),at=r(30651),st=r(25751),ot=r(40055),lt=r(75691),ut=r(76783),ct=r(34567),dt=r(80795),pt=r(9685),vt=r(7446),ft=r(72393),ht=r(71049),mt=r(43596),yt=r(70988),gt=r(15190),xt=r(87923),bt=r(22433),jt=r(56805),Ct=r(67515),Rt=r(22453),wt=r(4254),At=r(76599),Pt=l.memo((function(e){var t,r=e.uri,n=e.name,i=e.duration,a=e.artists,s=e.album,o=e.isExplicit,l=e.is19PlusOnly,u=e.isPlayable,c=e.index,d=e.imgUrl,p=e.requestId,v=e.isLyricsMatch,f=e.hasAssociatedVideo,m=(0,Ce.P)({uri:r},{featureIdentifier:"search",referrerIdentifier:"search"}),y=m.isActive,x=m.isPlaying,b=m.triggerPlay,j=m.togglePlay,C=(0,Z.r)(Ke.i,{data:{position:c,reason:null!=p?p:"",uri:r}}).spec,R=(0,Rt.T)(r),w=(0,xt.g)(r,{isPlayable:u,isLocal:!1,isOutOfMarket:!1,artistUris:null==a?void 0:a.map((function(e){return e.uri}))}),A=w.isPlayable,P=w.isAnyArtistBanned,k=(0,mt.M)(a.map((function(e){return e.uri}))).unBanArtists,I=(0,wt.b)({downloadAvailability:R,isExplicit:o,isMOGEFRestricted:l,hasAssociatedVideo:f}),S=I.badges,O=I.hasBadges,E=(null==a?void 0:a.map((function(e){return e.name})).join(h.Ru.getSeparator()))||"",N=(0,gt.c)();return(0,g.jsx)(H.pZ,{value:"row",index:c,children:(0,g.jsx)(Qe.h,{menu:(0,g.jsx)($e.P,{uri:r,albumUri:null==s?void 0:s.uri,artists:a,contextUri:r}),children:(0,g.jsxs)(vt.w,{uri:r,contextUri:r,onTriggerPlay:function(e,t){b({loggingParams:t})},isActive:y,index:c,ariaRowIndex:c+1,isPlayable:A,isAnyArtistBanned:P,handleArtistBanUndoClick:k,ageRestricted:l,dragMetadata:{name:n,createdBy:E},spec:C,children:[(0,g.jsx)(lt.y,{ariaColIndex:0,children:(0,g.jsx)(it.$,{uri:r,playAriaLabel:h.Ru.get("tracklist.a11y.play",n,E),onClick:function(e,t){j({loggingParams:t})},isPlaying:x,isActive:y,spec:C,children:(0,g.jsx)(st.a,{children:c+1})})}),(0,g.jsxs)(ut.U,{ariaColIndex:1,children:[(0,g.jsx)(rt.e,{src:d}),(0,g.jsxs)(nt.l,{children:[(0,g.jsx)(Ye.R,{enabled:N,uri:r,className:At.A.rowTitle,children:(0,g.jsx)(pt.p,{titleText:n,children:n})}),O&&(0,g.jsxs)(et.P,{children:[S.download&&(0,g.jsx)(jt._,{}),S.explicit&&(0,g.jsx)(bt.U,{}),S.nineteen&&(0,g.jsx)(Ct.q,{className:At.A.nineteen,size:16}),S.hasAssociatedVideo&&(0,g.jsx)(ft.l,{})]}),(0,g.jsxs)(dt.p,{children:[(0,g.jsx)(Je.l,{artists:a,spec:C}),v&&(0,g.jsx)(yt.G,{})]})]})]}),(0,g.jsx)(ct.o,{ariaColIndex:2,children:(0,g.jsx)(Xe.g,{uri:(null==s?void 0:s.uri)||"",name:(null==s?void 0:s.name)||"",creatorUri:null==a||null===(t=a[0])||void 0===t?void 0:t.uri,spec:C,children:null==s?void 0:s.name})}),(0,g.jsxs)(ot.l,{ariaColIndex:3,children:[(0,g.jsx)(ht.d,{uri:r,spec:C}),(0,g.jsx)(tt.P,{duration:i.milliseconds}),(0,g.jsx)(at.Y,{menu:(0,g.jsx)($e.P,{uri:r,albumUri:null==s?void 0:s.uri,artists:a,contextUri:r}),label:h.Ru.get("more.label.track",n,E),spec:C})]})]})})})}),(function(e,t){return e.uri===t.uri})),kt=r(97608),It=r(57674),St=r(20087),Ot=r(77309),Et=r(62205),Nt=r(63130);const _t="search-searchCategory-SearchCategory",Ut="search-searchCategory-wrapper",Tt="search-searchCategory-categoryGridItem";var qt=function(e){var t=e.to,r=e.title,n=e.selected,i=e.onClick;return(0,g.jsx)(Nt.N,{replace:!0,to:t,tabIndex:-1,onClick:i,className:Tt,children:(0,g.jsx)(St.v,{selected:n,selectedColorSet:"invertedLight",tabIndex:-1,children:r})})},Dt=function(e){var t=e.searchCategories,r=e.selectedCategory,n=e.displayChips,i=oe().query,a=(0,Z.r)(Ot.q,{}),s=a.spec,o=a.logger;if(!i||!n)return null;var l=encodeURIComponent(i);return(0,g.jsx)("div",{className:_t,children:(0,g.jsx)("div",{className:De()(Ut,"contentSpacing"),children:(0,g.jsxs)(Et.FN,{children:[t.length>0&&(0,g.jsx)(qt,{to:"spotify:app:search:".concat(l),title:h.Ru.get("search.title.all"),selected:void 0===r,onClick:function(){o.logInteraction(s.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:"spotify:app:search:".concat(l)}))}},"all"),t.map((function(e,t){var n,i,a=null!==(n=null===(i=ee.j7[e])||void 0===i?void 0:i.call(ee.j7))&&void 0!==n?n:"";return a||console.warn("Received empty title for category: ",e),(0,g.jsx)(qt,{to:"spotify:app:search:".concat(l,":").concat(e),title:a,selected:r===e,onClick:function(){o.logInteraction(s.chipFactory({identifier:e,position:t+1}).hitUiNavigate({destination:"spotify:app:search:".concat(l,":").concat(e)}))}},e)}))]})})})},Ft=r(16572),Bt=r(98424);const Lt="oahixVvmYv3VD8UxHkpr";var Mt=function(e){var t=e.pageSize;if((void 0===t?100:t)>100)throw new Error("PathFinder does not support page sizes > ".concat(100));var r=oe(),n=r.query,i=r.serpId,a=Ve({query:n,category:"tracks",pageSize:20,includePreReleases:!1}),s=a.results,o=a.isError,u=a.isLoading,c=a.fetchNextPage,d=(0,l.useCallback)((function(e,t){var r,n=(0,Bt.g)(null===(r=e.album)||void 0===r?void 0:r.images,{desiredSize:40});return(0,g.jsx)(Pt,{index:t,uri:(0,Ft.a)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:e.isPlayable,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:(null==n?void 0:n.url)||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo},t+e.uri)}),[]),p=(0,l.useMemo)((function(){return[It.$.INDEX,It.$.TITLE_AND_ARTIST,It.$.ALBUM,It.$.DURATION]}),[]),v=(0,l.useCallback)((function(e){return{uri:e.uri}}),[]),f=(0,X.RuZ)(n).toURI(),m=(0,Z.r)(ze.t,{data:{uri:f,reason:i}}),y=m.spec,x=m.UBIFragment,b=(0,l.useMemo)((function(){return y.tracksFactory()}),[y]),j=h.Ru.get("search.showing-category-query-songs",n);return o?(0,g.jsx)(Q.PageErrorTemplate,{}):u||s&&0!==s.length?(0,g.jsx)(x,{spec:b,children:(0,g.jsx)(H.pZ,{value:"search-results-tracklist",children:(0,g.jsx)("div",{className:Lt,children:s&&(0,g.jsx)(ge._,{triggerOnInitialLoad:!1,onReachBottom:c,children:(0,g.jsx)(kt.S4,{ariaLabel:j,hasHeaderRow:!0,columns:p,renderRow:d,resolveItem:v,nrTracks:s.length,headerTop:48,tracks:s,columnPersistenceKey:"search-results-tracklist"},n)})})})}):(0,g.jsx)(x,{spec:y.emptyResultsFactory(),children:(0,g.jsx)(fe,{forChip:ee.j7.podcastAndEpisodes()})})},Vt=function(e){var t=e.results,r=e.displayChips,n=oe().category;return n?"podcastAndEpisodes"===n?(0,g.jsx)(Te,{results:t}):"tracks"===n?(0,g.jsx)(Mt,{}):"episodes"===n?(0,g.jsx)(Ee,{enableInfiniteScroll:!0,showTitle:!1}):(0,g.jsx)(Ze,{displayChips:r,category:n}):(0,g.jsx)(Q.PageErrorTemplate,{})},Ht=r(6029),Wt=r(6558),Gt=r(98760),Zt=r(91208),zt=(r(56922),r(93240)),Kt=r(55347),Qt=r(34064),$t=r(84701),Yt=r(33483),Xt=r(48516),Jt=r(1131),er=r(67124);const tr="MdWVOTFflb7OayRjn9pZ",rr="N7Ng_kgcjiOOGs7Y48l9",nr="_4tnwlIafghEfbtatHyO",ir="xgdE_xwOB8XLCxHOdp_I",ar="YQfV97NZUj3G9JJwAiuY";var sr=function(e,t){return e(Yt.d,{concertUri:t})},or=function(e,t){return e(Xt.$,{concertUri:t})},lr=function(e){var t,r=(0,l.useState)(!1),i=(0,a.A)(r,2),s=i[0],u=i[1],c=(0,l.useState)(e.saved),d=(0,a.A)(c,2),p=d[0],v=d[1],f=null!==(t=e.deps)&&void 0!==t?t:{},m=f.unsaveConcertFn,y=void 0===m?or:m,x=f.saveConcertFn,b=void 0===x?sr:x,j=f.enqueueSnackbarFn,C=void 0===j?zt.M8:j,R=(0,(0,Jt.mv)().getGraphQLLoader)(),w=(0,er.V)(),A=(0,X.o_h)(e.uri);if(!A)return null;var P=function(){var t=(0,n.A)(o().mark((function t(r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),r.stopPropagation(),!s){t.next=4;break}return t.abrupt("return");case 4:if(u(!0),t.prev=5,!p){t.next=13;break}return t.next=9,y(R,e.uri);case 9:C(h.Ru.get("concerts_removed-from-your-saved-events")),v(!1),t.next=18;break;case 13:return e.onClickInterested&&e.onClickInterested(),t.next=16,b(R,e.uri);case 16:C(h.Ru.get("concerts_added-to-your-saved-events")),v(!0);case 18:return t.prev=18,u(!1),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[5,,18,21]])})));return function(e){return t.apply(this,arguments)}}(),k=p?Kt.k:Qt.P,I=p?"textPositive":void 0;return(0,g.jsx)(te.N_,{to:"/".concat(A.toURLPath()),onClick:e.onClick,className:ir,children:(0,g.jsxs)("div",{className:tr,children:[(0,g.jsxs)("div",{className:rr,children:[(0,g.jsxs)("div",{className:nr,children:[(0,g.jsx)(re.E,{as:"div",variant:"marginal",children:e.date.month}),(0,g.jsx)(re.E,{as:"div",variant:"bodySmallBold",children:e.date.day})]}),(0,g.jsxs)("div",{className:ar,children:[(0,g.jsx)(re.E,{children:e.title}),(0,g.jsx)(re.E,{semanticColor:"textSubdued",variant:"bodySmall",children:e.subtitle})]})]}),!w&&(0,g.jsx)($t.H,{semanticColor:I,iconOnly:k,"aria-label":h.Ru.get("concerts_interested_tooltip"),onClick:P})]})})},ur=r(55602);const cr="mh7QL6adD4FIJhD5Exb9",dr="FgawEObrsLOnHPzhrl5a",pr="PrDOhMH2lS5D8mMwbmF1",vr="hd4Hw4T7wuHZluBSTMZc";var fr=function(e){var t=(0,X.o_h)(e.uri);return t?(0,g.jsx)(te.N_,{to:"/artist/".concat(t.id,"/concerts"),onClick:e.onClick,className:vr,children:(0,g.jsxs)("div",{className:cr,children:[(0,g.jsx)("div",{className:dr,children:(0,g.jsx)(ur.T,{className:pr})}),e.children]})}):null};const hr="XZWs6fKwvH8afOAX9oRk",mr="xZzauCAsVPuDnvFjEnl5",yr="UDNDdAPalgpoNPaKmACx",gr="yKnPM8up5atlbSBdRXVv",xr="ifJugrlP5ysjVmb2s4v3",br="NsXrW_ZuSRESU0URaCER";function jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(r),!0).forEach((function(t){(0,$.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Rr=function(e){var t=e.uri,r=e.date,n=e.title,i=e.subtitle,a=e.saved,s=(0,Z.r)(Gt.S,{data:{uri:t}}).spec,o=(0,Re.s)(),u=(0,ue.t)(s),c=new Date(r),d=h.Ru.formatDate(c,{weekday:"short"}),p=h.Ru.formatDate(c,{hour:"numeric",minute:"numeric"}),v=h.Ru.formatDate(c,{day:"numeric"}),f=h.Ru.formatDate(c,{month:"short"}),m=(0,l.useMemo)((function(){return s.localConcertFactory({uri:t})}),[t,s]),y=(0,l.useMemo)((function(){return s.interestedButtonFactory({uri:t})}),[t,s]);return(0,g.jsx)("div",{ref:u,children:(0,g.jsx)(lr,{uri:t,title:n,saved:a,subtitle:h.Ru.get("search.concert.event",d,p,i),date:{day:v,month:f},onClick:function(){o.logInteraction(m.hitUiNavigate({destination:t}))},onClickInterested:function(){o.logInteraction(y.hitUiSelect())}})})},wr=function(e){var t=e.artistUri,r=(0,Z.r)(Zt._,{data:{uri:null!=t?t:""}}).spec,n=(0,Re.s)(),i=(0,ue.t)(r),a=(0,l.useMemo)((function(){return r.onTourShelfFactory({uri:null!=t?t:""})}),[t,r]);return(0,g.jsx)("div",{ref:i,children:(0,g.jsx)(fr,{uri:null!=t?t:"",onClick:function(){n.logInteraction(a.hitUiNavigate({destination:"".concat(t,":concerts")}))},children:h.Ru.get("search.concerts.see-all")})})},Ar=function(e){var t=e.artistUri,r=e.concert;return(0,g.jsxs)("section",{className:De()(xr),children:[(0,g.jsx)("div",{className:hr,children:(0,g.jsx)("div",{className:mr,children:(0,g.jsx)("div",{className:yr,children:(0,g.jsx)(re.E,{as:"h2",variant:"titleSmall",className:gr,children:h.Ru.get("search.title.concerts")})})})}),(0,g.jsx)("div",{className:br,children:r?(0,g.jsx)(Rr,Cr({},r)):(0,g.jsx)(wr,{artistUri:t})})]})},Pr=r(46278),kr=r(29083),Ir=r(96099),Sr=r(35489),Or=l.memo((function(e){var t=e.uri,r=e.name,n=e.duration,i=e.album,a=e.artists,s=e.index,o=e.imgUrl,l=e.isPlayable,u=e.isExplicit,c=e.is19PlusOnly,d=e.requestId,p=e.isLyricsMatch,f=e.hasAssociatedVideo,m=(0,Ce.P)({uri:t},{featureIdentifier:"search",referrerIdentifier:"search"}),y=m.isActive,x=m.isPlaying,b=m.triggerPlay,j=m.togglePlay,C=(0,v.NC)(Sr.QT),R=(0,Z.r)(Ke.i,{data:{position:s,reason:null!=d?d:"",uri:t}}).spec,w=(0,Rt.T)(t),A=(0,xt.g)(t,{isPlayable:l,isLocal:!1,isOutOfMarket:!1,artistUris:null==a?void 0:a.map((function(e){return e.uri}))}),P=A.isPlayable,k=A.isAnyArtistBanned,I=(0,mt.M)(a.map((function(e){return e.uri}))).unBanArtists,S=(0,wt.b)({downloadAvailability:w,isExplicit:u,isMOGEFRestricted:c,hasAssociatedVideo:f}),O=S.badges,E=S.hasBadges,N=(a||[]).map((function(e){return e.name})).join(h.Ru.getSeparator()),_=(0,gt.c)(),U=(0,ue.t)(R);return(0,g.jsx)(H.pZ,{value:"row",index:s,children:(0,g.jsx)("div",{ref:C?U:void 0,children:(0,g.jsx)(Qe.h,{menu:(0,g.jsx)($e.P,{uri:t,artists:a,contextUri:t,albumUri:null==i?void 0:i.uri}),children:(0,g.jsxs)(vt.w,{uri:t,contextUri:t,index:s,ariaRowIndex:s,onTriggerPlay:function(e,t){b({loggingParams:t})},isActive:y,isPlayable:P,isAnyArtistBanned:k,handleArtistBanUndoClick:I,ageRestricted:c,dragMetadata:{name:r,createdBy:N},spec:R,children:[(0,g.jsxs)(ut.U,{ariaColIndex:0,children:[(0,g.jsx)(Ir.u,{uri:t,src:o,onClick:function(e,t){j({loggingParams:t})},isLocked:!1,isPlaying:x,isActive:y,playAriaLabel:h.Ru.get("tracklist.a11y.play",r,N),spec:R}),(0,g.jsxs)(nt.l,{children:[(0,g.jsx)(Ye.R,{enabled:_,uri:t,className:At.A.rowTitle,children:(0,g.jsx)(pt.p,{titleText:r,children:r})}),E&&(0,g.jsxs)(et.P,{children:[O.download&&(0,g.jsx)(jt._,{}),O.explicit&&(0,g.jsx)(bt.U,{}),O.nineteen&&(0,g.jsx)(Ct.q,{className:At.A.nineteen,size:16}),O.hasAssociatedVideo&&(0,g.jsx)(ft.l,{})]}),(0,g.jsxs)(dt.p,{children:[(0,g.jsx)(Je.l,{artists:a,spec:R}),p&&(0,g.jsx)(yt.G,{})]})]})]}),(0,g.jsxs)(ot.l,{ariaColIndex:1,children:[(0,g.jsx)(ht.d,{uri:t,spec:R}),(0,g.jsx)(tt.P,{duration:n.milliseconds}),(0,g.jsx)(at.Y,{menu:(0,g.jsx)($e.P,{uri:t,artists:a,contextUri:t,albumUri:null==i?void 0:i.uri}),label:h.Ru.get("more.label.track",r,N),spec:R})]})]})})})})}),(function(e,t){return e.uri===t.uri&&e.index===t.index})),Er=l.memo((function(e){var t=e.tracks,r=e.query,n=(0,v.NC)(G.LX5),i=(0,l.useCallback)((function(e,t){var r,i=(0,Bt.g)(null===(r=e.album)||void 0===r?void 0:r.images,{desiredSize:40});return(0,g.jsx)(Or,{uri:(0,Ft.a)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:e.isPlayable,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:t,imgUrl:(null==i?void 0:i.url)||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo&&n},e.uri)}),[n]),a=(0,l.useMemo)((function(){return[It.$.TITLE_AND_ARTIST,It.$.DURATION]}),[]),s=(0,l.useCallback)((function(e){return{uri:e.uri}}),[]);return t&&(0,g.jsx)(H.pZ,{value:"search-results-tracklist",children:(0,g.jsx)(kt.S4,{ariaLabel:h.Ru.get("search.a11y.songs-search-results"),renderRow:i,rowPlaceholder:kr.qq,nrTracks:Math.min(t.length,4),tracks:t,resolveItem:s,columns:a},r)})}),(function(e,t){return e.tracks===t.tracks}));const Nr="qTGjBrDb0ehi3T31ixUg",_r="UypXfD8vtkwoy6Hvjxh6",Ur="k1hAaTegqCFmfemVkI4k",Tr="hkyAoNduIpi1yzoJT7Yg",qr="sQqi2VrhnxcFciXdvgjL",Dr="ib6ClWIXW5DmWXaC0W08",Fr="nTbpvWKW0gZOhU4sejUH";var Br=function(e){var t=e.tracks,r=e.query,n=e.className,i=e.showSeeAll,a=void 0===i||i,s=e.spec,o=(0,Re.s)(),u=(0,l.useCallback)((function(){return(0,g.jsx)("div",{className:Fr,children:(0,g.jsx)(l.Suspense,{fallback:null,children:(0,g.jsx)(Er,{tracks:t.items,query:r})})})}),[r,t]),c="spotify:app:search:".concat(encodeURIComponent(r),":tracks"),d=(0,l.useCallback)((function(){var e=s.headerFactory().titleFactory().hitUiNavigate({destination:c});o.logInteraction(e)}),[o,s,c]),p=(0,l.useCallback)((function(){var e=s.headerFactory().seeAllFactory().hitUiNavigate({destination:c});o.logInteraction(e)}),[o,s,c]);return t.items.length?(0,g.jsxs)("section",{className:De()(Dr,n),"aria-label":h.Ru.get("search.title.tracks"),"data-testid":"search-tracks-result",children:[(0,g.jsx)("div",{className:Nr,children:t.items.length>3?(0,g.jsxs)("div",{className:De()(_r,Ur),children:[(0,g.jsx)("div",{className:Tr,children:(0,g.jsx)(re.E,{as:"h2",variant:"titleSmall",children:a?(0,g.jsx)(Nt.N,{to:c,className:qr,onClick:d,children:h.Ru.get("search.title.tracks")}):(0,g.jsx)("span",{className:qr,children:h.Ru.get("search.title.tracks")})})}),a&&(0,g.jsx)(Pr.h,{link:c,onClick:p})]}):(0,g.jsx)(re.E,{as:"h2",variant:"titleSmall",className:qr,children:h.Ru.get("search.title.tracks")})}),(0,g.jsx)(D.r,{spec:s,children:(0,g.jsx)(He.E,{render:u})})]}):null},Lr=function(e){var t=e.topRecommendations,r=e.query,n=e.className,i=e.onAddToHistory,a=e.position,s=e.showSeeAll,o=t.totalCount||0;return(0,g.jsx)(R.p,{index:a,id:"top-recommendations",className:n,total:o,title:h.Ru.get("artist-page.featuring",t.artistName),seeAllUri:"spotify:app:search:".concat(encodeURIComponent(r),":topRecommendations"),showSeeAll:s,children:t.items.map((function(e,t){return(0,g.jsx)(H.pZ,{index:t,value:"top-recommendations",children:(0,g.jsx)(Ne.Q,{onClick:function(){return i(e)},entity:e,index:t})},e.uri)}))})},Mr=r(1324);const Vr="vKsgiy0W3aHYmZUlwHoQ",Hr="w2O3N2xilgVcd4ep6cQL",Wr="T2cpdJTvNpOFPvN4WJM4",Gr="u372KlVrkMz1ZpJ89LMG",Zr="DIYNtp69Gd1l3eaBT3Bg",zr="cXdpTaiu9PEfynRcDKrU",Kr="yZ3EPSfU0nkNoCu19iPL",Qr="OtEFcRGkMfUXBZC2HF5M";var $r=function(e){var t=e.topResults,r=e.onAddToHistory,n=(0,a.A)(t.items,1)[0];return n&&(0,g.jsx)(Mr.$,{total:1,className:Vr,title:h.Ru.get("search.title.top-result"),withEncoreCards:!1,children:[(0,g.jsx)("div",{"aria-live":"polite","data-testid":"top-result-card",className:Hr,children:(0,g.jsx)(H.pZ,{value:"top-result-card",children:(0,g.jsx)(Ne.Q,{isHero:!0,index:0,onClick:function(){return r(n)},entity:n})})},"top-result-item")]})},Yr=r(97579),Xr=function(e){return(null==e?void 0:e.type)===Yr.c.ARTIST},Jr=function(e){var t,r,n=e.results,i=oe(),s=i.query,o=i.onAddToHistory,u=i.serpId,c=(0,X.RuZ)(s).toURI(),d=(0,Z.r)(Wt.P,{data:{uri:c,reason:u}}),p=d.spec,v=d.UBIFragment,f=n.topResults.items.length>0,h=n.tracks.items.length>0,m=n.topRecommendations.items.length>0,y=null!==(t=n.topResults.items)&&void 0!==t?t:[],x=(0,a.A)(y,1)[0],b=Xr(x)?function(e){var t,r=null!=e?e:[],n=(0,a.A)(r,1)[0];if(n&&"uri"in(null!=(t=n.data)?t:{}))return{uri:n.data.uri,date:n.data.startDateIsoString,title:n.data.location.city,subtitle:n.data.location.name,saved:n.data.saved}}(null===(r=x.localConcerts)||void 0===r?void 0:r.items):void 0,j=Xr(x)&&(x.hasConcerts||!!b),C=(0,l.useMemo)((function(){return{topResult:p.topResultFactory(),trackList:p.trackListFactory(),shelves:p.shelvesFactory()}}),[p]);return(0,g.jsx)(He.E,{className:Wr,rowGap:Ht.WG,colGap:Ht.CJ,testId:"search-results",render:function(e){var t,r,i=e.columnCount;return f?t=i>3?Zr:zr:m&&(i>5&&h?(t=Gr,r=Kr):(t=zr,r=Qr)),(0,g.jsxs)(H.pZ,{value:"search-results",children:[f&&(0,g.jsx)(v,{spec:C.topResult,children:(0,g.jsx)($r,{topResults:n.topResults,onAddToHistory:o})}),(0,g.jsxs)("section",{className:t,children:[j&&(0,g.jsx)(Ar,{artistUri:x.uri,concert:b}),h&&(0,g.jsx)(Br,{spec:C.trackList,query:s,tracks:j?{totalCount:3,items:n.tracks.items.slice(0,3)}:n.tracks,onAddToHistory:o,showSeeAll:!1})]}),m&&(0,g.jsx)(v,{spec:C.shelves,children:(0,g.jsx)(Lr,{position:0,query:s,className:r,topRecommendations:n.topRecommendations,onAddToHistory:o,showSeeAll:!1})}),ee.ud.map((function(e,t){return(0,g.jsx)(v,{spec:C.shelves,children:(0,g.jsx)(_e,{position:t+1,category:e,title:ee.j7[e](),query:s,results:n[e],onAddToHistory:o,showSeeAll:!1})},"search-shelf-".concat(e))}))]})}})},en=function(e){var t=e.results,r=e.hasResults,n=oe(),i=n.query,a=n.serpId,s=(0,X.RuZ)(i).toURI(),o=!(0,le.n)(),l=(0,Z.r)(Wt.P,{data:{uri:s,reason:a}}),u=l.spec,c=l.UBIFragment;return o?(0,g.jsx)(fe,{}):t?t&&!r?(0,g.jsx)(c,{spec:u.emptyResultsFactory(),children:(0,g.jsx)(fe,{})}):(0,g.jsx)(Jr,{results:t}):null},tn=r(63318),rn=r(65968),nn=new E.l("searchDesktop","query","2ae11a661a59c58695ad9b8bd6605dce6e3876f900555e21543c19f7a0a0ea6a",null);r(76588);function an(e){return e.map((function(e){return e.url?{url:e.url,width:Number(e.width)||56,height:Number(e.height)||56}:e}))}var sn=r(37813),on=r(75049),ln=r(13047);function un(e,t){var r,n,i;if("PreRelease"!==(null===(r=e.data)||void 0===r?void 0:r.__typename))return null;var a=e.data.preReleaseContent;if(!a)return null;var s=(0,on.mp)(e.data.releaseDate),o=a.artists.items.map((function(e){return"Artist"===e.data.__typename?{type:Yr.c.ARTIST,name:e.data.profile.name,uri:e.data.uri}:null})).filter(ln.P);return{type:Yr.c.PRE_RELEASE_ALBUM,name:a.name||"",uri:e.data.uri,images:an((null===(n=a.coverArt)||void 0===n?void 0:n.sources)||[]),release:s,releaseTimezone:e.data.timezone,artists:o,color:(0,sn.m)(null===(i=a.coverArt)||void 0===i?void 0:i.extractedColors),requestId:t}}var cn=r(70525);function dn(e,t){return{items:((null==e?void 0:e.items)||[]).map((function(e){var r=e.__typename;switch(r){case"AlbumResponseWrapper":return vn(e,t);case"PreReleaseResponseWrapper":return un(e,t);case"UnknownTypeWrapper":return null;default:return(0,k.k)(r),null}})).filter(ln.P),totalCount:(null==e?void 0:e.totalCount)||0}}var pn=function(e){switch(e){case cn._m.Album:return"ALBUM";case cn._m.Compilation:return"COMPILATION";case cn._m.Single:return"SINGLE";case cn._m.Ep:return"EP";case cn._m.Audiobook:return"AUDIOBOOK";case cn._m.Podcast:return"PODCAST";case cn._m.Unknown:return"UNKNOWN";default:return(0,k.k)(e),"UNKNOWN"}};function vn(e,t){var r,n,i;if("Album"!==e.data.__typename)return null;var a=e.data;return{type:Yr.c.ALBUM,name:a.name,uri:a.uri,images:an((null===(r=a.coverArt)||void 0===r?void 0:r.sources)||[]),artists:a.artists.items.map((function(e){return{type:Yr.c.ARTIST,name:e.profile.name,uri:e.uri}})),year:null===(n=a.date)||void 0===n?void 0:n.year,requestId:t,color:(0,sn.m)(null===(i=e.data.coverArt)||void 0===i?void 0:i.extractedColors),isPlayable:e.data.playability.playable,playabilityReason:e.data.playability.reason,albumType:pn(e.data.type)}}var fn=new E.l("searchAlbums","query","a71d2c993fc98e1c880093738a55a38b57e69cc4ce5a8c113e6c5920f9513ee2",null),hn=r(13707),mn=function(e,t){var r="object"===(0,hn.A)(null==e?void 0:e.requestIds)?null==e?void 0:e.requestIds:void 0,n=null==r?void 0:r[t],i="object"===(0,hn.A)(n)?n:void 0;return"string"==typeof(null==i?void 0:i["search-api"])?null==i?void 0:i["search-api"]:void 0},yn=function(e){return mn(e,"/searchV2")},gn=function(e){return mn(e,"/searchV2/topResultsV2")};function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(r),!0).forEach((function(t){(0,$.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var jn=function(e,t){return bn(bn({},e),{},{pagingInfo:t})};function Cn(e,t){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,n.A)(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(fn,r);case 2:if(i=e.sent,a=null==i||null===(n=i.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.albumsV2){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",jn(dn(a,yn(null==i?void 0:i.extensions)),a.pagingInfo));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wn(e,t){return{items:An((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function An(e,t){return e.map((function(e){return Pn(e,t)})).filter(ln.P)}function Pn(e,t){var r,n,i,a;if("Artist"!==(null===(r=e.data)||void 0===r?void 0:r.__typename))return null;var s=e.data;return{type:Yr.c.ARTIST,name:s.profile.name,images:an((null===(n=s.visuals)||void 0===n||null===(n=n.avatarImage)||void 0===n?void 0:n.sources)||[]),uri:s.uri,verified:s.profile.verified||!1,requestId:t,hasConcerts:null!==(i=s.hasConcerts)&&void 0!==i&&i,localConcerts:s.localConcerts,color:(0,sn.m)(null===(a=s.visuals.avatarImage)||void 0===a?void 0:a.extractedColors)}}var kn=new E.l("searchArtists","query","0e6f9020a66fe15b93b3bb5c7e6484d1d8cb3775963996eaede72bac4d97e909",null);function In(e,t){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,n.A)(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(kn,r);case 2:if(i=e.sent,a=null==i||null===(n=i.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.artists){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",jn(wn(a,yn(null==i?void 0:i.extensions)),a.pagingInfo));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function On(e,t){return{items:En((null==e?void 0:e.items)||[],t),totalCount:null==e?void 0:e.totalCount}}function En(e,t){return e.map((function(e){return Nn(e,t)})).filter(ln.P)}function Nn(e,t){var r,n,i,a,s,o,l,u;if("Audiobook"!==(null===(r=e.data)||void 0===r?void 0:r.__typename))return null;var c=e.data,d=null;return c.isPreRelease&&c.preReleaseEndDateTime?d=new Date(null===(n=c.preReleaseEndDateTime)||void 0===n?void 0:n.isoString):c.publishDate&&(d=new Date(c.publishDate.isoString)),{type:Yr.c.AUDIOBOOK,uri:c.uri,name:c.name,images:an((null===(i=c.coverArt)||void 0===i?void 0:i.sources)||[]),authorName:null!==(a=null===(s=c.authors)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.name)&&void 0!==a?a:"",topics:c.topics.items||[],publishDate:d,requestId:t,color:(0,sn.m)(null===(o=c.coverArt)||void 0===o?void 0:o.extractedColors),signifierText:null!==(l=null===(u=c.accessInfo)||void 0===u||null===(u=u.signifier)||void 0===u?void 0:u.text)&&void 0!==l?l:void 0,isPreRelease:!!c.isPreRelease}}var _n=new E.l("searchAudiobooks","query","82ec16373818a73b4d7323c076e4f5d550ec3b0e5e2650d4715ca011dfa775fe",null);function Un(e,t){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,n.A)(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(_n,r);case 2:if(i=e.sent,a=null==i||null===(n=i.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.audiobooks){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",jn(On(a,yn(null==i?void 0:i.extensions)),a.pagingInfo));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r(14551);var qn=r(10935),Dn=r(71757),Fn=r(6741),Bn={type:Yr.c.SHOW,uri:"",name:"",publisher:"",images:[],mediaType:Fn.Q.UNKNOWN};function Ln(e,t){return{items:Mn((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function Mn(e,t){return e.map((function(e){return Vn(e,t)})).filter(ln.P)}function Vn(e,t){var r,n,i,a,s,o;if("Episode"!==(null===(r=e.data)||void 0===r?void 0:r.__typename))return null;var l,u,c=e.data,d=c.podcastV2.data,p=Bn;"Podcast"===d.__typename&&(p={type:Yr.c.SHOW,uri:d.uri,name:d.name,publisher:(null===(l=d.publisher)||void 0===l?void 0:l.name)||"",mediaType:(0,Dn.w)(d.mediaType),images:an((null===(u=d.coverArt)||void 0===u?void 0:u.sources)||[])});return{type:Yr.c.EPISODE,name:c.name,images:an((null===(n=c.coverArt)||void 0===n?void 0:n.sources)||[]),uri:c.uri,duration:{milliseconds:c.duration.totalMilliseconds},isExplicit:(null===(i=c.contentRating)||void 0===i?void 0:i.label)===cn.x7.Explicit,release:(0,on.mp)(c.releaseDate),description:c.description||"",playedState:(0,qn.fS)(c.duration,c.playedState),is19PlusOnly:(null===(a=c.contentRating)||void 0===a?void 0:a.label)===cn.x7.NineteenPlus,show:p,requestId:t,color:(0,sn.m)(null===(s=c.coverArt)||void 0===s?void 0:s.extractedColors),mediaType:null!==(o=c.mediaTypes)&&void 0!==o?o:[],podcastSubscription:(0,qn.Wx)(c.restrictions,c.playability)}}var Hn=new E.l("searchEpisodes","query","c8d1a209b4964bb200a32d15eb8beea2f41e9abfef46f4a78cded233a98ca530",null);function Wn(e,t){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,n.A)(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Hn,r);case 2:if(i=e.sent,a=null==i||null===(n=i.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.episodes){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",jn(Ln(a,yn(null==i?void 0:i.extensions)),a.pagingInfo));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zn=new E.l("searchFullEpisodes","query","a2f7554362511837a672da888f91dc109bc82c2c99aad7457f4215887e18ae94",null),zn=r(79405);function Kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(r),!0).forEach((function(t){(0,$.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $n=Qn(Qn({},Bn),{},{description:"",htmlDescription:"",coverArt:[],trailer:null,topics:[],podcastType:"UNKNOWN",showTypes:[],publisherName:"",consumptionOrder:"recent",nextBestEpisode:void 0,gatedContentAccessReason:void 0,isLocked:!1});function Yn(e,t){return{items:Xn((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function Xn(e,t){return e.map((function(e){return function(e,t){var r;if("Episode"!==(null===(r=e.data)||void 0===r?void 0:r.__typename))return null;var n=$n;"Podcast"===e.data.podcastV2.data.__typename&&(n=(0,zn._v)(e.data.podcastV2.data));return{requestId:t,episode:(0,zn.S)(e.data),show:n}}(e,t)})).filter(ln.P)}function Jn(e,t){return ei.apply(this,arguments)}function ei(){return(ei=(0,n.A)(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Zn,r);case 2:if(i=e.sent,a=null==i||null===(n=i.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.episodes){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",Yn(a,yn(null==i?void 0:i.extensions)));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ti(e,t){return{items:ri((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function ri(e,t){return e.map((function(e){return ni(e,t)})).filter(ln.P)}function ni(e,t){var r,n,i;if("Genre"!==(null===(r=e.data)||void 0===r?void 0:r.__typename))return null;var a=e.data,s=(0,X.o_h)(a.uri);return{type:Yr.c.GENRE,name:a.name,uri:s?a.uri:"spotify:genre:".concat(a.uri),images:an((null===(n=a.image)||void 0===n?void 0:n.sources)||[]),requestId:t,color:(0,sn.m)(null===(i=a.image)||void 0===i?void 0:i.extractedColors)}}var ii=new E.l("searchGenres","query","9e1c0e056c46239dd1956ea915b988913c87c04ce3dadccdb537774490266f46",null);function ai(e,t){return si.apply(this,arguments)}function si(){return(si=(0,n.A)(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(ii,r);case 2:if(i=e.sent,a=null==i||null===(n=i.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.genres){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",jn(ti(a,yn(null==i?void 0:i.extensions)),a.pagingInfo));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r(38408),r(80456);var oi={type:Yr.c.USER,uri:"",displayName:"",username:"",images:[]};function li(e,t){return{items:ui((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function ui(e,t){return e.map((function(e){return ci(e,t)})).filter(ln.P)}function ci(e,t){var r,n,i,a,s,o;if("Playlist"!==(null===(r=e.data)||void 0===r?void 0:r.__typename))return null;var l,u=e.data,c=oi;if("User"===(null===(n=u.ownerV2)||void 0===n?void 0:n.data.__typename)){var d,p,v=null===(d=u.ownerV2)||void 0===d?void 0:d.data;c={type:Yr.c.USER,uri:v.uri||"",displayName:v.name||"",username:v.username||"",images:an((null===(p=v.avatar)||void 0===p?void 0:p.sources)||[])}}return{type:Yr.c.PLAYLIST,uri:u.uri,name:u.name,images:an((null===(i=u.images)||void 0===i?void 0:i.items.flatMap((function(e){return e.sources})))||[]),owner:c,requestId:t,formatListData:{type:null!==(a=u.format)&&void 0!==a?a:"",attributes:(l=null!==(s=u.attributes)&&void 0!==s?s:[],l.reduce((function(e,t){return e[t.key]=t.value,e}),{}))},color:(0,sn.m)(null===(o=u.images.items[0])||void 0===o?void 0:o.extractedColors)}}var di=new E.l("searchPlaylists","query","fc3a690182167dbad20ac7a03f842b97be4e9737710600874cb903f30112ad58",null);function pi(e,t){return vi.apply(this,arguments)}function vi(){return(vi=(0,n.A)(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(di,r);case 2:if(i=e.sent,a=null==i||null===(n=i.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.playlists){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",jn(li(a,yn(null==i?void 0:i.extensions)),a.pagingInfo));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fi(e,t){return{items:hi((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function hi(e,t){return e.map((function(e){return mi(e,t)})).filter(ln.P)}function mi(e,t){var r,n,i,a;if("Podcast"!==(null===(r=e.data)||void 0===r?void 0:r.__typename))return null;var s=e.data;return{type:Yr.c.SHOW,uri:s.uri,name:s.name,images:an((null===(n=s.coverArt)||void 0===n?void 0:n.sources)||[]),publisher:(null===(i=s.publisher)||void 0===i?void 0:i.name)||"",topics:s.topics.items||[],requestId:t,color:(0,sn.m)(null===(a=s.coverArt)||void 0===a?void 0:a.extractedColors)}}var yi=new E.l("searchPodcasts","query","cbd33edc7a612454640d753caff6fb1074a7868843612d257dcef5e71e837dd9",null);function gi(e,t){return xi.apply(this,arguments)}function xi(){return(xi=(0,n.A)(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(yi,r);case 2:if(i=e.sent,a=null==i||null===(n=i.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.podcasts){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",jn(fi(a,yn(null==i?void 0:i.extensions)),a.pagingInfo));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r(78551),r(82467);function bi(e,t){return{items:ji(e,t),totalCount:(null==e?void 0:e.totalCount)||0}}function ji(e,t){return(null==e?void 0:e.items.map((function(e){return Ci(e.item,e.matchedFields,t)})).filter(ln.P))||[]}function Ci(e,t,r){var n,i,a,s,o;if("Track"!==(null===(n=e.data)||void 0===n?void 0:n.__typename))return null;var l=e.data,u=l.albumOfTrack,c=!!l.associations&&l.associations.associatedVideos.totalCount>0;return{type:Yr.c.TRACK,uri:l.uri,name:l.name,isPlayable:l.playability.playable,album:{type:Yr.c.ALBUM,uri:(null==u?void 0:u.uri)||"",name:(null==u?void 0:u.name)||"",images:an((null==u||null===(i=u.coverArt)||void 0===i?void 0:i.sources)||[])},artists:l.artists.items.map((function(e){return{type:Yr.c.ARTIST,name:e.profile.name,uri:e.uri}})),duration:{milliseconds:l.duration.totalMilliseconds},hasAssociatedVideo:c,isExplicit:"EXPLICIT"===(null===(a=l.contentRating)||void 0===a?void 0:a.label),is19PlusOnly:"NINETEEN_PLUS"===(null===(s=l.contentRating)||void 0===s?void 0:s.label),requestId:r,isLyricsMatch:!(null==t||!t.includes(cn.tC.Lyrics)||null!=t&&t.includes(cn.tC.Name)),color:(0,sn.m)(null==u||null===(o=u.coverArt)||void 0===o?void 0:o.extractedColors)}}function Ri(e,t){return{items:wi((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function wi(e,t){return e.map((function(e){return Ai(e,t)})).filter(ln.P)}function Ai(e,t){var r,n,i,a;if("User"!==(null===(r=e.data)||void 0===r?void 0:r.__typename))return null;var s=e.data;return{type:Yr.c.USER,uri:s.uri,name:s.displayName||s.username,images:an(null!==(n=null===(i=s.avatar)||void 0===i?void 0:i.sources)&&void 0!==n?n:[]),requestId:t,color:(0,sn.m)(null===(a=s.avatar)||void 0===a?void 0:a.extractedColors)}}var Pi=r(88225);function ki(e,t){var r,n=null!==(r=null==e?void 0:e.itemsV2)&&void 0!==r?r:[],i=n.map((function(e){var r=e.item,n=e.matchedFields,i=r.__typename;switch(i){case"AlbumResponseWrapper":return vn(r,t);case"ArtistResponseWrapper":return Pn(r,t);case"AudiobookResponseWrapper":return Nn(r,t);case"EpisodeResponseWrapper":return Vn(r,t);case"GenreResponseWrapper":return ni(r,t);case"PlaylistResponseWrapper":return ci(r,t);case"PodcastResponseWrapper":return mi(r,t);case"TrackResponseWrapper":return Ci(r,n,t);case"UserResponseWrapper":return Ai(r,t);case"PreReleaseResponseWrapper":return un(r,t);case"UnknownTypeWrapper":return null;default:return(0,k.k)(i),null}})).filter(ln.P);return{totalCount:n.length,items:i}}function Ii(e,t){var r=(null==e?void 0:e.featured)||[];return{artistName:r.length?Si(e):"",items:(null==r?void 0:r.map((function(e){return ci(e,t)})).filter(ln.P))||[],totalCount:r.length||0}}function Si(e){var t=(0,Pi.no)(e,"itemsV2",[]);try{var r,n=(0,Pi.Jt)(t.map((function(e){return e.item})).filter(Boolean),"0.data");return(null==n||null===(r=n.profile)||void 0===r?void 0:r.name)||""}catch(e){return""}}var Oi=new E.l("searchTopResultsOnly","query","57fd67a2bfc6ccde461e399cb80066b48d02f0c3020388b1ba081433d28c1f0c",null);function Ei(e,t){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,n.A)(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Oi,r);case 2:if(i=e.sent,a=null==i||null===(n=i.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.topResultsV2){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",ki(a,gn(null==i?void 0:i.extensions)));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _i=new E.l("searchTracks","query","5307479c18ff24aa1bd70691fdb0e77734bede8cce3bd7d43b6ff7314f52a6b8",null);function Ui(e,t){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,n.A)(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(_i,r);case 2:if(i=e.sent,a=null==i||null===(n=i.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.tracksV2){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",jn(bi(a,yn(null==i?void 0:i.extensions)),a.pagingInfo));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qi=new E.l("searchUsers","query","d3f7547835dc86a4fdf3997e0f79314e7580eaf4aaf2f4cb1e71e189c5dfcb1f",null);function Di(e,t){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,n.A)(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(qi,r);case 2:if(i=e.sent,a=null==i||null===(n=i.data)||void 0===n||null===(n=n.searchV2)||void 0===n?void 0:n.users){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",jn(Ri(a,yn(null==i?void 0:i.extensions)),a.pagingInfo));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bi={items:[],totalCount:0,pagingInfo:{nextOffset:null}},Li={albums:{items:[],totalCount:0},artists:{items:[],totalCount:0},episodes:{items:[],totalCount:0},genres:{items:[],totalCount:0},playlists:{items:[],totalCount:0},podcasts:{items:[],totalCount:0},audiobooks:{items:[],totalCount:0},topResults:{items:[]},tracks:{items:[],totalCount:0},users:{items:[],totalCount:0},topRecommendations:{artistName:"",items:[],totalCount:0},chipOrder:{items:[]}},Mi=function(){return(0,rn.A)((function e(t){(0,tn.A)(this,e),this._request=t}),[{key:"getSearchResults",value:(r=(0,n.A)(o().mark((function e(t){var r,n,i,a,s,l,u,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={searchTerm:t,offset:c.length>2&&void 0!==c[2]?c[2]:0,limit:c.length>3&&void 0!==c[3]?c[3]:10,numberOfTopResults:c.length>4&&void 0!==c[4]?c[4]:5,includeAudiobooks:!(c.length>1&&void 0!==c[1])||c[1],includeArtistHasConcertsField:c.length>5&&void 0!==c[5]&&c[5],includePreReleases:!(c.length>6&&void 0!==c[6])||c[6],includeLocalConcertsField:c.length>7&&void 0!==c[7]&&c[7]},e.next=10,this._request(nn,i);case 10:if(a=e.sent,s=null==a||null===(r=a.data)||void 0===r?void 0:r.searchV2){e.next=14;break}return e.abrupt("return",Li);case 14:return l=yn(null==a?void 0:a.extensions),u=gn(null==a?void 0:a.extensions),e.abrupt("return",{albums:dn(s.albumsV2,l),artists:wn(s.artists,l),episodes:Ln(s.episodes,l),genres:ti(s.genres,l),playlists:li(s.playlists,l),podcasts:fi(s.podcasts,l),audiobooks:On(null!==(n=s.audiobooks)&&void 0!==n?n:null,l),tracks:bi(s.tracksV2,l),users:Ri(s.users,l),topResults:ki(s.topResultsV2,u),topRecommendations:Ii(s.topResultsV2,u),chipOrder:s.chipOrder});case 17:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getSearchCategoryResults",value:(t=(0,n.A)(o().mark((function e(t,r){var n,i,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={searchTerm:t,offset:a.length>4&&void 0!==a[4]?a[4]:0,limit:a.length>5&&void 0!==a[5]?a[5]:25,numberOfTopResults:a.length>6&&void 0!==a[6]?a[6]:20,includeAudiobooks:a.length>2&&void 0!==a[2]&&a[2],includePreReleases:a.length>3&&void 0!==a[3]&&a[3]},i=null,e.t0=r,e.next="albums"===e.t0?10:"artists"===e.t0?14:"episodes"===e.t0?18:"genres"===e.t0?22:"playlists"===e.t0?26:"podcasts"===e.t0?30:"audiobooks"===e.t0?34:"tracks"===e.t0?38:"users"===e.t0?42:"topResults"===e.t0?46:"podcastAndEpisodes"===e.t0?50:54;break;case 10:return e.next=12,Cn(this._request,n);case 12:case 16:case 20:case 24:case 28:case 32:case 36:case 40:case 44:case 48:case 52:return i=e.sent,e.abrupt("break",56);case 14:return e.next=16,In(this._request,n);case 18:return e.next=20,Wn(this._request,n);case 22:return e.next=24,ai(this._request,n);case 26:return e.next=28,pi(this._request,n);case 30:return e.next=32,gi(this._request,n);case 34:return e.next=36,Un(this._request,n);case 38:return e.next=40,Ui(this._request,n);case 42:return e.next=44,Di(this._request,n);case 46:return e.next=48,Ei(this._request,n);case 50:return e.next=52,Jn(this._request,n);case 54:return(0,k.k)(r),e.abrupt("break",56);case 56:if(!i){e.next=58;break}return e.abrupt("return",i);case 58:return e.abrupt("return",Bi);case 59:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"getFullEpisodes",value:(e=(0,n.A)(o().mark((function e(t){var r,n,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={searchTerm:t,offset:i.length>1&&void 0!==i[1]?i[1]:0,limit:i.length>2&&void 0!==i[2]?i[2]:25},e.next=5,Jn(this._request,r);case 5:return n=e.sent,e.abrupt("return",n||Bi);case 7:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e,t,r}(),Vi=r(82279),Hi=r(19408),Wi=r(14274),Gi=r(46908),Zi=r(24754);const zi="kMLumUDiP1DgYtLABkVO";var Ki=function(e){var t=e.results,r=e.hasResults,n=oe().category,i=(0,Hi.Qe)(t,n,!1),a="podcasts"!==n&&"episodes"!==n;return(0,g.jsxs)(H.pZ,{value:"search-page",children:[(0,g.jsx)(Dt,{searchCategories:i,selectedCategory:n,displayChips:a}),(0,g.jsx)("div",{className:"contentSpacing",id:"searchPage",children:(0,g.jsx)(He.E,{className:zi,render:function(){return(0,g.jsxs)(c.BV,{children:[(0,g.jsx)(c.qh,{path:"/",element:(0,g.jsx)(y.e,{pageId:f.$h.FIND,entityUri:"spotify:app:search",children:(0,g.jsx)(K,{})})}),(0,g.jsx)(c.qh,{path:":query",element:(0,g.jsx)(j,{children:(0,g.jsx)(en,{results:t,hasResults:r})})}),(0,g.jsx)(c.qh,{path:":query/:category",element:(0,g.jsx)(b,{children:(0,g.jsx)(Vt,{results:t,displayChips:a})})})]})}})})]})};const Qi=l.memo((function(){var e=(0,u.jE)(),t=(0,v.NC)(G.KvH),r=(0,v.NC)(G.Lh5),s=!(0,le.n)(),c=(0,Vi.o)(),d=(0,a.A)(c,2),f=d[0],y=f.category,x=f.query,b=d[1];(0,Wi.m)("search");var j=(0,l.useState)({results:null,queryForResults:null!=x?x:""}),C=(0,a.A)(j,2),R=C[0],w=C[1],A=R.results,P=function(e){return null!==e&&void 0!==Object.keys(e).find((function(t){return"chipOrder"!==t&&e[t].items.length>0}))}(A),k=(0,l.useMemo)((function(){return new Mi((0,Zi.lY)(Gi.n.getInstance()))}),[]),I=(0,V.k)(),S=I.searchHistory,O=I.setSearchHistory,E=(0,l.useCallback)((function(e){O([e].concat((0,i.A)(S)))}),[S,O]),N=(0,l.useCallback)(function(){var e=(0,n.A)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==R.queryForResults||!P){e.next=2;break}return e.abrupt("return");case 2:b(t,y,!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[R.queryForResults,y,P,b]);(0,l.useEffect)((function(){if(x)if(s)w({results:null,queryForResults:x});else{var n=["searchPageResults",x,{numberOfTopResults:5,isConcertsInSearchEnabled:t,isLocalConcertsInSearchEnabled:r}];e.ensureQueryData({queryKey:n,queryFn:function(){return k.getSearchResults(x,!0,0,10,5,t,!0,r)},gcTime:9e5,staleTime:9e5}).then((function(e){w({results:e,queryForResults:x})}))}}),[k,t,r,s,x,e]),(0,l.useEffect)((function(){x||w({results:null,queryForResults:""})}),[x]);var _=(0,l.useMemo)((function(){return p().create().toString()}),[y,R.queryForResults]),U=(0,l.useMemo)((function(){return{api:k,category:y,query:R.queryForResults,onAddToHistory:E,onSearchRequest:N,serpId:_}}),[k,y,E,N,R.queryForResults,_]);return(0,g.jsxs)(se,{value:U,children:[(0,g.jsx)(m.Q,{children:h.Ru.get("search.page-title")}),(0,g.jsx)(Ki,{results:A,hasResults:P})]})}))},30021:(e,t,r)=>{r.d(t,{C:()=>g});var n=r(30758),i=r(65277),a=r(33786),s=r(49093),o=r(51488),l=(r(7651),r(42486),r(30456),r(26701),r(78551),r(68216),r(47994),r(37417),r(11737),r(51691),r(702),r(5672),r(43379),r(78397),r(82467),r(34192),r(88856),r(51565),r(18316),function(e){return e<=64?"small":e>640?"xlarge":e>300?"large":"standard"});function u(e,t){return e.filter((function(e){return e.label?e.label===t:e.width?l(e.width)===t:!!e.height&&l(e.height)===t}))[0]}var c=r(59604);r(47710);var d=r(41511);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e){var t,r,n,i,a,s,o,l,c=u(e,"standard"),d=u(e,"large"),p=u(e,"small"),v=u(e,"xlarge");return{image_url:null==c?void 0:c.url,image_height:null==c||null===(t=c.height)||void 0===t?void 0:t.toString(),image_width:null==c||null===(r=c.width)||void 0===r?void 0:r.toString(),image_url_large:null==d?void 0:d.url,image_height_large:null==d||null===(n=d.height)||void 0===n?void 0:n.toString(),image_width_large:null==d||null===(i=d.width)||void 0===i?void 0:i.toString(),image_url_small:null==p?void 0:p.url,image_height_small:null==p||null===(a=p.height)||void 0===a?void 0:a.toString(),image_width_small:null==p||null===(s=p.width)||void 0===s?void 0:s.toString(),image_url_xlarge:null==v?void 0:v.url,image_height_xlarge:null==v||null===(o=v.height)||void 0===o?void 0:o.toString(),image_width_xlarge:null==v||null===(l=v.width)||void 0===l?void 0:l.toString()}}var h=r(64654),m=r(34871),y=r(97579);function g(e,t){var r=(0,a.W)(),o=(0,h.z)(),l=(0,m.te)((null==e?void 0:e.uri)||""),u=l.isPlaying,p=l.isActive,g=(0,m.l_)((null==t?void 0:t.uri)||"").isActive,x=(0,i.NC)(s.pZ0),b=(0,n.useCallback)((function(n){if(t&&e){var i=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=((null===(r=e.coverArt)||void 0===r?void 0:r.sources)||[]).sort((function(e,t){return(t.width||0)-(e.width||0)})),a=(0,c.QH)(e,t),s=(0,c.gf)(t)||a,o=e.mediaTypes&&e.mediaTypes.includes(d.Cx.Video)?"video":"audio";return v(v({uri:e.uri,title:e.name,subtitle:t.name,type:"episode",album_uri:t.uri,album_title:t.name,artist_uri:t.uri,artist_name:t.name},f(i)),{},{media_type:n?o:"audio",isTrailer:a,anonymousPlaybackAllowed:s})}(e,t,x);g&&!u&&p&&!n?o.resume():g&&u&&!n?(r({type:"click",intent:"pause",targetUri:e.uri}),o.pause()):(r({type:"click",intent:"play",targetUri:e.uri}),o.play({uri:t.uri,pages:[{items:[{type:y.c.EPISODE,uri:e.uri,uid:null,metadata:i,provider:null}]}]},{referrerIdentifier:o.getReferrer(),featureIdentifier:"episode"},n))}}),[t,e,x,g,u,p,o,r]);return b}},16572:(e,t,r)=>{r.d(t,{a:()=>n});var n=function(e){var t;return(null==e||null===(t=e.linked_from)||void 0===t?void 0:t.uri)||e.uri}}}]);
//# sourceMappingURL=xpui-routes-search.js.map