"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2391],{63258:(e,t,n)=>{n.d(t,{l:()=>g});var s=n(51488),i=n(97500),r=n.n(i);const a="x-toggle-wrapper",o="x-toggle-indicator",l="JCFCfOY_6UEZZSOO2xrl",u="x-toggle-indicatorWrapper",c="x-toggle-input";var d=n(86070),g=function(e){var t=e.value,n=e.disabled,i=e.onSelected,g=e.id,h=e.className,f=e.condensed,p=void 0!==f&&f,x=e.inputRef;return(0,d.jsxs)("label",{className:r()(a,h),children:[(0,d.jsx)("input",{id:g,className:c,type:"checkbox",disabled:n,checked:t,onChange:function(e){var t=e.target.checked;i(t)},ref:x}),(0,d.jsx)("span",{className:r()(u,(0,s.A)({},l,p)),children:(0,d.jsx)("span",{className:r()(o,(0,s.A)({},l,p))})})]})}},54997:(e,t,n)=>{n.r(t),n.d(t,{DesktopSettings:()=>Pn,default:()=>Kn});var s=n(71523),i=n(30758),r=n(65277),a=n(99),o=(n(78551),n(79024),n(43379),n(2823),n(82467),n(97460),n(29426),n(93577),n(54520),n(91531),n(93678),n(34145),n(94822)),l=n(90543),u=n(63258),c=n(65190),d=n(57356),g=n(15102),h=n(66493),f=n(60677);const p="xpVsqMQfmc20cBLG04zw";var x=n(86070),v=function(e){var t=e.dsaModeEnabled,n=e.setDsaModeEnabled,s=(0,o.wA)(),r=(0,l.zy)(),v=new URLSearchParams(r.search).get("highlight"),m=(0,i.useRef)(null);return(0,i.useEffect)((function(){null!=v&&v.includes("dsa")&&m.current&&(m.current.focus(),document.documentElement.classList.remove("no-focus-outline"))}),[v]),(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("web-player.settings.personalized-recommendations"),children:[(0,x.jsxs)(h.q,{className:p,children:[(0,x.jsx)(c.W,{htmlFor:"settings.dsaMode",children:a.Ru.get("web-player.settings.personalized-recommendations")}),(0,x.jsx)(c.W,{htmlFor:"settings.dsaMode",variant:"marginal",children:a.Ru.get("web-player.settings.personalized-recommendations-body-text")})]}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"settings.dsaMode",value:!t,onSelected:function(e){e?n(!e):s(f.UU.actions.open({onConfirm:function(){return n(!e)}}))},inputRef:m})})]})},m=n(51488),j=(n(30456),n(7651),n(26701),n(37417),n(11737),n(51691),n(702),n(5672),n(34192),n(88856),n(51565),n(18316),n(97500)),y=n.n(j),k=n(33383),b=n(83635),R=n(29882);const w={section:"x-settings-section",hidden:"afyQ2L5zTtlSDtn9WPjd"};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,m.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e){var t=e.children,n=e.filterMatchQuery,s=(0,i.useContext)(b.g).filter,r=(0,R.A)(),a=r.setSectionMatch,o=r.sectionContainsMatch,l=(0,k.C)(s,n);(0,i.useEffect)((function(){a(l)}),[l,a]);var u=!l&&!o;return(0,x.jsx)("div",{className:y()(w.section,(0,m.A)({},w.hidden,u)),children:t})}function M(e){return(0,x.jsx)(R.R,{children:(0,x.jsx)(A,C({},e))})}var F=n(7852),N=n(22704);function Q(e){var t=e.children,n=e.className,s=e.semanticColor,r=void 0===s?"textBase":s,a=(0,i.useContext)(b.g).filter;return(0,x.jsx)(F.E,{as:"h2",variant:"bodyMediumBold",semanticColor:r,className:n,children:(0,x.jsx)(N.M,{searchWords:[a],textToHighlight:t})})}var E=n(5904),O=n(64501),q=n.n(O),W=(n(184),n(42486),n(88610)),_=n(44671),L=n(70102),z=n(1131),T=new(n(33872).l)("changeAttributes","mutation","ac50e9d82b3b8303c73512f297140e774a69eb0d6250769b5669e69b4be28886",null);function I(e,t){return D.apply(this,arguments)}function D(){return(D=(0,E.A)(q().mark((function e(t,n){var s,i,r,a;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(T,{input:{dsaModeEnabled:n,birthdate:null,filterAgeRestrictedContent:null,filterExplicitContent:null,lockFilterExplicitContent:null,optInTrialPremiumOnlyMarket:null}});case 2:if(s=e.sent,r=(i=s||{}).errors,null!=(a=i.data)&&a.changeUserAccountAttributes){e.next=10;break}if(!(r&&r.length>0)){e.next=9;break}throw new Error("GraphQL error: ".concat(r[0].message));case 9:throw new Error("Unknown GraphQL error!");case 10:if("ChangeUserAccountAttributesResult"===a.changeUserAccountAttributes.__typename&&("ChangeUserAccountAttributesResult"!==a.changeUserAccountAttributes.__typename||a.changeUserAccountAttributes.success)){e.next=12;break}throw new Error("Couldn't successfully set new value");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=n(40494),P=n(59370),K=(n(99020),n(48716)),H=["personalizedRecommendations"],U=function(e){var t=e.sectionAbove,n=function(){var e=(0,(0,z.mv)().getGraphQLLoader)(),t=(0,W.jE)(),n=((0,P.g)(),(0,o.wA)()),s=!(0,V.n)(),r="1"===(0,K.$)("dsa-mode-enabled"),a="1"===(0,K.$)("dsa-mode-available"),l=(0,i.useCallback)(function(){var t=(0,E.A)(q().mark((function t(n){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=2;break}throw new Error("User has to be online");case 2:return t.next=4,I(e,n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[s,e]),u=(0,i.useRef)(r);u.current=r;var c,d=(0,_.I)({queryKey:H,queryFn:function(){return u.current}}).data,g=(0,L.n)({mutationFn:l,onMutate:(c=(0,E.A)(q().mark((function e(n){var s;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.cancelQueries({queryKey:H});case 2:return s=t.getQueryData(H),t.setQueryData(H,n),e.abrupt("return",{prevState:s,newState:n});case 5:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)}),onError:function(e,s,i){t.setQueryData(H,null==i?void 0:i.prevState),n(f.bL.actions.open())},onSuccess:function(){}});return[null!=a&&a,null!=d&&d,g.mutate]}(),r=(0,s.A)(n,3),l=r[0],u=r[1],c=r[2];return l||t?(0,x.jsxs)(M,{filterMatchQuery:a.Ru.get("web-player.settings.content-preferences"),children:[(0,x.jsx)(Q,{children:a.Ru.get("web-player.settings.content-preferences")}),t,l&&(0,x.jsx)(v,{dsaModeEnabled:u,setDsaModeEnabled:c})]}):null},B=function(e){return e.LIBRARY_COMPACT_MODE="library-compact-mode",e.NOW_PLAYING_VIEW="now-playing-view",e.CANVAS_VIDEOS="canvas-videos",e}({}),G=n(82199),Z=function(e){var t=(0,G.h)(),n=t.spec,s=t.logger;return(0,i.useCallback)((function(t){t?s.logInteraction(n.settingsRowFactory({identifier:e}).hitSettingEnable()):s.logInteraction(n.settingsRowFactory({identifier:e}).hitSettingDisable())}),[e,s,n])},Y=n(37078),J=function(){var e=(0,Y.useLibraryRowMode)(),t=e.libraryRowMode,n=e.setLibraryRowMode,s=Z(B.LIBRARY_COMPACT_MODE),r=(0,i.useCallback)((function(e){s(e),n(e?Y.CompactModeState.COMPACT:Y.CompactModeState.DEFAULT)}),[s,n]);return(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("settings.library.compactMode"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"settings.library.compact-mode",children:a.Ru.get("settings.library.compactMode")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"settings.library.compact-mode",value:t===Y.CompactModeState.COMPACT,onSelected:r})})]})},X=function(e){var t=e.children;return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(M,{filterMatchQuery:a.Ru.get("settings.library"),children:[(0,x.jsx)(Q,{children:a.Ru.get("settings.library")}),t]})})};const $="_czgnX6y44Or6X9pI6gc";var ee=function(e){var t=e.children,n=e.outerRef;return(0,x.jsx)(b.s,{uri:"spotify:internal:settings",children:(0,x.jsx)("div",{ref:n,className:$,"data-testid":"settings-page",children:t})})},te=n(6029),ne=n(90785);const se="O2vRz41OsAH0O7xVA4La",ie="y4CT4_q630fWtqu7Zggt";function re(e){var t=e.containerRef;return(0,x.jsxs)("div",{className:se,children:[(0,x.jsx)(F.E,{as:"h1",variant:"titleMedium",className:ie,semanticColor:"textBase",paddingBottom:te.CD,children:a.Ru.get("desktop.settings.settings")}),(0,x.jsx)("div",{children:(0,x.jsx)(ne.S,{placeholder:"",alwaysExpanded:!1,clearOnEscapeInElementRef:t,debounceFilterChangeTimeout:0})})]})}n(65594);var ae=function(e){var t=e.settings.values,n=e.setValue;return navigator&&/^win/i.test(navigator.platform)?(0,x.jsxs)(M,{filterMatchQuery:a.Ru.get("desktop.settings.compatibility"),children:[(0,x.jsx)(Q,{children:a.Ru.get("desktop.settings.compatibility")}),(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.enableHardwareAcceleration"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.enableHardwareAcceleration",children:a.Ru.get("desktop.settings.enableHardwareAcceleration")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"desktop.settings.enableHardwareAcceleration",value:!!t["ui.hardware_acceleration"],onSelected:function(e){n("ui.hardware_acceleration",e)}})})]})]}):null},oe=(n(83234),n(76588),n(84904)),le=(n(25550),n(15342),n(40065),n(23739),n(4865),n(15057));function ue(e){return"".concat(e>0?"+".concat(e):e,"dB")}var ce=n(55603),de=n(94679);function ge(){var e=(0,de.G)(),t=(0,i.useState)(e.getPreset()),n=(0,s.A)(t,2),r=n[0],a=n[1],o=(0,i.useCallback)((function(t){e.setPreset(t)}),[e]);return(0,i.useEffect)((function(){return e.subscribeToPresetChange((function(e){a(e)}))})),[r,o]}const he={wrapper:"x-settings-equalizerPanelWrapper",preset:"x-settings-equalizerPanelPreset",filters:"x-settings-equalizerPanelFilters",filter:"x-settings-equalizerPanelFilter",input:"x-settings-equalizerPanelInput",label:"x-settings-equalizerPanelLabel",gainLabel:"x-settings-equalizerPanelGainLabel",gainLabelUp:"x-settings-equalizerPanelGainLabelUp",gainLabelDown:"x-settings-equalizerPanelGainLabelDown",canvas:"x-settings-equalizerPanelCanvas"};function fe(e){var t=e.filter,n=e.onChange,r=(0,de.G)(),o=(0,i.useRef)(null),l=ge(),u=(0,s.A)(l,1)[0];(0,i.useEffect)((function(){var e=u.filters.find((function(e){return e.key===t.key}));o.current&&e&&(o.current.value="".concat(e.gain))}),[u,t.key]),(0,i.useEffect)((function(){o.current&&o.current.setAttribute("aria-valuetext",a.Ru.get("equalizer.filterA11yValueText",t.gain))}),[]);var c,d=(0,le.YQ)((function(e,t){r.setFilterGain(e,t)}),100,{maxWait:200});return(0,x.jsxs)("div",{className:he.filter,children:[(0,x.jsx)("input",{"aria-label":a.Ru.get("equalizer.filterLabel",t.frequency),ref:o,type:"range",min:-ce.Zs,max:ce.Zs,step:.1,defaultValue:t.gain,className:he.input,onChange:function(e){var s=parseFloat(e.target.value);e.target.setAttribute("aria-valuetext",a.Ru.get("equalizer.filterA11yValueText",s)),d(t.key,s),n(s)}}),(0,x.jsx)("label",{className:he.label,children:(c=t.frequency,c>=1e3?"".concat(c/1e3,"KHz"):"".concat(c,"Hz"))})]})}n(26851),n(9750),n(20031);function pe(e,t){e.moveTo(t[0],t[1]);for(var n=2;n<t.length-1;n+=2)e.lineTo(t[n],t[n+1])}n(38408),n(80456);function xe(e){var t=.6,n=[],s=e.reduce((function(e,t){return e.push(t.x),e.push(t.y),e}),[]);s.unshift(e[0].y),s.unshift(e[0].x),s.push(e[e.length-1].x),s.push(e[e.length-1].y);for(var i=2;i<s.length-4;i+=2)for(var r=0;r<=16;r++){var a=(s[i+2]-s[i-2])*t,o=(s[i+4]-s[i])*t,l=(s[i+3]-s[i-1])*t,u=(s[i+5]-s[i+1])*t,c=r/16,d=2*Math.pow(c,3)-3*Math.pow(c,2)+1,g=-2*Math.pow(c,3)+3*Math.pow(c,2),h=Math.pow(c,3)-2*Math.pow(c,2)+c,f=Math.pow(c,3)-Math.pow(c,2),p=d*s[i]+g*s[i+2]+h*a+f*o,x=d*s[i+1]+g*s[i+3]+h*l+f*u;n.push(p),n.push(x)}return n}n(58795);var ve=n(51646);function me(e,t){var n=e.getContext("2d");n&&(n.clearRect(0,0,e.clientWidth,e.clientHeight),function(e,t,n){var s=t.clientWidth,i=t.clientHeight,r=s/n.length/2;e.beginPath();var a=e.createLinearGradient(s/2,0,s/2,i);a.addColorStop(0,"rgba(11%, 73%, 33%, 100%)"),a.addColorStop(1,"rgba(11%, 73%, 33%, 0%)"),e.fillStyle=a,pe(e,xe(n)),e.lineTo(s-r,i),e.lineTo(r,i),e.fill()}(n,e,t),function(e,t){e.beginPath(),e.strokeStyle="rgb(11%, 73%, 33%)",e.lineWidth=4,pe(e,xe(t)),e.stroke()}(n,t),function(e,t){e.fillStyle=ve.ONy,t.forEach((function(t){e.beginPath(),e.arc(t.x,t.y,4,0,2*Math.PI),e.fill()}))}(n,t))}var je=60,ye=300;function ke(e,t){var n=t.clientWidth/e.length;return e.map((function(e,s){return{x:s*n+n/2,y:t.clientHeight-(e+ce.Zs+3)/(2*ce.Zs+6)*t.clientHeight}}))}var be=function(){var e=(0,i.useState)(window.devicePixelRatio||1),t=(0,s.A)(e,2),n=t[0],r=t[1];return(0,i.useEffect)((function(){var e=function(){matchMedia("(resolution: ".concat(window.devicePixelRatio,"dppx)")).addEventListener("change",(function(){r(window.devicePixelRatio),e()}),{once:!0})};e()}),[]),n},Re=n(46131);function we(e){var t=(0,i.useRef)(null),n=be(),s=(0,i.useCallback)((function(){var e;if(t.current){var s=n,i=t.current.getBoundingClientRect();t.current.width=i.width*s,t.current.height=i.height*s,null===(e=t.current.getContext("2d"))||void 0===e||e.scale(s,s)}}),[n]),r=(0,i.useCallback)((function(){if(t.current&&e.current){var n=ke(e.current,t.current);me(t.current,n)}}),[e]),a=(0,i.useCallback)((function(n){if(t.current&&e.current){var s,i,r,a,o,l,u,c,d=ke(e.current,t.current),g=ke(n,t.current);s=t.current,i=d,r=g,a=je*(ye/1e3),o=0,l=JSON.parse(JSON.stringify(i)),u=r.map((function(e,t){return e.y-i[t].y})),c=function(){if(!(o>=a)){for(var e=0;e<l.length;e++){var t=i[e].y,n=u[e];l[e].y=(r=t,d=n,g=o,(g/=a/2)<1?d/2*Math.pow(g,3)+r:(g-=2,d/2*(Math.pow(g,3)+2)+r))}var r,d,g;me(s,l),o++,window.requestAnimationFrame(c)}},window.requestAnimationFrame(c)}}),[e]);return(0,i.useEffect)((function(){s(),r()}),[s,r]),(0,Re.w)({refOrElement:t,onResize:function(){s(),r()}}),{canvasRef:t,drawCanvas:r,animateCanvas:a}}function Se(){var e=(0,de.G)(),t=(0,i.useState)(!1),n=(0,s.A)(t,2),r=n[0],a=n[1],o=(0,i.useCallback)((function(t){e.setEnabledState(t)}),[e]);return(0,i.useEffect)((function(){return e.subscribeToEnabledState(a)}),[e]),[r,o]}function Ce(){var e=Se(),t=(0,s.A)(e,2),n=t[0],r=t[1],o=ge(),l=(0,s.A)(o,2),u=l[0],c=l[1],d=(0,i.useRef)(u.filters.map((function(e){return e.gain}))),g=we(d),h=g.canvasRef,f=g.drawCanvas,p=g.animateCanvas;return(0,i.useEffect)((function(){var e=u.filters.map((function(e){return e.gain}));"custom"!==u.key&&p(e),d.current=e}),[u,p]),(0,x.jsxs)("div",{className:he.wrapper,children:[(0,x.jsx)("canvas",{"aria-label":a.Ru.get("equalizer.equalizer"),role:"img",className:he.canvas,ref:h}),(0,x.jsx)("label",{className:y()(he.gainLabel,he.gainLabelUp),children:ue(ce.Zs)}),(0,x.jsx)("label",{className:y()(he.gainLabel,he.gainLabelDown),children:ue(-ce.Zs)}),(0,x.jsx)("div",{className:he.filters,dir:"ltr",children:u.filters.map((function(e,t){return(0,x.jsx)(fe,{filter:e,onChange:function(e){d.current[t]=e,f(),n||r(!0),c((0,ce.zP)(d.current))}},e.key)}))})]})}n(8674);var Ae=n(13981);const Me={container:"x-settings-equalizerPresetsContainer",label:"x-settings-equalizerPresetsLabel"};function Fe(){var e=Se(),t=(0,s.A)(e,2),n=t[0],i=t[1],r=ge(),o=(0,s.A)(r,2),l=o[0],u=o[1];return(0,x.jsxs)("div",{className:Me.container,children:[(0,x.jsx)(F.E,{as:"label",variant:"bodySmall",semanticColor:"textSubdued",htmlFor:"desktop.equalizer.preset",className:Me.label,children:a.Ru.get("equalizer.presets")}),(0,x.jsxs)(Ae.C,{id:"desktop.equalizer.preset",value:l.key,onSelect:function(e){u(e),n||i(!0)},children:["custom"===l.key&&(0,x.jsx)("option",{value:l.key,children:l.displayName}),Object.entries(ce.fG).map((function(e){var t=(0,s.A)(e,2),n=t[0],i=t[1];return(0,x.jsx)("option",{value:n,children:i.displayName},n)}))]})]})}n(36497),n(99722);var Ne=n(86173);function Qe(){var e=Se(),t=(0,s.A)(e,2),n=t[0],i=t[1],r=ge(),o=(0,s.A)(r,2)[1];return(0,x.jsx)(Ne.n,{onClick:function(){o(ce.fG.flat.key),n||i(!0)},size:"small",children:a.Ru.get("equalizer.reset")})}function Ee(){var e=Se(),t=(0,s.A)(e,2),n=t[0],i=t[1];return(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("equalizer.equalizer"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"settings.equalizer",children:a.Ru.get("equalizer.equalizer")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"settings.equalizer",value:n,onSelected:i})})]})}var Oe=n(35489);const qe="x-settings-equalizerSection",We="x-settings-equalizerWrapper",_e="x-settings-equalizerResetButtonWrapper";function Le(){var e=(0,de.G)();return(0,r.NC)(Oe.AM,{loadingValue:!1})&&e.isSupported()?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Ee,{}),(0,x.jsx)(d.i,{filterMatchQuery:a.Ru.get("equalizer.equalizer"),children:(0,x.jsxs)("div",{className:qe,children:[(0,x.jsx)(Fe,{}),(0,x.jsx)("div",{className:We,children:(0,x.jsx)(Ce,{})}),(0,x.jsx)("div",{className:_e,children:(0,x.jsx)(Qe,{})})]})})]}):null}var ze=n(49093);const Te="x-settings-crossFadeContainer";var Ie=12e3,De=function(e){var t=e.settings.values,n=e.setValue,o=(0,r.NC)(ze.$GE),l=(0,r.NC)(ze.UrL),f=(0,r.NC)(ze.tsC),p=(0,i.useState)(-1),v=(0,s.A)(p,2),m=v[0],j=v[1],y=-1===m?Number(t["audio.crossfade.time_v2"]):m,k="".concat(Math.round(y/1e3)," ").concat(a.Ru.get("desktop.settings.sec"));return(0,x.jsxs)(M,{filterMatchQuery:a.Ru.get("desktop.settings.playback"),children:[(0,x.jsx)(Q,{children:a.Ru.get("desktop.settings.playback")}),void 0!==t["audio.crossfade_v2"]&&(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.crossfadeTracks"),children:[(0,x.jsxs)(h.q,{children:[(0,x.jsx)(c.W,{htmlFor:"desktop.settings.crossfadeTracks",children:a.Ru.get("desktop.settings.crossfadeTracks")}),t["audio.crossfade_v2"]&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:Te,children:(0,x.jsx)(oe.z2,{value:y,max:Ie,step:1e3,labelText:a.Ru.get("desktop.settings.crossfadeTracks"),onStepBackward:function(){j(Math.max(0,y-1e3))},onStepForward:function(){j(Math.min(Ie,y+1e3))},onDragStart:function(e){j(e*Ie)},onDragMove:function(e){j(e*Ie)},onDragEnd:function(e){var t=Math.floor(e*Ie);j(t),n("audio.crossfade.time_v2",t)}})}),(0,x.jsx)(F.E,{variant:"bodySmall",semanticColor:"textSubdued",children:k})]})]}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"desktop.settings.crossfadeTracks",value:!!t["audio.crossfade_v2"],onSelected:function(e){n("audio.crossfade_v2",e)}})})]}),(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.automixInfo"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.automixInfo",children:a.Ru.get("desktop.settings.automixInfo")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"desktop.settings.automixInfo",value:!!t["audio.automix"],onSelected:function(e){n("audio.automix",e)}})})]}),(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.monoDownmixer"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.monoDownmixer",children:a.Ru.get("desktop.settings.monoDownmixer")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"desktop.settings.monoDownmixer",value:!!t["audio.downmixer_v2"],onSelected:function(e){n("audio.downmixer_v2",e)}})})]}),o&&(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.silenceTrimmer"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.silenceTrimmer",children:a.Ru.get("desktop.settings.silenceTrimmer")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"desktop.settings.silenceTrimmer",value:!!t["audio.silence_trimmer_v2"],onSelected:function(e){n("audio.silence_trimmer_v2",e)}})})]}),l&&(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.dynamicNormalizer"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.dynamicNormalizer",children:a.Ru.get("desktop.settings.dynamicNormalizer")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"desktop.settings.dynamicNormalizer",value:!!t["audio.dynamic_normalizer_v2"],onSelected:function(e){n("audio.dynamic_normalizer_v2",e)}})})]}),f&&(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.otfn"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.otfn",children:a.Ru.get("desktop.settings.otfn")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"desktop.settings.otfn",value:!!t["audio.otfn_v2"],onSelected:function(e){n("audio.otfn_v2",e)}})})]}),(0,x.jsx)(Le,{})]})},Ve=n(70538),Pe=n(41507),Ke=n(45965);function He(e,t,n,s){var i={configurable:!0,enumerable:!0};return i[e]=s,Object.defineProperty(t,n,i)}var Ue=He("get",He("get",He("get",{},Ve.WZ.MINIMIZED,(function(){return a.Ru.get("desktop.settings.autostartMinimized")})),Ve.WZ.NORMAL,(function(){return a.Ru.get("desktop.settings.autostartNormal")})),Ve.WZ.OFF,(function(){return a.Ru.get("desktop.settings.autostartOff")})),Be=(0,Pe.D)()===Ke.f.macOS,Ge=function(e){var t=e.settings.values,n=e.setValue;return(0,x.jsxs)(M,{filterMatchQuery:a.Ru.get("desktop.settings.startupAndWindowBehavior"),children:[(0,x.jsx)(Q,{children:a.Ru.get("desktop.settings.startupAndWindowBehavior")}),void 0!==t["app.autostart-mode"]&&(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.autostart"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.autostart",children:a.Ru.get("desktop.settings.autostart")})}),(0,x.jsx)(g.n,{children:(0,x.jsxs)(Ae.C,{id:"desktop.settings.autostart",value:t["app.autostart-mode"],onSelect:function(e){n("app.autostart-mode",e)},children:[(0,x.jsx)("option",{value:Ve.WZ.MINIMIZED,children:Ue[Ve.WZ.MINIMIZED]}),(0,x.jsx)("option",{value:Ve.WZ.NORMAL,children:Ue[Ve.WZ.NORMAL]}),(0,x.jsx)("option",{value:Ve.WZ.OFF,children:Ue[Ve.WZ.OFF]})]})})]}),!Be&&(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.closeShouldMinimize"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.closeShouldMinimize",children:a.Ru.get("desktop.settings.closeShouldMinimize")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"desktop.settings.closeShouldMinimize",value:!!t["ui.minimize_to_tray"],onSelected:function(e){n("ui.minimize_to_tray",e)}})})]})]})},Ze=(n(68216),n(72636),n(78397),n(34072),{"auto-detect":{label:function(){return a.Ru.get("desktop.settings.proxy.autodetect")}},"no-proxy":{label:function(){return a.Ru.get("desktop.settings.proxy.noproxy")}},http:{label:function(){return a.Ru.get("desktop.settings.proxy.http")}},socks4:{label:function(){return a.Ru.get("desktop.settings.proxy.socks4")}},socks5:{label:function(){return a.Ru.get("desktop.settings.proxy.socks5")}}}),Ye=[{enumKey:"auto-detect",enumValue:0},{enumKey:"no-proxy",enumValue:1},{enumKey:"http",enumValue:2},{enumKey:"socks4",enumValue:3},{enumKey:"socks5",enumValue:4}],Je=n(20529);const Xe="mpdBa62OP4Fr5wvCsa89",$e="x-proxySettings-ProxySettings",et="x-proxySettings-fullWidth",tt="x-settings-input",nt="x-proxySettings-horizontalPair";var st=function(e){var t=e.id,n=e.type,s=e.placeHolder,i=e.inputRef,r=e.handleOnChange;return(0,x.jsx)("input",{type:n||"text",id:t,"data-testid":t,className:tt,placeholder:s,ref:i,onChange:r})},it=function(e){var t=e.children,n=e.label;return(0,x.jsx)(Je.g,{label:n,className:nt,children:t})};const rt="wjxwX0Alq8DVfoBObi3R";function at(e){var t=e.onClick;return(0,x.jsx)(Ne.n,{className:rt,onClick:t,children:a.Ru.get("settings.restartApp")})}var ot=function(e,t,n){var s="".concat(e,":").concat(t);switch(n){case 2:s+="@http";break;case 3:s+="@socks4";break;case 4:s+="@socks5"}return s},lt=function(e){var t=e.addr,n=e.mode,r=void 0===n?"0":n,o=e.pass,l=e.user,u=e.setValue,c=e.restartContainer,d=e.fullWidth,g=(0,i.useRef)(null),h=(0,i.useRef)(null),f=(0,i.useRef)(null),p=(0,i.useRef)(null),v=Number(r),m=(0,i.useState)(""),j=(0,s.A)(m,2),k=j[0],b=j[1],R=(0,i.useState)(""),w=(0,s.A)(R,2),S=w[0],C=w[1],A=(0,i.useState)(!1),F=(0,s.A)(A,2),N=F[0],E=F[1];(0,i.useEffect)((function(){var e=(null==t?void 0:t.split(/[:@]+/))||["",""],n=(0,s.A)(e,2),i=n[0],r=n[1];b(i),C(r),g.current&&(g.current.value=i),h.current&&(h.current.value=r)}),[t]),(0,i.useEffect)((function(){p.current&&o&&(p.current.value=o.toString())}),[o]),(0,i.useEffect)((function(){f.current&&l&&(f.current.value=l.toString())}),[l]);var O=(0,i.useCallback)((function(e){var t=e.target,n=ot(t.value,S,v);b(t.value),u("network.proxy.addr",n),E(!0)}),[v,S,u]),q=(0,i.useCallback)((function(e){var t=e.target,n=ot(k,t.value,v);C(t.value),u("network.proxy.addr",n),E(!0)}),[v,k,u]),W=(0,i.useCallback)((function(e){var t=e.target;u("network.proxy.user",t.value),E(!0)}),[u]),_=(0,i.useCallback)((function(e){var t=e.target;u("network.proxy.pass",t.value),E(!0)}),[u]),L=0!==v&&1!==v,z=3!==v;return(0,x.jsxs)(M,{filterMatchQuery:a.Ru.get("desktop.settings.proxy.title"),children:[(0,x.jsx)(Q,{children:a.Ru.get("desktop.settings.proxy.title")}),(0,x.jsxs)("div",{className:y()($e,d?et:null),children:[(0,x.jsx)(it,{label:a.Ru.get("desktop.settings.proxy.type"),children:(0,x.jsx)(Ae.C,{id:"network.proxy.mode",value:r,onSelect:function(e){var t=parseInt(e,10);u("network.proxy.mode",t),E(!0)},children:Ye.map((function(e){var t=e.enumKey,n=e.enumValue;return(0,x.jsx)("option",{value:n,"data-testid":t,children:Ze[t]?Ze[t].label():""},t)}))})}),L?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:Xe,children:[(0,x.jsx)(it,{label:a.Ru.get("desktop.settings.proxy.host"),children:(0,x.jsx)(st,{id:"network.proxy.host",handleOnChange:O,placeHolder:a.Ru.get("desktop.settings.proxy.host"),inputRef:g})}),(0,x.jsx)(it,{label:a.Ru.get("desktop.settings.proxy.port"),children:(0,x.jsx)(st,{id:"network.proxy.port",type:"number",handleOnChange:q,placeHolder:a.Ru.get("desktop.settings.proxy.port"),inputRef:h})})]}),(0,x.jsxs)("div",{className:z?Xe:void 0,children:[(0,x.jsx)(it,{label:a.Ru.get("desktop.settings.proxy.user"),children:(0,x.jsx)(st,{id:"network.proxy.user",handleOnChange:W,placeHolder:a.Ru.get("desktop.settings.proxy.user"),inputRef:f})}),z?(0,x.jsx)(it,{label:a.Ru.get("desktop.settings.proxy.pass"),children:(0,x.jsx)(st,{id:"network.proxy.pass",handleOnChange:_,placeHolder:a.Ru.get("desktop.settings.proxy.pass"),type:"password",inputRef:p})}):null]})]}):null,N&&(0,x.jsx)("div",{children:(0,x.jsx)(at,{onClick:c})})]})]})},ut=n(65941),ct=n(28516),dt=n(14845),gt=(n(60287),n(91996));function ht(){var e=(0,gt.B)(),t=(0,i.useState)(null),n=(0,s.A)(t,2),r=n[0],a=n[1],o=(0,i.useState)(!0),l=(0,s.A)(o,2),u=l[0],c=l[1],d=(0,i.useState)(null),g=(0,s.A)(d,2),h=g[0],f=g[1];return(0,i.useEffect)((function(){function t(){return(t=(0,E.A)(q().mark((function t(){var n;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===h){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.getStatistics();case 5:n=t.sent,a(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),f(t.t0 instanceof Error?t.t0:new Error("Error when fetching storage statistics."));case 12:c(!1);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}var n=window.setInterval((function(){!function(){t.apply(this,arguments)}()}),1500);return function(){return clearInterval(n)}}),[e,h]),[r,u,h]}const ft="x-settings-button",pt="x-settings-wordBreakAll";var xt=function(e){var t=e.settings,n=e.setValue,r=(0,dt.A)(),l=(0,ct.t)(),u=!(0,V.n)(),f=(0,i.useState)(!1),p=(0,s.A)(f,2),v=p[0],m=p[1],j=(0,i.useCallback)((function(){l.applyUpdate()}),[l]),y=ht(),k=(0,s.A)(y,3),b=k[0],R=k[1],w=k[2],S=(0,o.wA)(),C="",A="",F=0;R?(C=a.Ru.get("page.loading"),A=a.Ru.get("page.loading")):w||null===b?(C=a.Ru.get("error.generic"),A=a.Ru.get("error.generic")):(F=b.currentSizeMB-b.currentLockedSizeMB,C=" ".concat(F," MB"),A=" ".concat(b.currentLockedSizeMB," MB"));var N=t.values["storage.location"];return(0,x.jsxs)(M,{filterMatchQuery:a.Ru.get("desktop.settings.storage"),children:[(0,x.jsx)(Q,{children:a.Ru.get("desktop.settings.storage")}),(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.storage.downloads.heading"),children:[(0,x.jsx)(h.q,{children:(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{children:[(0,x.jsx)(c.W,{htmlFor:"desktop.settings.downloads",semanticColor:"textBase",children:a.Ru.get("desktop.settings.storage.downloads.heading")}),(0,x.jsx)(c.W,{htmlFor:"desktop.settings.downloads",children:A})]}),(0,x.jsx)(c.W,{htmlFor:"desktop.settings.downloads",children:a.Ru.get("desktop.settings.storage.downloads.text")})]})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(Ne.n,{id:"desktop.settings.downloads",size:"small",onClick:function(){S((0,ut.KB)())},disabled:u||!b||0===b.currentLockedSizeMB,className:ft,children:a.Ru.get("desktop.settings.storage.downloads.button")})})]}),(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.storage.cache.heading"),children:[(0,x.jsx)(h.q,{children:(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{children:[(0,x.jsx)(c.W,{htmlFor:"desktop.settings.cache",semanticColor:"textBase",children:a.Ru.get("desktop.settings.storage.cache.heading")}),(0,x.jsx)(c.W,{htmlFor:"desktop.settings.cache",children:C})]}),(0,x.jsx)(c.W,{htmlFor:"desktop.settings.cache",children:a.Ru.get("desktop.settings.storage.cache.text")})]})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(Ne.n,{id:"desktop.settings.cache",size:"small",onClick:function(){S((0,ut.cd)())},disabled:0===F,className:ft,children:a.Ru.get("desktop.settings.storage.cache.button")})})]}),(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.offlineStorageLocation"),children:[(0,x.jsx)(h.q,{children:(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.offline-storage",semanticColor:"textBase",children:a.Ru.get("desktop.settings.offlineStorageLocation")})}),(0,x.jsx)(c.W,{htmlFor:"desktop.settings.offline-storage",className:pt,children:N})]})}),(0,x.jsxs)(g.n,{children:[(0,x.jsx)(Ne.n,{id:"desktop.settings.offline-storage",size:"small",onClick:(0,E.A)(q().mark((function e(){var s;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.browseForFolder();case 2:(s=e.sent).path&&(n("storage.location",s.path),s.path!==t.values["storage.location"]&&m(!0));case 4:case"end":return e.stop()}}),e)}))),className:ft,children:a.Ru.get("desktop.settings.offlineStorageChangeLocation")}),v&&(0,x.jsx)(at,{onClick:j})]})]})]})},vt=function(e){var t=e.settings,n=e.setValue,s=(0,ct.t)(),r=(0,i.useCallback)((function(){s.applyUpdate()}),[s]),a=t.values;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(De,{settings:t,setValue:n}),(0,x.jsx)(Ge,{settings:t,setValue:n}),(0,x.jsx)(xt,{settings:t,setValue:n}),(0,x.jsx)(lt,{setValue:n,restartContainer:r,mode:a["network.proxy.mode"],addr:a["network.proxy.addr"],user:a["network.proxy.user"],pass:a["network.proxy.pass"]}),(0,x.jsx)(ae,{settings:t,setValue:n})]})},mt=n(91617),jt=n(6914),yt=n(33786);const kt="H6jjgcz7zPs9Aaaa8YIG";var bt=function(e){var t=e.settings.values,n=(0,yt.W)(),i="1"===t["dsa-mode-enabled"],r=(0,mt.t)(),o=(0,jt.K)(r.autoPlay),l=(0,s.A)(o,2),f=l[0].data,p=l[1].mutate;return(0,x.jsxs)(M,{filterMatchQuery:a.Ru.get("desktop.settings.autoplay"),children:[(0,x.jsx)(Q,{className:i?kt:void 0,semanticColor:i?"textSubdued":void 0,children:a.Ru.get("desktop.settings.autoplay")}),(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.autoplayInfo"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"global.settings.autoplayInfo",className:i?kt:void 0,children:i?a.Ru.get("web-player.settings.autoplay-dsa-enabled"):a.Ru.get("desktop.settings.autoplayInfo")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"global.settings.autoplayInfo",value:!!f,onSelected:function(e){n({intent:e?"enable_autoplay":"disable_autoplay",type:"click"}),p(e)},disabled:i})})]})]})},Rt=n(79655),wt=n(36560),St=n(73996),Ct=n(36638),At=n(64142),Mt=function(){var e=(0,Ct.J)(),t=(0,s.A)(e,2),n=t[0],r=t[1],o=(0,At.j)(),l=Z(B.CANVAS_VIDEOS),f=(0,i.useCallback)((function(e){l(e),r(e)}),[r,l]);return(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("settings.canvasVideos"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"settings.canvasVideos",children:a.Ru.get("settings.canvasVideos")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"settings.canvasVideos",value:n,onSelected:f,disabled:o})})]})},Ft=n(98774),Nt=function(){var e=(0,Ft.N)(),t=(0,s.A)(e,2),n=t[0],r=t[1],o=Z(B.NOW_PLAYING_VIEW),l=(0,i.useCallback)((function(e){o(e),r(e)}),[r,o]);return(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("settings.npv"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"settings.npv",children:a.Ru.get("settings.npv")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"settings.npv",value:n,onSelected:l})})]})},Qt=n(74556),Et=function(e){var t,n,s=e.settings.values,i=e.setValue,o=void 0===s.catalogue||"string"==typeof s.catalogue&&"free"===s.catalogue.toLowerCase(),l=(0,Qt.d)(),f=(0,r.NC)(ze.yJ8),p=null==l||null===(t=l.client_capabilities)||void 0===t?void 0:t.can_show_system_media_controls,v=null==l||null===(n=l.client_capabilities)||void 0===n?void 0:n.can_show_track_notifications,m=(0,Rt.AI)(St.Z.BuddyFeed,St.Z.BuddyFeedOverlay),j=m.isActive,y=m.panelSend;return(0,x.jsxs)(M,{filterMatchQuery:a.Ru.get("settings.display"),children:[(0,x.jsx)(Q,{children:a.Ru.get("settings.display")}),(0,x.jsx)(Nt,{}),f!==ze.NtL.CONTROL&&(0,x.jsx)(Mt,{}),!o&&(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("settings.showMusicAnnouncements"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"settings.showMusicAnnouncements",children:a.Ru.get("settings.showMusicAnnouncements")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"settings.showMusicAnnouncements",value:!s["ui.hide_hpto"],onSelected:function(e){i("ui.hide_hpto",!e)}})})]}),v&&(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("settings.showTrackNotifications"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"settings.trackNotifications",children:a.Ru.get("settings.showTrackNotifications")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"settings.trackNotifications",value:!!s["ui.track_notifications_enabled"],onSelected:function(e){i("ui.track_notifications_enabled",e)}})})]}),p&&(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.showSystemMediaControls"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"settings.systemMediaControlsEnabled",children:a.Ru.get("desktop.settings.showSystemMediaControls")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"settings.systemMediaControlsEnabled",value:!!s["ui.system_media_controls_enabled"],onSelected:function(e){i("ui.system_media_controls_enabled",e)}})})]}),(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("buddy-feed.see-what-your-friends-are-playing"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"settings.showFriendActivity",children:a.Ru.get("buddy-feed.see-what-your-friends-are-playing")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"settings.showFriendActivity",value:j,onSelected:function(){y(wt.$S.BUDDY_FEED_BUTTON_CLICK)}})})]})]})},Ot=n(96692),qt=n(73309),Wt=n(67884);const _t="m7e5wHq6US9u3BbLQXEX",Lt="ul4DB6lq_3qO_aCiEbcc";var zt=function(){var e,t=(0,o.wA)(),n=(0,o.d4)(qt.Ht),s=n.locale,r=n.user,a=n.overrides,l=(0,i.useRef)(null),u=(0,i.useRef)(null),c=(0,i.useCallback)((function(e){l.current&&l.current.value&&t((0,Wt.Rv)(e?l.current.value:""))}),[t]),f=(0,i.useCallback)((function(e){u.current&&u.current.value&&t((0,Wt.zf)(e?u.current.value:""))}),[t]),p=(null==a?void 0:a.country)||(null==r?void 0:r.country),v=(null==a?void 0:a.locale)||s;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(d.i,{filterMatchQuery:null!=p?p:"",children:[(0,x.jsx)(h.q,{children:(0,x.jsx)("div",{className:_t,children:(0,x.jsx)(Ot.c,{id:"overrides.country",onChange:function(e){var t=e.target.checked;c(t)},defaultChecked:!(null==a||!a.country),children:(0,x.jsx)(F.E,{variant:"bodySmall",semanticColor:"textSubdued",children:"Country"})})})}),(0,x.jsx)(g.n,{children:(0,x.jsx)("input",{type:"text",id:"overrides.country.input",className:Lt,disabled:!(null!=a&&a.country),ref:l,defaultValue:p,onChange:function(){return c(!0)}})})]}),(0,x.jsxs)(d.i,{filterMatchQuery:null!==(e=null==a?void 0:a.locale)&&void 0!==e?e:"",children:[(0,x.jsx)(h.q,{children:(0,x.jsx)("div",{className:_t,children:(0,x.jsx)(Ot.c,{id:"overrides.locale",onChange:function(e){var t=e.target.checked;f(t)},defaultChecked:!(null==a||!a.locale),children:(0,x.jsx)(F.E,{variant:"bodySmall",semanticColor:"textSubdued",children:"Language"})})})}),(0,x.jsx)(g.n,{children:(0,x.jsx)("input",{type:"text",id:"overrides.locale.input",className:Lt,disabled:!(null!=a&&a.locale),ref:u,defaultValue:v,onChange:function(){return f(!0)}})})]})]})},Tt=n(98e3),It=function(e){var t=e.settings.values,n=e.setValue,r=(0,Tt.Q)(t),o=(0,ct.t)(),l=(0,i.useState)(!1),f=(0,s.A)(l,2),p=f[0],v=f[1],m=(0,i.useCallback)((function(){o.applyUpdate()}),[o]);return r?(0,x.jsxs)(M,{filterMatchQuery:a.Ru.get("settings.employee"),children:[(0,x.jsx)(Q,{children:a.Ru.get("settings.employee")}),(0,x.jsx)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.language-override"),children:(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"",children:a.Ru.get("desktop.settings.language-override")})})}),(0,x.jsx)(zt,{}),(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.enableDeveloperMode"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"settings.developerMode",children:a.Ru.get("desktop.settings.enableDeveloperMode")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"settings.developerMode",value:!!t["app.enable-developer-mode"],onSelected:function(e){n("app.enable-developer-mode",e),v(!0)}})})]}),(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.showChromeToolbar"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"settings.chromiumToolbar",children:a.Ru.get("desktop.settings.showChromeToolbar")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"settings.chromiumToolbar",value:!!t["app.show-chrome-toolbar"],onSelected:function(e){n("app.show-chrome-toolbar",e),v(!0)}})})]}),p&&(0,x.jsx)("div",{children:(0,x.jsx)(at,{onClick:m})})]}):null},Dt=function(e){var t=e.settings.values,n=e.setValue,s="1"===t["lock-filter-explicit-content"],i="0"===t["filter-explicit-content"]||void 0===t["filter-explicit-content"],r=s?a.Ru.get("desktop.settings.explicitContentFilterSettingLocked"):a.Ru.get("desktop.settings.explicitContentFilterSetting");return(0,x.jsxs)(d.i,{filterMatchQuery:r,children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.explicitContentFilter",children:r})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"desktop.settings.explicitContentFilter",disabled:s,value:i,onSelected:function(e){n("filter-explicit-content",e?"0":"1")}})})]})},Vt=function(e){var t=e.settings,n=e.setValue;return(0,x.jsxs)(M,{filterMatchQuery:a.Ru.get("desktop.settings.explicitContentFilter"),children:[(0,x.jsx)(Q,{children:a.Ru.get("desktop.settings.explicitContentFilter")}),(0,x.jsx)(Dt,{settings:t,setValue:n})]})},Pt=n(62269),Kt=function(){var e=(0,ct.t)(),t=(0,mt.t)(),n=(0,jt.K)(t.language),r=(0,s.A)(n,2),o=r[0].data,l=r[1].mutate,u=(0,i.useCallback)((function(){e.applyUpdate()}),[e]);return void 0===o?null:(0,x.jsxs)(M,{filterMatchQuery:a.Ru.get("desktop.settings.language"),children:[(0,x.jsx)(Q,{children:a.Ru.get("desktop.settings.language")}),(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.selectLanguage"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.selectLanguage",children:a.Ru.get("desktop.settings.selectLanguage")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(Ae.C,{dir:"auto",value:o,id:"desktop.settings.selectLanguage",onSelect:l,children:Pt.J2.map((function(e){return(0,x.jsx)("option",{value:e,children:"".concat(Pt.IB[e].displayName," (").concat(Pt.IB[e].displayNameEn,")")},e)}))})})]}),a.Ru.getLocaleForTranslation()!==o?(0,x.jsx)(at,{onClick:u}):null]})},Ht=n(57379),Ut=function(){var e=(0,Ht.y)(),t=(0,s.A)(e,2),n=t[0],i=t[1];return(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("settings.showLocalFiles"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"settings.showLocalFiles",children:a.Ru.get("settings.showLocalFiles")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"settings.showLocalFiles",value:n,onSelected:function(e){i(e)}})})]})},Bt=n(12306),Gt=n(2398),Zt=function(e){return void 0!==e.id};function Yt(e){var t;if(!Zt(e))return e.path;switch(e.id){case Gt.kW.DOWNLOADS:t=a.Ru.get("local-files.source.downloads");break;case Gt.kW.ITUNES:t=a.Ru.get("local-files.source.itunes");break;case Gt.kW.MY_MUSIC:t=a.Ru.get("local-files.source.my_music");break;case Gt.kW.WINDOWS_MUSIC_LIBRARY:t=a.Ru.get("local-files.source.windows_music_library");break;default:t=String(e.id)}return t}var Jt=function(e){var t=e.source,n=e.onAddOrRemoveSource,r=(0,i.useState)(!Zt(t)||t.enabled),a=(0,s.A)(r,2),o=a[0],l=a[1],f=Zt(t)?String(t.id):t.path;return(0,x.jsxs)(d.i,{filterMatchQuery:Yt(t),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"settings.local-files.".concat(f),children:Yt(t)})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"settings.local-files.".concat(f),value:o,onSelected:function(e){l(e),n(t,e)}})})]})},Xt=function(){var e=(0,i.useState)(),t=(0,s.A)(e,2),n=t[0],r=t[1],o=(0,dt.A)(),l=(0,Bt.i)(),u=(0,i.useCallback)((0,E.A)(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,o.getSources();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)}))),[o]);(0,i.useEffect)((function(){u()}),[u]);var c=(0,i.useCallback)((0,E.A)(q().mark((function e(){var t,n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.browseForFolder();case 2:if(t=e.sent,!(n=t.path)){e.next=9;break}return e.next=7,o.addFolder({path:n});case 7:u(),l.say(a.Ru.get("settings.localFilesFolderAdded",n));case 9:case"end":return e.stop()}}),e)}))),[l,o,u]),d=(0,i.useCallback)((function(e,t){e.enabled=t,o.mutateDefaultSource(e)}),[o]),g=(0,i.useCallback)((function(e,t){t?o.addFolder(e):o.removeFolder(e)}),[o]);return(0,x.jsxs)(M,{filterMatchQuery:a.Ru.get("settings.showSongsFrom"),children:[(0,x.jsx)(Q,{children:a.Ru.get("settings.showSongsFrom")}),null==n?void 0:n.defaultSources.map((function(e){return(0,x.jsx)(Jt,{source:e,onAddOrRemoveSource:d},String(e.id))})),null==n?void 0:n.folders.map((function(e){return(0,x.jsx)(Jt,{source:e,onAddOrRemoveSource:g},e.path)})),(0,x.jsx)("div",{children:(0,x.jsx)(Ne.n,{size:"small","aria-label":a.Ru.get("settings.addASource"),onClick:function(){c()},children:a.Ru.get("settings.addASource")})})]})},$t=n(30324),en=n(98538);const tn="x-settings-tooltip",nn="x-settings-tooltipIconWrapper",sn="x-settings-tooltipIcon";var rn=function(e){var t=e.message,n=e.placement,s=void 0===n?"top":n,i=e.messageClassName,r=e.iconClassName,a=e.iconSize,o=void 0===a?"small":a;return(0,x.jsx)("div",{className:tn,children:(0,x.jsx)(en.Zp,{showDelay:0,label:t,placement:s,labelClassName:i,children:(0,x.jsx)("div",{className:y()(nn,r),"aria-label":t,"aria-describedby":en.WO,tabIndex:0,children:(0,x.jsx)($t.N,{size:o,className:sn})})})})};function an(){var e=(0,mt.t)(),t=(0,jt.K)(e.quality.autoAdjustQuality),n=(0,s.A)(t,2),i=n[0].data,r=n[1].mutate;return void 0===i?null:(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.automatic-downgrade.title"),children:[(0,x.jsxs)(h.q,{children:[(0,x.jsx)(c.W,{htmlFor:"desktop.settings.automatic-downgrade",children:a.Ru.get("desktop.settings.automatic-downgrade.title")}),(0,x.jsx)(rn,{message:a.Ru.get("desktop.settings.automatic-downgrade.info")})]}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"desktop.settings.automatic-downgrade",value:i,onSelected:r})})]})}n(4672);var on=n(17873),ln=n(42690);function un(e,t,n,s){var i={configurable:!0,enumerable:!0};return i[e]=s,Object.defineProperty(t,n,i)}var cn=un("get",un("get",un("get",un("get",un("get",un("get",{},Ve.a1.AUTOMATIC,(function(){return a.Ru.get("desktop.settings.streamingQualityAutomatic")})),Ve.a1.LOW,(function(){return a.Ru.get("desktop.settings.streamingQualityLow")})),Ve.a1.MEDIUM,(function(){return a.Ru.get("desktop.settings.streamingQualityNormal")})),Ve.a1.HIGH,(function(){return a.Ru.get("desktop.settings.streamingQualityHigh")})),Ve.a1.VERY_HIGH,(function(){return a.Ru.get("desktop.settings.streamingQualityVeryHigh")})),Ve.a1.LOSSLESS,(function(){return a.Ru.get("web-player.pigeon.audio-quality.lossless")}));function dn(e){var t=e.maxQuality,n=e.formats,s=t===Ve.Qi.LOSSLESS,i=t>=Ve.Qi.VERY_HIGH;return(0,x.jsx)(x.Fragment,{children:n.filter((function(e){switch(e.quality){case Ve.a1.AUTOMATIC:return!s;case Ve.a1.LOW:case Ve.a1.MEDIUM:case Ve.a1.HIGH:return!0;case Ve.a1.VERY_HIGH:return i;case Ve.a1.LOSSLESS:return s;default:return!1}})).map((function(e){var t=e.quality;return(0,x.jsx)("option",{value:t.toString(),children:cn[t]},t)}))})}function gn(){var e=(0,mt.t)(),t=(0,jt.K)(e.quality.downloadAudioQuality),n=(0,s.A)(t,2),i=n[0].data,r=n[1].mutate,o=(0,jt.K)(e.quality.maxSupportedQuality),l=(0,s.A)(o,1)[0].data,u=(0,on.x)();return void 0===i||void 0===l||void 0===u?null:(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.downloadQuality.title"),children:[(0,x.jsxs)(h.q,{children:[(0,x.jsx)(c.W,{htmlFor:"desktop.settings.downloadQuality",children:a.Ru.get("desktop.settings.downloadQuality.title")}),(0,x.jsx)(rn,{message:a.Ru.get("desktop.settings.downloadQuality.info").replace(/(<([^>]+)>)/gi,"")})]}),(0,x.jsx)(g.n,{children:(0,x.jsx)(Ae.C,{id:"desktop.settings.downloadQuality",value:i.toString(),onSelect:function(e){var t=(0,ln.FB)(e);t&&r(t)},children:(0,x.jsx)(dn,{formats:u,maxQuality:l})})})]})}var hn=n(90820),fn=n(35085),pn=n(67837),xn=n(71932),vn=function(){var e=(0,pn.N)(),t=(0,hn.j)().deviceFilterState,n=(0,i.useState)((function(){return e.isNormalizationOverriden()})),r=(0,s.A)(n,2),a=r[0],o=r[1],l=a&&t.isOnboarded;return(0,xn.G)(fn.n.NORMALIZATION_OVERRIDE_DISABLED,(function(){o(!1)})),{isOverriden:l,disableOverride:function(){return e.disableNormalizationOverride()}}},mn=n(87026),jn=n(89907),yn=function(e){return e[e["volume-increase"]=0]="volume-increase",e[e["normalization-turn-off"]=1]="normalization-turn-off",e[e["normalization-turn-on"]=2]="normalization-turn-on",e}({}),kn=function(e){var t=e.type,n=e.onClose,s=e.onConfirm,i=vn().disableOverride,r="Normalisation",a="";switch(t){case yn["volume-increase"]:a="Increasing the volume level while your headphones are optimized may cause occasional distortion.";break;case yn["normalization-turn-off"]:a="Turning off audio normalization while your headphones are optimized may cause audio distortion.";break;case yn["normalization-turn-on"]:a='We\'d recommend changing your volume level to "Quiet" after turning on audio normalization to avoid audio distortion (while your headphones are optimized).';break;default:(0,jn.k)(t)}return(0,x.jsx)(mn.T,{onConfirm:function(){i(),s(),n()},onClose:n,titleText:r,"aria-label":r,descriptionText:a,cancelText:"Cancel",confirmText:"Confirm"})};function bn(e,t,n,s){var i={configurable:!0,enumerable:!0};return i[e]=s,Object.defineProperty(t,n,i)}var Rn=bn("get",bn("get",bn("get",{},Ve.KR.QUIET,(function(){return a.Ru.get("desktop.settings.loudnessQuiet")})),Ve.KR.NORMAL,(function(){return a.Ru.get("desktop.settings.loudnessNormal")})),Ve.KR.LOUD,(function(){return a.Ru.get("desktop.settings.loudnessLoud")}));function wn(){var e=(0,mt.t)(),t=(0,jt.K)(e.quality.normalizeVolume),n=(0,s.A)(t,2),r=n[0].data,o=n[1].mutate,l=(0,jt.K)(e.quality.volumeLevel),f=(0,s.A)(l,2),p=f[0].data,v=function(e,t){var n=vn().isOverriden,r=(0,i.useState)(null),a=(0,s.A)(r,2),o=a[0],l=a[1],u=(0,i.useRef)(null);return{setNormalizeValue:(0,i.useCallback)((function(t){n?(l(t?yn["normalization-turn-on"]:yn["normalization-turn-off"]),u.current=function(){e(t)}):e(t)}),[n,e]),setVolumeLevel:(0,i.useCallback)((function(e){n&&e!==Ve.KR.QUIET?(l(yn["volume-increase"]),u.current=function(){t(e)}):t(e)}),[n,t]),dialog:null!==o?(0,x.jsx)(kn,{type:o,onClose:function(){l(null)},onConfirm:function(){var e;null===(e=u.current)||void 0===e||e.call(u)}}):null}}(o,f[1].mutate),m=v.dialog,j=v.setNormalizeValue,y=v.setVolumeLevel,k=vn().isOverriden;if(void 0===r)return null;var b=k?Ve.KR.QUIET:p;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.normalize"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.normalize",children:a.Ru.get("desktop.settings.normalize")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"desktop.settings.normalize",value:!!r,onSelected:j})})]}),(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.loudnessEnvironment_with_limiter_details"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.loudnessEnvironment",children:a.Ru.get("desktop.settings.loudnessEnvironment_with_limiter_details")})}),(0,x.jsx)(g.n,{children:(0,x.jsxs)(Ae.C,{id:"desktop.settings.loudnessEnvironment",disabled:!r,value:b,onSelect:function(e){var t=(0,ln.dt)(e);null!==t&&y(t)},children:[(0,x.jsx)("option",{value:Ve.KR.QUIET,children:Rn[Ve.KR.QUIET]}),(0,x.jsx)("option",{value:Ve.KR.NORMAL,children:Rn[Ve.KR.NORMAL]}),(0,x.jsx)("option",{value:Ve.KR.LOUD,children:Rn[Ve.KR.LOUD]})]})})]}),m]})}var Sn=n(7328),Cn=n(51072),An=n(78253);const Mn="teokJIHsNR2G8sc4ne4S";function Fn(){var e=(0,mt.t)(),t=(0,An.d)().enqueueSnackbar,n=(0,Cn.K)(Cn.X.VeryHighQualityAudio),r=(0,jt.K)(e.quality.streamingQuality),o=(0,s.A)(r,2),l=o[0].data,u=o[1].mutate,f=(0,jt.K)(e.quality.maxSupportedQuality),p=(0,s.A)(f,1)[0].data,v=(0,on.x)();return(0,i.useEffect)((function(){n&&t(a.Ru.get("web-player.feature-activation-shelf.audio_quality_toast_message"))}),[n,t]),void 0===l||void 0===p||void 0===v?null:(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.streamingQuality"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.streamingQuality",children:a.Ru.get("desktop.settings.streamingQuality")})}),(0,x.jsxs)(g.n,{children:[(0,x.jsx)(Ae.C,{id:"desktop.settings.streamingQuality",value:l.toString(),onSelect:function(e){var t=(0,ln.FB)(e);t&&u(t)},children:(0,x.jsx)(dn,{formats:v,maxQuality:p})}),n?(0,x.jsx)(Sn.Z,{className:Mn}):null]})]})}var Nn=function(){return(0,x.jsxs)(M,{filterMatchQuery:a.Ru.get("desktop.settings.musicQuality"),children:[(0,x.jsx)(Q,{children:a.Ru.get("desktop.settings.musicQuality")}),(0,x.jsx)(Fn,{}),(0,x.jsx)(gn,{}),(0,x.jsx)(an,{}),(0,x.jsx)(wn,{})]})},Qn=n(94077),En=n(46908),On=n(83104),qn=n(13151),Wn=function(){var e=function(){var e,t,n,s=(0,W.jE)(),r=(0,o.d4)(qt.Ht).user,l=null!==(e=null==r?void 0:r.uri)&&void 0!==e?e:"",u=(0,An.d)().enqueueSnackbar,c=(0,qn.Z)(On.kp,[{uri:l}]),d=c.data,g=c.queryKey,h=(0,i.useCallback)(function(){var e=(0,E.A)(q().mark((function e(t){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.showFollows,e.next=3,(0,On.gN)(En.n.getInstance(),{uri:l,showFollows:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[l]),f=(0,L.n)({mutationFn:h,onMutate:(n=(0,E.A)(q().mark((function e(t){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.cancelQueries({queryKey:g});case 2:return n=s.getQueryData(g),s.setQueryData(g,t),e.abrupt("return",{prevState:n,newState:t});case 5:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onError:function(e,t,n){s.setQueryData(g,null==n?void 0:n.prevState),u(a.Ru.get("error.generic"))},onSettled:function(){s.invalidateQueries({queryKey:g})}});return[null===(t=null==d?void 0:d.showFollows)||void 0===t||t,f.mutate]}(),t=(0,s.A)(e,2),n=t[0],r=t[1];return(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.showFollows"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.showFollows",children:a.Ru.get("desktop.settings.showFollows")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"desktop.settings.showFollows",value:n,onSelected:function(e){return r({showFollows:e})}})})]})},_n=n(85063),Ln=n(93833);var zn=_n.tv.CONNECTION_STATE_CHANGE;function Tn(){var e=(0,Ln.N)(_n._7),t=(0,i.useState)(null),n=(0,s.A)(t,2),r=n[0],a=n[1],o=(0,i.useCallback)((function(t){e.connect(t)}),[e]),l=(0,i.useCallback)((function(){e.disconnect()}),[e]);return(0,i.useEffect)((function(){return e.addListener(zn,(function(e){a(e.data)}))}),[e,a]),[r,o,l]}const In="AdlLcqW4qEqJzOzM4IzX";var Dn=function(e){var t=e.settings.values,n=e.setValue,o=Tn(),l=(0,s.A)(o,3),f=l[0],p=l[1],v=l[2],m=(0,r.NC)(ze.Rww,{loadingValue:!1}),j=(0,i.useCallback)((function(){null!=f&&f.connection?v():p({window:{width:Math.max(800,window.outerWidth-100),height:Math.max(600,window.outerHeight-100)}})}),[f,p,v]);if(!(void 0!==t["publish-playlist"]&&void 0!==t["incognito-enabled"]))return null;var y=!!t["incognito-enabled"];return(0,x.jsxs)(M,{filterMatchQuery:a.Ru.get("desktop.settings.social"),children:[(0,x.jsx)(Q,{children:a.Ru.get("desktop.settings.social")}),(null==f?void 0:f.show_connect_option)&&(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.facebook"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.facebook",children:a.Ru.get("desktop.settings.facebook")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(Ne.n,{id:"desktop.settings.facebook",size:"small",className:In,onClick:j,iconLeading:Qn.G,children:!0===f.connection?a.Ru.get("desktop.settings.facebook.disconnect"):a.Ru.get("desktop.settings.facebook.connect")})})]}),(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.newPlaylistsPublic"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.newPlaylistsPublic",children:a.Ru.get("desktop.settings.newPlaylistsPublic")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"desktop.settings.newPlaylistsPublic",value:"1"===t["publish-playlist"],onSelected:function(e){n("publish-playlist",e?"1":"0")}})})]}),(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.privateSession"),children:[(0,x.jsxs)(h.q,{children:[(0,x.jsx)(c.W,{htmlFor:"desktop.settings.privateSession",children:a.Ru.get("desktop.settings.privateSession")}),(0,x.jsx)(rn,{message:a.Ru.get("desktop.settings.privateSession.tooltip")})]}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"desktop.settings.privateSession",value:!!t["incognito-enabled"],onSelected:function(e){n("incognito-enabled",e)}})})]}),(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.publishActivity"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.publishActivity",children:a.Ru.get("desktop.settings.publishActivity")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"desktop.settings.publishActivity",disabled:y,value:"0"!==t["publish-activity"],onSelected:function(e){n("publish-activity",e?"1":"0")}})})]}),(0,x.jsxs)(d.i,{filterMatchQuery:a.Ru.get("desktop.settings.publishTopArtists"),children:[(0,x.jsx)(h.q,{children:(0,x.jsx)(c.W,{htmlFor:"desktop.settings.publishTopArtists",children:a.Ru.get("desktop.settings.publishTopArtists")})}),(0,x.jsx)(g.n,{children:(0,x.jsx)(u.l,{id:"desktop.settings.publishTopArtists",disabled:y,value:"1"===t["public-toplist"],onSelected:function(e){n("public-toplist",e?"1":"0")}})})]}),m&&(0,x.jsx)(Wn,{})]})},Vn=n(13950),Pn=function(){var e=(0,Vn.t0)(),t=e.settings,n=e.setValue,a=(0,i.useRef)(null),o=(0,Ht.y)(),l=(0,s.A)(o,1)[0],u=(0,r.NC)(ze.YSK),c=(0,r.NC)(ze.AEN);return(0,x.jsxs)(ee,{outerRef:a,children:[(0,x.jsx)(re,{containerRef:a}),(0,x.jsx)(Kt,{}),u?(0,x.jsx)(U,{sectionAbove:(0,x.jsx)(Dt,{settings:t,setValue:n})}):(0,x.jsx)(Vt,{settings:t,setValue:n}),(0,x.jsx)(bt,{settings:t,setValue:n}),(0,x.jsx)(Nn,{}),(0,x.jsxs)(X,{children:[!c&&(0,x.jsx)(J,{}),(0,x.jsx)(Ut,{})]}),l?(0,x.jsx)(Xt,{}):null,(0,x.jsx)(Et,{settings:t,setValue:n}),(0,x.jsx)(Dn,{settings:t,setValue:n}),(0,x.jsx)(vt,{settings:t,setValue:n}),(0,x.jsx)(It,{settings:t,setValue:n})]})};const Kn=Pn},51072:(e,t,n)=>{n.d(t,{X:()=>r.X,K:()=>i});n(79024),n(43379),n(2823),n(97460),n(29426),n(93577),n(54520),n(91531),n(93678),n(34145);var s=n(90543);function i(e){var t=(0,s.zy)().search;return new URLSearchParams(t).get("feature-activation")===e}var r=n(94347)},94347:(e,t,n)=>{n.d(t,{X:()=>s});var s=function(e){return e.SmartShuffle="smart-shuffle",e.GroupSessions="group-sessions",e.Blend="blend",e.CollaborativePlaylists="collaborative-playlists",e.Dj="dj",e.VeryHighQualityAudio="very-high-quality-audio",e.LiveEvents="live-events",e}({})},90820:(e,t,n)=>{n.d(t,{j:()=>p});var s=n(5904),i=n(64501),r=n.n(i),a=(n(43379),n(51234),n(30758)),o=n(88610),l=n(44671),u=n(76027),c=n(93061),d=n(67837),g=n(35085),h=n(71932);var f={headphoneDevice:null,audioDevice:null,predictedState:null,isOnboarded:!1,currentState:{externalizationEnabled:!1,specificEnabled:!1},contentRestrictions:{specificRestricted:!1,externalizationRestricted:!1,processingCapabilitiesRestricted:!1},toggleTuneHeadphones:null,toggleTuneStudio:null,setFilterState:function(){return Promise.resolve()}},p=function(){var e,t,n=(0,d.N)(),i=(0,o.jE)(),p=(0,c.l)(),x=(0,a.useMemo)((function(){return["puffin-current-device"]}),[]),v=(0,l.I)({queryKey:x,queryFn:(e=(0,s.A)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getFilterState();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)}),gcTime:5e3,staleTime:5e3}),m=v.data,j=v.isLoading,y=v.isError;return t=function(){i.invalidateQueries({queryKey:x})},(0,h.G)(g.n.UPDATE,t),{deviceFilterState:!p&&m||f,isMaybeHeadphoneDevice:(0,u.lS)(null==m?void 0:m.audioDevice),isLoading:j,isError:y}}},17873:(e,t,n)=>{n.d(t,{x:()=>r});var s=n(44671),i=n(91617);function r(){var e=(0,i.t)();return(0,s.I)({queryKey:["settings-formats"],queryFn:function(){return e.quality.getFormats()},gcTime:36e5,staleTime:6e5}).data}},74556:(e,t,n)=>{n.d(t,{d:()=>r});var s=n(30758),i=n(48104),r=function(){return(0,s.useContext)(i.D)}},71932:(e,t,n)=>{n.d(t,{G:()=>r});var s=n(30758),i=n(67837);function r(e,t){var n=(0,s.useRef)(t),r=(0,i.N)();n.current=t,(0,s.useEffect)((function(){var t=r.getFiltersEvents();return null==t?void 0:t.addListener(e,(function(e){n.current(e)}))}),[e,r])}}}]);
//# sourceMappingURL=xpui-routes-desktop-settings.js.map