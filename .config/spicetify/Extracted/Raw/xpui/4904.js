"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[4904],{84904:(e,t,r)=>{r.d(t,{z2:()=>ae});r(7651),r(30456),r(26701),r(37417),r(11737),r(51691),r(702),r(5672),r(43379),r(34192),r(88856),r(51565),r(18316);var a=r(51488),n=r(48),i=(r(76588),r(30758)),o=r(97500),s=r.n(o),l=r(41487),c=r(71523),u=r(15057),f=r(33246);function h(e,t,r){var a=e.current;if(null===a)return 0;var n=a.getBoundingClientRect();return"vertical"===r?1-Math.max(0,Math.min((t.clientY-n.top)/n.height,1)):Math.max(0,Math.min((t.clientX-n.left)/n.width,1))}r(23739);var d=r(90292),g=r(65277),v=(r(75380),r(47994),r(58795),r(4630));var m=20,p=[{name:"dark",frames:m},{name:"normal",frames:m},{name:"dark",frames:m},{name:"normal",frames:m},{name:"dark",frames:320},{name:"dark",frames:80,isStartOfFlashlightEnter:!0},{name:"flashlight-on",frames:m},{name:"dark",frames:m},{name:"flashlight-on",frames:m},{name:"dark",frames:40},{name:"flashlight-on",isInfinite:!0},{name:"dark",frames:m,isStartOfExit:!0},{name:"flashlight-on",frames:m},{name:"dark",frames:m},{name:"flashlight-on",frames:m},{name:"dark",frames:m},{name:"normal",isInfinite:!0,isEndOfExit:!0}],b=200;function y(e,t){var r=document.createElement("canvas"),a=r.getContext("2d");if(null===a)return null;var n=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),i=b;return r.width=n/1.5+2*i,r.height=n+2*i,a.translate(i,i),{canvas:r,context:a,width:r.width-2*i,height:r.height-2*i,padding:i}}function w(e,t,r,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=a/2*Math.PI/180,o=r/Math.cos(i),s=Math.sin(i)*o*2;e.beginPath(),e.moveTo((t-s)/2,n),e.lineTo(t/2,n+r),e.lineTo((t-s)/2+s,n),e.closePath()}function S(e,t){var r=function(e,t){var r=(0,i.useMemo)((function(){var e=new Image;return e.src=(0,v.b)("images/stranger-things-nether-bottom-left.png"),e}),[]),a=(0,i.useMemo)((function(){var e=new Image;return e.src=(0,v.b)("images/stranger-things-nether-bottom-right.png"),e}),[]);return function(n){if(a){var i=e-a.naturalWidth,o=t-a.naturalHeight;n.drawImage(a,0,0,a.naturalWidth,a.naturalHeight,i,o,a.naturalWidth,a.naturalHeight)}if(r){var s=t-r.naturalHeight;n.drawImage(r,0,0,r.naturalWidth,r.naturalHeight,0,s,r.naturalWidth,r.naturalHeight)}}}(e,t),a=(0,i.useState)(A(e,t)),n=(0,c.A)(a,2),o=n[0],s=n[1],l=(0,i.useState)(O(e,t)),u=(0,c.A)(l,2),f=u[0],h=u[1];return(0,i.useEffect)((function(){s(A(e,t)),h(O(e,t))}),[e,t]),function(a,n,i,s){if(o&&f){var l=i/100,c=n.left+n.width*l,u=n.top+n.height/2,h=0;h=l>.5?(l-.5)/.5*-60:60-l/.5*60;var d=o.width,g=o.height,v=-o.width/2,m=-o.height,b=d,y=g;a.save(),a.fillStyle="rgba(0, 0, 0, 0.85)",a.fillRect(0,0,e,t);var w=a.createLinearGradient(e/2,0,e/2,t);w.addColorStop(0,"rgba(57, 139, 216, 0.3)"),w.addColorStop(1,"rgba(0, 29, 62, 0.15)"),a.fillStyle=w,a.fillRect(0,0,e,t),"flashlight-on"===p[s].name?(a.save(),a.translate(c,u),a.rotate(h*Math.PI/180),a.globalCompositeOperation="destination-out",a.drawImage(o,0,0,d,g,v,m+100,b,y),a.restore(),r(a),a.save(),a.translate(c,u),a.rotate(h*Math.PI/180),a.globalCompositeOperation="source-over",a.drawImage(f,0,0,d,g,v,m+100,b,y),a.restore()):r(a),a.restore()}}}function A(e,t){var r=y(e,t);if(!r)return null;var a=r.canvas,n=r.context,i=r.width,o=r.height,s=r.padding,l=n.createLinearGradient(i/2,0,i/2,o);l.addColorStop(0,"rgba(0, 0, 0, 1)"),l.addColorStop(1,"rgba(0, 0, 0, 0)");var c=n.createLinearGradient(i/2,0,i/2,o);return c.addColorStop(.7,"rgba(0, 0, 0, 1)"),c.addColorStop(1,"rgba(0, 0, 0, 0)"),n.save(),n.fillStyle="rgba(0, 0, 0, 1)",w(n,i,o,30,120),n.filter="blur(10px)",n.fill(),n.restore(),n.globalCompositeOperation="destination-out",n.fillStyle=c,n.fillRect(-s,-s,i+2*s,o+2*s),n.globalCompositeOperation="source-over",n.fillStyle="rgba(0, 0, 0, 1)",w(n,i,o,5,40),n.filter="blur(30px)",n.fill(),n.fillStyle="rgba(0, 0, 0, 1)",w(n,i,o,30,80),n.filter="blur(40px)",n.fill(),n.restore(),n.globalCompositeOperation="destination-out",n.fillStyle=l,n.fillRect(-s,-s,i+2*s,o+2*s),a}function O(e,t){var r=y(e,t);if(!r)return null;var a=r.canvas,n=r.context,i=r.width,o=r.height,s=r.padding;n.save(),n.fillStyle="rgba(80, 170, 255, 0.6)",w(n,i,o,30,120),n.filter="blur(10px)",n.fill(),n.restore();var l=n.createLinearGradient(i/2,0,i/2,o);l.addColorStop(.7,"rgba(0, 0, 0, 1)"),l.addColorStop(1,"rgba(0, 0, 0, 0)"),n.globalCompositeOperation="destination-out",n.fillStyle=l,n.fillRect(-s,-s,i+2*s,o+2*s),n.globalCompositeOperation="source-over",n.fillStyle="rgba(80, 170, 255, 0.8)",w(n,i,o,5,40),n.filter="blur(30px)",n.fill(),n.fillStyle="rgba(80, 170, 255, 0.4)",w(n,i,o,30,150),n.filter="blur(40px)",n.fill(),n.restore(),n.save(),n.translate(i/2,o-140),n.scale(1,10),n.fillStyle="rgba(198, 238, 251, 0.2)",n.filter="blur(24px)",n.beginPath(),n.arc(0,0,22,0,2*Math.PI),n.fill(),n.fillStyle="rgba(234, 255, 255, 0.2)",n.filter="blur(18px)",n.beginPath(),n.arc(0,0,20,0,2*Math.PI),n.fill(),n.restore(),n.save(),n.translate(i/2,o-70),n.scale(1,5),n.fillStyle="rgba(198, 238, 251, 0.1)",n.filter="blur(14px)",n.beginPath(),n.arc(0,0,18,0,2*Math.PI),n.fill(),n.fillStyle="rgba(234, 255, 255, 0.1)",n.filter="blur(8px)",n.beginPath(),n.arc(0,0,20,0,2*Math.PI),n.fill(),n.restore(),n.fillStyle="rgba(100, 190, 255, 1)",n.filter="blur(22px)",n.beginPath(),n.arc(i/2,o+100,20,0,2*Math.PI),n.fill(),n.fillStyle="rgba(198, 238, 251, 1)",n.filter="blur(4px)",n.beginPath(),n.arc(i/2,o+100,14,0,2*Math.PI),n.fill(),n.fillStyle="rgba(234, 255, 255, 1)",n.filter="blur(1px)",n.beginPath(),n.arc(i/2,o+100,12,0,2*Math.PI),n.fill();var c=n.createLinearGradient(i/2,0,i/2,o);return c.addColorStop(0,"rgba(0, 0, 0, 1)"),c.addColorStop(1,"rgba(0, 0, 0, 0)"),n.globalCompositeOperation="destination-out",n.fillStyle=c,n.fillRect(-s,-s,i+2*s,o+2*s),n.globalCompositeOperation="source-over",a}var x=100,P=[{size:6,alpha:.5},{size:6,alpha:.4},{size:12,alpha:.3},{size:12,alpha:.3},{size:12,alpha:.3},{size:14,alpha:.2},{size:20,alpha:.2},{size:30,alpha:.2},{size:40,alpha:.1}],M=64,E=8,k=2;function I(e,t){var r=(0,i.useMemo)((function(){var e=new Image;return e.src=(0,v.b)("images/stranger-things-spores.png"),e}),[]),a=(0,i.useState)(C(e,t)),n=(0,c.A)(a,2),o=n[0],s=n[1];return(0,i.useEffect)((function(){o?function(e,t,r){e.forEach((function(e){e.x=Math.random()*t,e.y=Math.random()*r}))}(o,e,t):s(C(e,t))}),[e,t,o]),function(a){null!==r&&o.forEach((function(n){n.x-=n.directionX*n.velocityX,n.y-=n.directionY*n.velocityY,n.y>t+10?(n.x=Math.random()*e,n.y=-10):n.x<-10&&(n.x=e+10,n.y=Math.random()*t);var i=n.spriteSheetX,o=n.spriteSheetY,s=M,l=M,c=n.x-n.size/2,u=n.y-n.size/2,f=n.size,h=n.size;a.save(),a.globalAlpha*=n.alpha,a.drawImage(r,i,o,s,l,c,u,f,h),a.restore()}))}}function C(e,t){for(var r=[],a=0;a<x;a++){var n=Math.floor(Math.random()*P.length),i=Math.floor(Math.random()*E),o=Math.floor(Math.random()*k),s=P[n].size,l=P[n].alpha;r.push({alpha:l,size:s,spriteSheetX:i*M,spriteSheetY:o*M,x:Math.random()*e,y:Math.random()*t,directionX:Math.random()>.5?1:-1,directionY:Math.random()>.5?1:-1,velocityX:s/300,velocityY:s/400})}return r}var T=r(63318),j=r(65968),D=(r(40122),r(60287),function(){return(0,j.A)((function e(){var t=this;(0,T.A)(this,e),(0,a.A)(this,"_subscribers",[]),(0,a.A)(this,"_active",!1),(0,a.A)(this,"_onActivity",(function(){t._subscribers.forEach((function(e){t._active||(t._active=!0,e.fn(t._active)),clearTimeout(e.inactiveTimeout),e.inactiveTimeout=setTimeout((function(){t._active=!1,e.fn(t._active)}),e.msInactive)}))}))}),[{key:"unsubscribeToActivity",value:function(e){var t=this._subscribers.findIndex((function(t){return t.fn===e}));-1!==t&&(clearTimeout(this._subscribers[t].inactiveTimeout),this._subscribers.splice(t,1))}},{key:"subscribeToActivity",value:function(e,t){this._subscribers.push({fn:t,msInactive:e,isActive:!1})}},{key:"enableActivityMonitor",value:function(){window.addEventListener("mousemove",this._onActivity),window.addEventListener("mouseup",this._onActivity),window.addEventListener("keydown",this._onActivity),window.addEventListener("scroll",this._onActivity,!0)}},{key:"disableActivityMonitor",value:function(){window.removeEventListener("mousemove",this._onActivity),window.removeEventListener("mouseup",this._onActivity),window.removeEventListener("keydown",this._onActivity),window.removeEventListener("scroll",this._onActivity,!0),this._subscribers.forEach((function(e){return clearTimeout(e.inactiveTimeout)})),this._subscribers=[]}}])}()),_=function(){return(0,j.A)((function e(){(0,T.A)(this,e),(0,a.A)(this,"frame",0),(0,a.A)(this,"lastPhaseFrame",0),(0,a.A)(this,"phase",0),(0,a.A)(this,"animationFrameRequestId",null),(0,a.A)(this,"flickerTimerId",null),(0,a.A)(this,"isPlaying",!0)}),[{key:"start",value:function(){var e=this;this.lastPhaseFrame=this.frame,this.phase=0;var t=function(){return setTimeout((function(){e.flickerTimerId=t(),e.isPlaying&&p[e.phase].isInfinite&&e.setPhase(p.findIndex((function(e){return e.isStartOfFlashlightEnter})))}),15e3*Math.random()+5e3)};this.flickerTimerId=t()}},{key:"stop",value:function(){var e=p.findIndex((function(e){return e.isStartOfExit}));this.phase<e&&this.setPhase(e),null!==this.flickerTimerId&&clearTimeout(this.flickerTimerId)}},{key:"setPhase",value:function(e){this.lastPhaseFrame=this.frame,this.phase=e}}])}();const F="TNGv07zrye9gB_3ukweR";var R=r(86070),z=function(e){var t=e.getPercentage,r=e.isDragging,a=void 0!==r&&r,n=e.isPlayingStrangerThings,o=void 0!==n&&n,s=e.progressBar,l=(0,i.useMemo)((function(){return new D}),[]),u=(0,i.useMemo)((function(){return new _}),[]),f=(0,i.useRef)(null),h=(0,i.useState)(null),d=(0,c.A)(h,2),g=d[0],v=d[1],m=(0,i.useState)(window.innerHeight),b=(0,c.A)(m,2),y=b[0],w=b[1],A=(0,i.useState)(window.innerWidth),O=(0,c.A)(A,2),x=O[0],P=O[1],M=(0,i.useState)(!1),E=(0,c.A)(M,2),k=E[0],C=E[1],T=(0,i.useState)(!1),j=(0,c.A)(T,2),z=j[0],L=j[1],q=I(x,y),N=S(x,y),W=(0,i.useCallback)((function(e){!a&&o&&(e?u.stop():(u.start(),L(!0)))}),[a,o,u]),B=(0,i.useCallback)((function(){o&&(u.setPhase(p.findIndex((function(e){return e.isStartOfFlashlightEnter}))),L(!0))}),[o,u]),Y=(0,i.useCallback)((function(){u.stop()}),[u]),X=(0,i.useCallback)((function(){if(z){C(!1);var e=window.innerHeight,t=window.innerWidth;P(t),w(e)}else C(!0)}),[z]),H=(0,i.useCallback)((function(){if(f.current){var e=u.frame,r=u.lastPhaseFrame,a=u.phase;if(u.frame=e+1,p[a].isEndOfExit)L(!1);else{if(p[a].isInfinite||e-r===p[a].frames&&u.setPhase(a+1),f.current.width=x,f.current.height=y,"normal"!==p[a].name){var n=f.current.getContext("2d");if(!n||!g)return;var i=t();N(n,g,i,a),q(n)}u.animationFrameRequestId=requestAnimationFrame(H)}}}),[y,x,N,q,t,g,u]);return(0,i.useEffect)((function(){window.addEventListener("resize",X);var e=l;return e.enableActivityMonitor(),e.subscribeToActivity(5e3,W),function(){window.removeEventListener("resize",X),e.disableActivityMonitor(),e.unsubscribeToActivity(W)}}),[l,W,X]),(0,i.useEffect)((function(){o||u.stop()}),[o,u]),(0,i.useEffect)((function(){a?B():a||Y()}),[a,B,Y]),(0,i.useEffect)((function(){z?(k&&X(),u.animationFrameRequestId=requestAnimationFrame(H)):u.animationFrameRequestId&&cancelAnimationFrame(u.animationFrameRequestId)}),[z,H,X,k,u]),(0,i.useEffect)((function(){s.current&&v(s.current.getBoundingClientRect())}),[x,y,s]),z?(0,R.jsx)("canvas",{className:F,ref:f,width:x,height:y}):null},L=r(49093);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}var N=function(e){return(0,g.NC)(L.c3z,{loadingValue:!1})&&e.isPlayingStrangerThings?(0,R.jsx)(z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)):null},W=r(44618);const B="playback-progressbar",Y="playback-progressbar-isInteractive",X="progress-bar",H="x-progressBar-progressBarBg",G="x-progressBar-sliderArea",U="oShi2lRbnhFkEr2LlUqC",V="ZqlJ1uWjMeen9ye7Y7GC",Z="x-progressBar-fillColor",Q="VI_bMRxDl9fS6qksct7W",K="sW0M_K97doEB3B4Ts58i",J="progress-bar--isDragging",$="progress-bar__slider";var ee=["value","max","step","labelText","isInteractive","forceActiveStyles","onDragStart","onDragMove","onDragEnd","onStepForward","onStepBackward","saberConfig","isPlayingStrangerThings","isAttackOnTitanEasterEggActive","direction","enableAnimation","updateFrequency","offFrequencyUpdate","className"];function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae=function(e){var t=e.value,r=e.max,o=e.step,g=e.labelText,v=e.isInteractive,m=void 0===v||v,p=e.forceActiveStyles,b=void 0!==p&&p,y=e.onDragStart,w=e.onDragMove,S=e.onDragEnd,A=e.onStepForward,O=e.onStepBackward,x=e.saberConfig,P=void 0===x?null:x,M=e.isPlayingStrangerThings,E=void 0!==M&&M,k=e.isAttackOnTitanEasterEggActive,I=e.direction,C=void 0===I?"horizontal":I,T=e.enableAnimation,j=e.updateFrequency,D=e.offFrequencyUpdate,_=e.className,F=(0,n.A)(e,ee),z=(0,i.useRef)(null),L=function(e){var t=e.progressBarRef,r=e.onDragStart,a=e.onDragMove,n=e.onDragEnd,o=e.direction,s=void 0===o?"horizontal":o,l=(0,i.useState)(!1),d=(0,c.A)(l,2),g=d[0],v=d[1],m=(0,i.useRef)(!1),p=(0,f.ZY)(),b=(0,i.useRef)(r),y=(0,i.useRef)(a),w=(0,i.useRef)(n);b.current=r,y.current=a,w.current=n;var S=(0,u.YQ)((function(e){y.current(h(t,e,s)),m.current=!0}),20,{leading:!0,maxWait:20});return{isDragging:g,onMouseDown:(0,i.useCallback)((function(e){0===e.button&&(b.current(h(t,e,s)),v(!0),null==p||p.addEventListener("pointermove",S),null==p||p.addEventListener("pointerup",(function(e){v(!1),S.cancel(),w.current(h(t,e,s),{wasDraggedBeforeReleased:m.current}),null==p||p.removeEventListener("pointermove",S),m.current=!1}),{once:!0}),m.current=!1)}),[S,t,s,p])}}({progressBarRef:z,onDragStart:y,onDragMove:w,onDragEnd:S,direction:C}),q=L.isDragging,te=L.onMouseDown,ae=m?100*Math.max(0,Math.min(1,t/r)):0,ne=b||q,ie=m&&null!==P,oe=m&&!(0,W.n)(),se=function(e){var t=e.onStepForward,r=e.onStepBackward,a=e.value;return(0,u.YQ)((function(e){parseFloat(e.target.value)>a?null==t||t():null==r||r()}),100,{trailing:!1,leading:!0,maxWait:200})}({onStepForward:A,onStepBackward:O,value:t}),le=(0,i.useCallback)((function(){return ae}),[ae]),ce=(0,f.ZY)(),ue=(0,i.useRef)(null==ce?void 0:ce.visibilityState),fe=null==ce?void 0:ce.visibilityState,he=q||D||"hidden"===fe||"hidden"===ue.current||0===t;ue.current=fe;var de=T?U:"";return(0,R.jsxs)("div",{className:s()(B,_,(0,a.A)((0,a.A)({},Y,m),V,he)),"data-testid":F["data-testid"],children:[(0,R.jsx)(l.o,{disabled:!m,type:"range",min:0,max:r,value:t,step:o,onChange:se,"aria-valuetext":F["aria-valuetext"],children:g}),(0,R.jsxs)("div",{className:s()(X,(0,a.A)((0,a.A)({},Q,null!==P),J,ne)),style:re(re({},ie?P:null),{},{"--progress-bar-transform":"".concat(ae,"%"),"--progress-bar-duration":"".concat(Number(j),"ms")},k?{"--fg-color":d.q,"--is-active-fg-color":d.q}:null),onPointerDown:te,"data-testid":"progress-bar",children:[ie?(0,R.jsx)("div",{className:K,"data-testid":"progress-bar-saber-overlay"}):null,(0,R.jsxs)("div",{ref:z,className:H,"data-testid":"progress-bar-background",children:[(0,R.jsx)("div",{className:G,children:(0,R.jsx)("div",{className:s()(Z,de)})}),(0,R.jsx)("div",{className:s()($,de)})]}),oe&&(0,R.jsx)("div",{style:{width:"100%"},children:(0,R.jsx)(N,{getPercentage:le,progressBar:z,isPlayingStrangerThings:E,isDragging:q})})]})]})}},90292:(e,t,r)=>{r.d(t,{q:()=>s,O:()=>l});var a=r(65277),n=r(49093),i=r(34871),o="spotify:playlist:37i9dQZF1DWXkVfVmXHa7l",s="#D4000E";function l(){var e=(0,a.NC)(n.Aem,{loadingValue:!1}),t=(0,i.l_)(o).isActive;return e&&t}}}]);
//# sourceMappingURL=4904.js.map