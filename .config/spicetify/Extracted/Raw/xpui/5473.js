"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5473,1982,9984],{61424:(e,t,n)=>{n.d(t,{U:()=>s});var i=n(92107),r=n(41366),a=n(80021),o=n(86070),s=function(e){var t=e.menu,n=e.onClick,s=e["aria-label"];return(0,o.jsx)(a.b,{menu:t,children:(0,o.jsx)(r.e,{size:r.M.xs,label:i.Ru.get("more"),ariaLabel:s,onClick:n})})}},20814:(e,t,n)=>{n.d(t,{n:()=>l});var i=n(52542),r=n(13734),a=(n(7651),n(83234),n(30456),n(26701),n(37417),n(11737),n(51691),n(702),n(5672),n(43379),n(34192),n(88856),n(51565),n(18316),n(2648)),o=n(17011),s=n(86070),d=["icon","activeIcon","label","isActive"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){var t=e.icon,n=e.activeIcon,i=e.label,c=e.isActive,l=(0,r.A)(e,d);return(0,s.jsx)(o.Zp,{label:i,children:(0,s.jsx)(a.H,u({"aria-label":"".concat(i,", ").concat(c?"selected":"unselected",", button"),"aria-pressed":c,semanticColor:c?"textBrightAccent":"textSubdued",iconOnly:c?n:t,"aria-haspopup":"menu",size:"small"},l))})}},17144:(e,t,n)=>{n.d(t,{I:()=>u});var i=n(30758),r=n(96234),a=n(13534),o=n(80366),s=n(93051),d=n(83990),c=n(86070),u=function(e){var t,n=e.uri,u=e.title,l=e.clickUrl,v=e.onClick,f=e.variant,m=e.semanticColor,p=e.testid,x=void 0===p?"ad-link":p,j=(0,i.useMemo)((function(){var e;return null===(e=(0,o.o_)(l))||void 0===e?void 0:e.toURLPath(!0)}),[l]);return j?t=(0,c.jsx)(s.N,{to:j,dir:"auto","data-testid":x,children:u}):l&&(t=(0,c.jsx)(r.Y,{href:l,"data-testid":x,onClick:v,semanticColor:m,standalone:!0,dir:"auto",children:u})),(0,c.jsx)(d.r,{title:u,children:(0,c.jsx)(a.E,{as:"p",variant:f,semanticColor:m,dir:"auto",children:t||u})},n)}},45473:(e,t,n)=>{n.r(t),n.d(t,{AdsNpv:()=>Ct,default:()=>Nt});n(7651),n(30456),n(26701),n(37417),n(11737),n(51691),n(702),n(5672),n(43379),n(34192),n(88856),n(51565),n(18316);var i=n(52542),r=n(97500),a=n.n(r),o=n(93493),s=n(72713),d=n(38744),c=n(13534),u=n(92107),l=n(83990);const v={standardHeader:"OnnbOInFe49hYMQmhwUC",fixedHeader:"XZaBo7y3JfnBbjVV9TZo",verticalVideoHeader:"UP1rH6cQZiAZCdkPnDOg"};var f=n(86070),m=function(e){var t=e.item,n=e.variant,i=void 0===n?"bodyMediumBold":n,r=e.semanticColor,a=void 0===r?"textBase":r,o=e.experience,s=v["".concat(void 0===o?"standard":o,"Header")],d=t.isPodcastAd?u.Ru.get("ad-formats.npv.header.podcast-context"):u.Ru.get("ad-formats.npv.header.music-context");return(0,f.jsx)("div",{className:s,children:(0,f.jsx)(l.r,{children:(0,f.jsx)(c.E,{variant:i,semanticColor:a,children:d})},d)})},p=n(43980);const x="UhO5sUnZ2AoTQjzRdVvw";var j=function(e){var t=e.url;return(0,f.jsx)("div",{className:x,children:(0,f.jsx)(p._,{testid:"cover-art-image",loading:"lazy",src:t})})},b=function(e){var t=e.item,n=e.visualEnhancementUrl;return(0,f.jsx)(j,{item:t,url:n})},h=function(e){return(0,f.jsx)(f.Fragment,{})};const y="pvAyLo3KN8QP7KxQtiub",g="r4EqB8Z5_aywMW_8I84P";function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e){var t,n=e.item;return"video"===(null==n||null===(t=n.metadata)||void 0===t?void 0:t["ad.canvas.type"])?(0,f.jsx)(h,_({},e)):(0,f.jsx)(b,_({},e))},I=function(e){return(0,f.jsxs)("div",{className:y,children:[(0,f.jsx)("div",{className:g}),(0,f.jsx)(k,_({},e))]})},A=(n(83234),n(61424)),E=n(223),P=n(10877);const w="iDW7b6oChePRpgfDFY3U";var C=function(e){var t=e.item;return(0,f.jsxs)("div",{className:w,children:[(0,f.jsx)(P.T,{item:t}),(0,f.jsx)(E.t,{item:t})]})},N=n(21982),S=n(9984);const T="JiMklw0itqYJ1aE76Vi8";var D=function(e){var t=e.item;return(0,f.jsxs)("div",{className:T,children:[(0,f.jsx)(S.ContextAdTitle,{item:t,surface:"AD_NPV"}),(0,f.jsx)(N.ContextAdSubtitle,{item:t,surface:"AD_NPV"})]})},q=n(22399),R=n(3099),M=n(93646),U=n(85726);function F(){var e=(0,U.vh)();return{linkUbiEvent:function(t){var n=t.adId,i=t.ubiEventId,r=t.product,a=t.format,o=t.requestId;e.send((0,M.A)({ad_id:n,ad_request_id:o,ad_format:a,content_type:r,ubi_event_id:i}))}}}var V=n(30758),B=n(85673),z=n(67963),L=n(88677),Q=n(46496),Z=n(61548),H=n(59440),W=n(53607),Y=n(70566);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(e){var t=e.item,n=e.spec,i=e.contextTrack,r=(0,L.wA)(),a=(0,Y.s)(),o=F().linkUbiEvent,s="".concat((0,q.Mj)(i),"_").concat((0,q.q5)(i));return(0,f.jsx)(z.D,{role:"menuitem",testid:"about-this-ad-context-menu-item",leadingIcon:(0,f.jsx)(Q.p,{size:"small"}),"aria-label":u.Ru.get("ad-formats.dsa.aboutThisAd"),onClick:function(){var e;r((0,H.Oc)()),r((0,Z.b0)(t));var d=n.contextMenuFactory({identifier:null===(e=t.metadata)||void 0===e?void 0:e.lineitem_id,reason:s}).triggerDsaFactory().hitUiNavigate({destination:"/context_menu"}),c=a.logInteraction(d).interactionId;o({adId:t.adId,requestId:t.requestId,ubiEventId:c,format:(0,q.Mj)(i),product:(0,q.q5)(i)})},divider:"before",children:u.Ru.get("ad-formats.dsa.aboutThisAd")})},G=(0,V.memo)((function(e){return(0,f.jsx)(W.pZ,{value:"about-this-ad",children:(0,f.jsx)(K,X({},e))})})),$=(0,V.memo)((function(e){var t=e.item,n=e.spec,i=e.contextTrack,r=(0,Y.s)(),a=F().linkUbiEvent,o="".concat((0,q.Mj)(i),"_").concat((0,q.q5)(i));return(0,V.useEffect)((function(){var e,s;s=r.logImpression(n.contextMenuFactory({identifier:null===(e=t.metadata)||void 0===e?void 0:e.lineitem_id,reason:o}).impression()),a({adId:t.adId,requestId:t.requestId,format:(0,q.Mj)(i),product:(0,q.q5)(i),ubiEventId:s})}),[]),(0,f.jsx)(W.pZ,{value:"ad",children:(0,f.jsxs)(B.W,{children:[(0,f.jsx)(W.pZ,{value:"ad-title",children:(0,f.jsx)(z.D,{role:"menuitem",testid:"ad-title-context-menu-item",divider:"after",disabled:!0,children:t.metadata.advertiser})}),(0,f.jsx)(G,{item:t,spec:n,contextTrack:i})]})})})),ee=n(58114);const te="NYcvpWpgvQYZploOD6rI",ne="OpXrpghZvv_w9ygosJFP";var ie=function(e){var t=e.item,n=e.spec,i=(0,o.NC)(ee.SeK,{loadingValue:!1}),r=(0,R.mr)(),a=(0,Y.s)(),s=F().linkUbiEvent,d="".concat((0,q.Mj)(t),"_").concat((0,q.q5)(t));return(0,f.jsxs)("div",{className:te,children:[(0,f.jsx)(D,{item:t}),(0,f.jsxs)("div",{className:ne,children:[(0,f.jsx)(C,{item:t}),i&&(null==r?void 0:r.isDsaEligible)&&(0,f.jsx)("div",{"data-testid":"PanelHeader_AdContextMenuButton",children:(0,f.jsx)(A.U,{menu:(0,f.jsx)($,{item:r,contextTrack:t,spec:n}),onClick:function(){if(r){var e,i=n.infoContainerFactory().contextMenuButtonFactory({identifier:null===(e=r.metadata)||void 0===e?void 0:e.lineitem_id,reason:d}).hitUiNavigate({destination:"/context_menu"}),o=a.logInteraction(i).interactionId;s({adId:r.adId,requestId:r.requestId,format:(0,q.Mj)(t),product:(0,q.q5)(t),ubiEventId:o})}}})})]})]})},re=n(26076),ae=function(e){var t=e.item,n=e.context,i=e.index;return n?(0,f.jsx)(re.h,{context:n,item:t,index:i}):null};const oe="tD84X2SD0IicMx3osK8a";function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce=function(e){var t=e.item,n=e.spec,i=e.currentPanel,r=e.canvasVisualEnhancementUrl;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(I,{item:t,visualEnhancementUrl:r,currentPanel:i,spec:n}),(0,f.jsx)("div",{className:oe,children:(0,f.jsx)(ie,{item:t,currentPanel:i,spec:n})})]})},ue=function(e){var t=e.item,n=e.spec,i=e.context,r=e.index,a=e.currentPanel;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ae,{item:t,context:i,index:r}),(0,f.jsx)(ie,{item:t,currentPanel:a,spec:n})]})},le=function(e){var t,n,i=e.item,r=(0,o.NC)(ee.Qdk,{loadingValue:!1}),a=null==i||null===(t=i.metadata)||void 0===t?void 0:t["ad.canvas.type"],s="image"===a||"video"===a,d=null===(n=i.metadata)||void 0===n?void 0:n["ad.canvas.url"];return!!(r&&s&&"image"===a&&d)?(0,f.jsx)(ce,de(de({},e),{},{canvasVisualEnhancementUrl:d})):(0,f.jsx)(ue,de({},e))},ve=(n(79024),n(51234),n(97460),n(93577),n(96971)),fe=n(94842),me=n(26173),pe=n(2378),xe=n(19276),je=n(95873),be=n(70236),he=n(93051);const ye="mJucukPuB6OTWgaD4MZk",ge="i3o8ABclZov7rz8zzKYP";var Oe=(0,V.lazy)((function(){return n.e(2632).then(n.bind(n,42632))})),_e=function(e){var t=e.item,n=e.backgroundColor,i=e.className,r=(0,L.wA)(),o=(0,q.iz)(t),s=o.url,d=o.buttonMessage,c=o.tagline,l=d||u.Ru.get("ad-formats.learnMore");if(!s)return null;var v=a()(ye,i),m=(0,xe.H)(s);return(0,f.jsx)(he.N,{to:m,"data-testid":"ad-companion-card",className:v,onClick:function(){r((0,be.q5)(je.c.COMPANION_CARD,je.V.AD_NPV))},children:(0,f.jsx)(ve.v,{style:{backgroundColor:n},className:ge,onClickHint:u.Ru.get("ad-formats.learnMore"),variant:"tinted",horizontalGap:(0,fe.po)("looser"),id:t.uri,title:(0,f.jsx)(me.d,{variant:"mestoBold","data-testid":"ad-companion-card-tagline",children:c||l}),trailing:(0,f.jsx)(V.Suspense,{fallback:(0,f.jsx)(pe.V,{}),children:c?(0,f.jsx)(Oe,{text:l,clickUrl:m,onClick:function(){r((0,be.q5)(je.c.CTA_BUTTON,je.V.AD_NPV))}}):(0,f.jsx)(pe.V,{semanticColor:"textBase"})})})})},ke=(n(40065),n(4865),n(81120)),Ie=n(73823),Ae=n(2066);function Ee(){var e=(0,U.vh)();return{sendSurveyAdEvent:function(t){var n=t.questionId,i=t.optionId,r=t.event,a=t.eventReason,o=t.position,s=t.ad;return e.send((0,Ae.i)({ad_id:s.adId,request_id:s.requestId,lineitem_id:s.metadata.lineitem_id,question_id:n,option_id:i,option_position:o,event:r,event_reason:a,slot:s.slot,format:(0,Ie.gh)(s.format).toLowerCase(),product_name:s.metadata.product_name,in_focus:!0}))},sendSurveyAdEventNoAd:function(t){var n=t.event,i=t.eventReason;return e.send((0,Ae.i)({event:n,event_reason:i}))}}}const Pe="q4lvafA5zmguP8vx9_RC",we="OFHbm4NhS00wc4VreXVt";var Ce=function(e){var t=e.isPodcastAd,n=Ee().sendSurveyAdEventNoAd;(0,V.useEffect)((function(){n({event:"event_survey_on_connect",eventReason:"secondary_device"})}),[]),(0,V.useEffect)((function(){var e=document.getElementById("connected-box");if(e){var t=e.offsetWidth;e.style.height="".concat(t,"px")}}),[]);var i=t?u.Ru.get("ad-formats.survey-podcast-content"):u.Ru.get("ad-formats.survey-music-content");return(0,f.jsxs)("div",{className:we,id:"connected-box",children:[(0,f.jsx)(ke.b,{size:"xxlarge",spacing:"small",semanticColor:"textBase"}),(0,f.jsx)(c.E,{as:"h1",variant:"titleSmall",paddingBottom:"tighter-2",className:Pe,semanticColor:"textBase",children:u.Ru.get("ad-formats.survey-connected-note")}),(0,f.jsx)(c.E,{children:i})]})},Ne=n(12341),Se=(n(60287),n(44407)),Te=(n(25550),n(15342),n(6454)),De=n(89672),qe=n(96783),Re=n(11854);const Me="zr0dLusU4AgiRoEVZVx_",Ue="aDISd8UFo3WaHvR_MBbQ",Fe="FQKI6EvRALxogOFyociA";function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze=function(e){var t=e.data,n=e.selected,i=e.handleOptionClick,r=e.className,o=e.handleSubmitClick,s=e.ad,d=Ee().sendSurveyAdEvent,c=function(e,r){var a={id:e.id,"aria-label":"Select ".concat(e.primaryText)};return t.surveyQuestionType===Ie.xV.MULTI_SELECT?(0,f.jsx)(Te.c,Be(Be({},a),{},{checked:n.has(e.id),onChange:function(){i({optionId:e.id,isExclusive:e.isExclusive,questionType:t.surveyQuestionType,position:r}),d({optionId:e.id,questionId:t.id,event:n.has(e.id)?"event_option_deselected":"event_option_selected",position:r,ad:s})}})):(0,f.jsx)(De.M,Be(Be({},a),{},{checked:n.has(e.id),onChange:function(){i({optionId:e.id,isExclusive:e.isExclusive,questionType:t.surveyQuestionType,position:r}),d({optionId:e.id,questionId:t.id,event:"event_option_selected",position:r,ad:s})}}))};return(0,f.jsxs)(qe.g,{labelFor:t.id,withFieldset:!0,className:a()(Me,r),children:[(0,f.jsx)("div",{className:Ue,children:t.surveyQuestionOptions.map((function(e,r){return(0,f.jsx)(ve.v,{className:Fe,id:e.id,variant:"elevated",title:e.primaryText,leading:c(e,r),isSelected:n.has(e.id),onClick:function(){i({optionId:e.id,isExclusive:e.isExclusive,questionType:t.surveyQuestionType,position:r}),d({optionId:e.id,questionId:t.id,event:n.has(e.id)?"event_option_deselected":"event_option_selected",position:r,ad:s})}},e.id)}))}),(0,f.jsx)(Re.$,{disabled:0===n.size,size:"medium",fullWidth:!0,colorSet:"invertedLight",label:"Submit","data-testid":"survey-submit-button",onClick:o,children:u.Ru.get("ad-formats.survey-submit-button")})]})},Le=n(20478);const Qe="HgfSrPwFpIvBDXNMx0NO",Ze="FjDNaretUQGhB3YYHUaZ",He="MDmTCQhrCnUXjUhyWx_A";var We=function(e){var t=e.showThankYou,n=e.ad,r=e.questionId,o=Ee().sendSurveyAdEvent;return(0,V.useEffect)((function(){t&&o({questionId:r,event:"event_thank_you_displayed",ad:n})}),[r,t]),(0,f.jsxs)("div",{className:a()(Ze,(0,i.A)({},He,t)),children:[(0,f.jsx)(Le.T,{size:"xxlarge",spacing:"small"}),(0,f.jsx)(c.E,{as:"h1",variant:"titleSmall",paddingBottom:"tighter-2",className:Qe,children:u.Ru.get("ad-formats.survey-thankyou")})]})};n(71425);function Ye(){var e=(0,V.useState)(new Map),t=(0,Ne.A)(e,2),n=t[0],i=t[1],r=(0,V.useState)(!1),a=(0,Ne.A)(r,2),o=a[0],s=a[1];return{selected:n,handleOptionClick:function(e){var t=e.optionId,r=e.isExclusive,a=e.questionType,o=e.position,s=new Map(n);a===Ie.xV.MULTI_SELECT?s=function(e){var t,n=e.optionId,i=e.selected,r=e.isExclusive,a=e.position;i.has(n)?(t=new Map(i)).delete(n):t=function(e){var t=e.optionId,n=e.selected,i=e.isExclusive,r=e.position,a=new Map(n);i&&a.clear();return n.forEach((function(e,t){e.isExclusive&&a.delete(t)})),a.set(t,{isExclusive:i,position:r}),a}({optionId:n,isExclusive:r,selected:i,position:a});return t}({optionId:t,isExclusive:r,selected:n,position:o}):a===Ie.xV.SINGLE_SELECT&&(s=function(e){var t=e.optionId,n=e.selected,i=e.position,r=new Map(n);n.has(t)||(r=function(e){var t=e.optionId,n=e.selected,i=e.position,r=new Map(n);return r.clear(),r.set(t,{isExclusive:!0,position:i}),r}({optionId:t,selected:n,position:i}));return r}({optionId:t,selected:n,position:o})),i(s)},setSurveyIsSubmitted:s,submitted:o}}n(42486),n(26851),n(68216),n(9750),n(78397);var Je=n(9319),Xe=function(e){var t,n=e.ad,i=e.eventSender,r=e.logger,a=e.questionId,o=e.selected,s=[];o.forEach((function(e,t){var n=function(e){var t=e.id,n=e.selectedOption;return Je.$y.create({selectedSurveyQuestionOptionId:t,optionPositionIndex:n.position.toString()})}({id:t,selectedOption:e});s.push(n)}));var d=Je.Tl.create({surveyQuestionId:a,selectedSurveyOptions:s}),c=Je.BN.create({surveyQuestionAnswers:[d]}),u=Je.A7.create({survey:c});r.logAdEvent({event:"survey_submitted",payload:u}),r.logAdEvent({event:"ended"}),i.send((0,Ae.i)({ad_id:n.adId,event:"event_survey_submitted",format:(0,Ie.gh)(n.format).toLowerCase(),in_focus:!0,lineitem_id:null===(t=n.metadata)||void 0===t?void 0:t.lineitem_id,product_name:"brand_survey",question_id:a,request_id:n.requestId,response:JSON.stringify(u),slot:n.slot}))};const Ke="QcjxDZqAGwQOqerAjHdc",Ge="gLI565CsNmwvB4rsJILS",$e="xNk9rFVlHRml2zumyfQI",et="QHc0FSnon7EXcWfOmTMK",tt="OhSLyWndyFXrLhpvcqlF",nt="LxlB1wAmCzlh3W_iCPi3";var it=function(e){var t=e.question,n=e.ad,r=(0,R.yU)().logger,o=(0,U.vh)(),s=Ee().sendSurveyAdEvent,d=(0,R.dY)(),u=(0,V.useState)(!1),l=(0,Ne.A)(u,2),v=l[0],m=l[1];(0,V.useEffect)((function(){s({questionId:t.id,event:"event_creative_viewed",ad:n})}),[t.id]);var p=Ye(),x=p.selected,j=p.handleOptionClick,b=p.submitted,h=p.setSurveyIsSubmitted;return(0,V.useEffect)((function(){t.surveyQuestionType in Ie.xV||(r.logAdEvent({event:"errored",reason:"survey_malformed"}),d.skipToNext())})),(0,V.useEffect)((function(){var e=setTimeout((function(){m(!0)}),1e3);return function(){return clearTimeout(e)}}),[]),(0,V.useEffect)((function(){if(v){var e=document.getElementById("survey-set-height");e&&(e.style.height="")}else{var t=document.getElementById("survey-set-height");if(t){var n=t.offsetWidth;t.style.height="".concat(n,"px")}}}),[v]),(0,f.jsxs)(Se.a,{className:a()(Ke,(0,i.A)({},Ge,v)),id:"survey-set-height",padding:"looser",children:[(0,f.jsxs)("div",{className:a()(nt,(0,i.A)((0,i.A)({},Ge,v),tt,b)),children:[(0,f.jsx)(c.E,{as:"h1",variant:"titleSmall",paddingBottom:"tighter-2",children:t.primaryText}),(0,f.jsx)(c.E,{as:"p",semanticColor:"textSubdued",variant:"bodySmall",children:t.secondaryText})]}),(0,f.jsx)(ze,{className:a()($e,(0,i.A)((0,i.A)((0,i.A)({},Ge,v),et,v),tt,b)),ad:n,selected:x,handleOptionClick:j,handleSubmitClick:function(){h(!0),Xe({eventSender:o,ad:n,selected:x,logger:r,questionId:t.id}),setTimeout((function(){d.skipToNext()}),2e3)},data:t}),(0,f.jsx)(We,{showThankYou:b,ad:n,questionId:t.id})]})},rt=function(e){var t=e.survey,n=e.ad;return t?(0,f.jsx)(it,{question:null==t?void 0:t.surveyQuestions[0],ad:n}):null},at=(0,V.memo)((function(e){var t=e.displayText,n=e.url,i=e.ad,r=e.questionId,a=Ee().sendSurveyAdEvent;return(0,V.useEffect)((function(){a({questionId:r,event:"event_context_menu",ad:i})}),[r]),(0,f.jsx)(B.W,{children:(0,f.jsx)(z.D,{role:"menuitem",leadingIcon:(0,f.jsx)(Q.p,{size:"small"}),"aria-label":"".concat(t,", link"),to:n,children:t})})})),ot=n(45842);const st="iFWtvDR8p3PNwLx46nWu",dt="wj4kWjE4PuHVGqEf0ohK";var ct=function(e){var t,n=e.item,i=(0,R.mr)(),r=(0,V.useMemo)((function(){var e;return null==i||null===(e=i.companions.find((function(e){return e.survey})))||void 0===e?void 0:e.survey}),[i]),a=null==r?void 0:r.surveyTransparencyContent,o=null===(t=(0,ot.l)().devices.find((function(e){return"local_device"===e.id})))||void 0===t?void 0:t.isActive;return(0,f.jsxs)("div",{className:dt,children:[i&&o?(0,f.jsx)(rt,{survey:r,ad:i}):(0,f.jsx)(Ce,{isPodcastAd:null==n?void 0:n.isPodcastAd}),(0,f.jsxs)("div",{className:st,children:[(0,f.jsx)(D,{item:n}),a&&i&&(0,f.jsx)(A.U,{"aria-label":"More options, button",menu:(0,f.jsx)(at,{questionId:null==r?void 0:r.surveyQuestions[0].id,ad:i,displayText:a.transparencyLabel,url:a.transparencyUrl})})]})]})},ut=function(e){var t=(0,L.d4)((function(e){var t;return null===(t=e.ads)||void 0===t?void 0:t.vto}));return"audio"===(null==e?void 0:e.mediaType)||!(null!=t&&t.isMinimized)},lt=n(15244);const vt="M7UVXKPsARIM71fmtSUG",ft="HKhLNVB5OsH5osqax9lk",mt="i_7T75rV7Rj7AyykwrCf",pt="na5oNvZD9KtuYIUiIUZg",xt="_7QFCuyjgT6BwUe1JJVL",jt="g1fyNwi0G98CTbv9v4We";var bt=function(e){var t=e.item,n=e.context,r=e.index,o=e.currentPanel,s=e.spec,d=ut(t),c="portrait"===t.videoOrientation,u=c&&!d?vt:"",l=a()(xt,(0,i.A)({},jt,c)),v=a()((0,i.A)({},pt,c));return(0,f.jsxs)("div",{className:l,children:[d?(0,f.jsx)(ae,{item:t,context:n,index:r}):(0,f.jsxs)("div",{className:mt,children:[c&&(0,f.jsx)("div",{className:ft}),(0,f.jsx)("div",{className:v,children:(0,f.jsx)(lt.F,{})})]}),(0,f.jsx)("div",{className:u,children:(0,f.jsx)(ie,{item:t,currentPanel:o,spec:s})})]})},ht=n(23100),yt=n(55137),gt=n(79180),Ot=n(12574);const _t="nONhpa6k5EMxHTR1RXhM",kt="SDP4__0ksgTwERvZfjE8",It="cp7_8T7Q27pZ5zYXUFOW",At="IVGg8Hz4Py4BaPEyJz0T",Et="tUurYuAJ2ZftcyLRFJ9z";function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct=function(e){var t,n,r=e.item,c=e.context,u=e.index,l=e.currentPanel,v=(0,q.iz)(r).logoImage,p=ut(r),x=null==r||null===(t=r.metadata)||void 0===t?void 0:t["ad.canvas.type"],j="image"===x||"video"===x,b="portrait"===r.videoOrientation&&!p,h=(0,Ot.r)(s.m,{}),y=h.spec,g=h.UBIFragment,O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ht.CpN,i=(0,V.useState)(n),r=(0,Ne.A)(i,2),a=r[0],o=r[1],s=(0,yt.z)(e,n,"colorDark");return(0,V.useEffect)((function(){setTimeout((function(){o(s)}),t)}),[t,s]),a}((0,d.Df)(r)?v:(null==r||null===(n=r.images[0])||void 0===n?void 0:n.url)||v,600),_=(0,o.NC)(ee.gLA,{loadingValue:!1}),k=b?"verticalVideo":j?"fixed":"standard",I=function(e){var t=(0,U.vh)(),n=(0,R.mr)(),i=null==n?void 0:n.requestId,r=(0,o.NC)(ee.o4S,{loadingValue:!1});return(0,V.useEffect)((function(){if(i&&(0,d.o0)(e)&&!r){var a=null==n?void 0:n.metadata,o=n.slot,s=n.format;t.send((0,gt.A)({event:"event_errored",event_reason:"survey-ad-feature-disabled",ad_id:e.id,request_id:i,creative_id:null==a?void 0:a.creative_id,lineitem_id:null==a?void 0:a.lineitem_id,slot:o,format:(0,Ie.gh)(s).toLowerCase(),product_name:null==a?void 0:a.product_name}))}}),[]),(0,d.o0)(e)&&r?"survey":(0,d.Df)(e)?"video":"audio"}(r),A="survey"===I;return(0,f.jsx)("div",{className:a()(_t,(0,i.A)({},kt,A)),children:(0,f.jsx)(g,{spec:y,children:(0,f.jsxs)("div",{className:It,children:[(0,f.jsxs)("div",{className:a()(At,(0,i.A)({},kt,A)),children:[(0,f.jsx)(m,{item:r,experience:k}),function(){switch(I){case"video":return(0,f.jsx)(bt,{item:r,spec:y,index:u,currentPanel:l,context:c});case"survey":return(0,f.jsx)(ct,{item:r});default:return(0,f.jsx)(le,{item:r,context:c,index:u,currentPanel:l,spec:y})}}()]}),"survey"!==I?(0,f.jsx)(_e,wt({item:r,className:Et},_&&{backgroundColor:O})):null]})})})};const Nt=Ct},223:(e,t,n)=>{n.d(t,{t:()=>h});var i=n(88677),r=n(92156),a=n(15446),o=n(92107),s=n(20814),d=n(45613),c=n(49507),u=n(86222),l=n(80021),v=n(12341),f=(n(86746),n(79024),n(25550),n(71425),n(43379),n(97460),n(15342),n(93577),n(30758)),m=n(85673),p=n(67963),x=n(53607),j=n(86070),b=(0,f.memo)((function(e){var t=e.onFeedbackReasonSelect,n=new Map([["not_relevant",o.Ru.get("ad-formats.ad-feedback.dislike.not-relevant")],["too_often",o.Ru.get("ad-formats.ad-feedback.dislike.too-often")],["unpleasant",o.Ru.get("ad-formats.ad-feedback.dislike.unpleasant-content")],["offensive",o.Ru.get("ad-formats.ad-feedback.dislike.offensive-content")],["do_not_like",o.Ru.get("ad-formats.ad-feedback.dislike.do-not-like")]]);return(0,j.jsx)(x.pZ,{value:"dislike-ad",children:(0,j.jsx)(m.W,{children:Array.from(n).map((function(e){var n=(0,v.A)(e,2),i=n[0],r=n[1];return(0,j.jsx)(x.pZ,{value:r,children:(0,j.jsx)(p.D,{role:"menuitem","aria-label":r,onClick:function(){return t(i,r)},children:r})},i)}))})})})),h=function(e){var t=e.item,n=(0,i.wA)(),v=(0,d.L)(t).logAdFeedback,f=(0,i.d4)((function(e){return(0,u.N2)(e,t.id)}));return(0,j.jsx)(l.b,{menu:(0,j.jsx)(b,{onFeedbackReasonSelect:function(e,i){t.id&&(n((0,c.NI)({adId:t.id,reason:i})),v("dislike_".concat(e)))}}),children:(0,j.jsx)(s.n,{item:t,icon:r.P,activeIcon:a.X,label:o.Ru.get("ad-formats.ad-feedback.dislike"),isActive:f,"data-testid":"button-dislike-ad",onClick:function(){if(t.id){if(f)return n((0,c.vA)({adId:t.id})),void v("cancel_dislike");n((0,c.NI)({adId:t.id})),v("dislike_menu")}}})})}},10877:(e,t,n)=>{n.d(t,{T:()=>h});var i=n(88677),r=n(74587),a=n(8861),o=n(92107),s=n(20814),d=n(45613),c=n(49507),u=n(86222),l=n(80021),v=n(12341),f=(n(86746),n(79024),n(25550),n(71425),n(43379),n(97460),n(15342),n(93577),n(30758)),m=n(85673),p=n(67963),x=n(53607),j=n(86070),b=(0,f.memo)((function(e){var t=e.onFeedbackReasonSelect,n=new Map([["relevant",o.Ru.get("ad-formats.ad-feedback.like.relevant")],["interested_in_brand",o.Ru.get("ad-formats.ad-feedback.like.interested-in-brand")],["interested_in_product",o.Ru.get("ad-formats.ad-feedback.like.interested-in-product")],["enjoyable",o.Ru.get("ad-formats.ad-feedback.like.enjoyable-content")],["discovered_new",o.Ru.get("ad-formats.ad-feedback.like.discovered-new")]]);return(0,j.jsx)(x.pZ,{value:"like-ad",children:(0,j.jsx)(m.W,{children:Array.from(n).map((function(e){var n=(0,v.A)(e,2),i=n[0],r=n[1];return(0,j.jsx)(x.pZ,{value:r,children:(0,j.jsx)(p.D,{role:"menuitem","aria-label":r,onClick:function(){return t(i,r)},children:r})},i)}))})})})),h=function(e){var t=e.item,n=(0,i.wA)(),v=(0,d.L)(t).logAdFeedback,f=(0,i.d4)((function(e){return(0,u.Tt)(e,t.id)}));return(0,j.jsx)(l.b,{menu:(0,j.jsx)(b,{onFeedbackReasonSelect:function(e,i){t.id&&(n((0,c.F$)({adId:t.id,reason:i})),v("like_".concat(e)))}}),children:(0,j.jsx)(s.n,{item:t,icon:r.G,activeIcon:a.q,label:o.Ru.get("ad-formats.ad-feedback.like"),isActive:f,"data-testid":"button-like-ad",onClick:function(){if(t.id){if(f)return n((0,c.D$)({adId:t.id})),void v("cancel_like");n((0,c.F$)({adId:t.id})),v("like_menu")}}})})}},21982:(e,t,n)=>{n.r(t),n.d(t,{ContextAdSubtitle:()=>c,default:()=>u});var i=n(88677),r=n(17144),a=n(22399),o=n(95873),s=n(70236),d=n(86070),c=function(e){var t=e.item,n=e.variant,c=void 0===n?"bodyMedium":n,u=e.semanticColor,l=void 0===u?"textSubdued":u,v=e.surface,f=(0,a.iz)(t),m=f.subtitle,p=f.url,x=(0,i.wA)();return(0,d.jsx)(r.I,{testid:"context-item-info-ad-subtitle",title:m,variant:c,semanticColor:l,uri:t.uri,clickUrl:p,onClick:function(){x((0,s.q5)(o.c.ADVERTISER_SUBTITLE,o.V[v]))}})};const u=c},9984:(e,t,n)=>{n.r(t),n.d(t,{ContextAdTitle:()=>c,default:()=>u});var i=n(88677),r=n(17144),a=n(22399),o=n(95873),s=n(70236),d=n(86070),c=function(e){var t=e.item,n=e.surface,c=e.variant,u=void 0===c?"titleSmall":c,l=e.semanticColor,v=void 0===l?"textBase":l,f=(0,i.wA)(),m=(0,a.iz)(t),p=m.title,x=m.url;return p?(0,d.jsx)(r.I,{title:p,variant:u,semanticColor:v,uri:t.uri,clickUrl:x,onClick:function(){f((0,s.q5)(o.c.ADVERTISER_TITLE,o.V[n]))}}):null};const u=c},45613:(e,t,n)=>{n.d(t,{L:()=>o});var i=n(4953),r=n(3099),a=n(85726),o=function(e){var t=(0,r.dY)(),n=(0,a.vh)(),o=t.getInStreamAd();return{logAdFeedback:function(t){var r,a;n.send((0,i.F)({ad_id:e.id,advertiser:e.advertiser,creative_id:(null==o?void 0:o.adId)===e.id?null==o||null===(r=o.metadata)||void 0===r?void 0:r.creative_id:void 0,format:e.mediaType,line_item_id:(null==o?void 0:o.adId)===e.id?null==o||null===(a=o.metadata)||void 0===a?void 0:a.lineitem_id:void 0,event:t}))}}}},86222:(e,t,n)=>{n.d(t,{N2:()=>o,Tt:()=>a});var i=n(42551),r=function(e){return e.ads.adFeedback},a=(0,i.Mz)([function(e){return r(e)},function(e,t){return t}],(function(e,t){return!(!t||e.adId!==t)&&e.liked})),o=(0,i.Mz)([function(e){return r(e)},function(e,t){return t}],(function(e,t){return!(!t||e.adId!==t)&&e.disliked}));(0,i.Mz)([function(e){return r(e)},function(e,t){return t}],(function(e,t){return t&&e.adId===t?e.feedback:null}))}}]);
//# sourceMappingURL=5473.js.map