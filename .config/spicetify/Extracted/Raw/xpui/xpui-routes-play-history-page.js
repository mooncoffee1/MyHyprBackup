"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1460],{15054:(e,i,t)=>{t.d(i,{g:()=>j});t(47994);var n=t(30758),r=t(97500),a=t.n(r),l=t(13534),s=t(80366),c=t(83643),u=t(59739),o=t(64877),d=t(17011),m=t(93051),x=t(8016),f=t(70566),h=t(13584),v=t(86070),j=function(e){var i=e.children,t=e.uri,r=e.name,j=e.nonInteractive,p=void 0!==j&&j,y=e.creatorUri,g=e.spec,b=null,k=(0,x.P)({itemUris:[t],dragLabelText:r}),A=k.draggable,E=k.onDragStart,O=(0,f.s)(),C=(0,n.useCallback)((function(){g&&O.logInteraction(g.albumLinkFactory({uri:t}).hitUiNavigate({destination:t}))}),[O,g,t]);return p?(0,v.jsx)("span",{className:a()("standalone-ellipsis-one-line",h.A.text),children:i}):((0,s._T)(t)&&(b=(0,v.jsx)(u.h,{uri:t,artistUri:y})),(0,s.WB)(t)&&(b=(0,v.jsx)(o.H,{uri:t})),(0,v.jsx)(c.h,{menu:b,children:(0,v.jsx)(l.E,{variant:"bodySmall",children:(0,v.jsx)(d.Zp,{label:r,showDelay:d.uF,children:(0,v.jsx)(m.N,{draggable:A,onDragStart:E,className:a()("standalone-ellipsis-one-line"),to:t,dir:"auto",onClick:C,children:i})})})}))}},60664:(e,i,t)=>{t.d(i,{H:()=>c});var n=t(62866),r=t(13534),a=t(92107),l=t(85997),s=t(86070),c=function(){return(0,s.jsxs)("div",{className:l.A.emptyContainer,children:[(0,s.jsx)(n.q,{size:"xxlarge","aria-hidden":"true"}),(0,s.jsxs)("div",{className:l.A.titleContainer,children:[(0,s.jsx)(r.E,{as:"h1",variant:"titleMedium",semanticColor:"textBase",children:a.Ru.get("history.empty-title")}),(0,s.jsx)("p",{children:a.Ru.get("history.empty-description")})]})]})}},1839:(e,i,t)=>{t.d(i,{U:()=>_});var n=t(92107),r=t(52542),a=t(12341),l=(t(30456),t(40065),t(26701),t(86746),t(78551),t(25550),t(38408),t(70750),t(43379),t(82467),t(97460),t(34192),t(88856),t(4865),t(51565),t(15342),t(80456),t(18316),t(30758)),s=t(97500),c=t.n(s),u=t(44286),o=t(13534),d=t(61616),m=t(53731),x=t(76840),f=t(91101),h=t(85673),v=t(67963);const j="main-topBar-contentArea",p="queue-tabBar-headerIsCentered",y="queue-tabBar-headerItem",g="queue-tabBar-moreButton",b="queue-tabBar-moreButtonActive",k="yxf_6IsQEmHjijEBUMTP",A="queue-tabBar-active",E="queue-tabBar-headerItemLink",O="queue-tabBar-header",C="queue-tabBar-chevron";var P=t(86070),R=function(e){var i=e.items,t=e.activeItemId;return(0,P.jsx)(h.W,{children:i.map((function(e){return e.disabled?(0,P.jsx)(v.D,{disabled:!0,role:"menuitemradio",className:k,onClick:e.handleClick,children:e.title},e.uri):(0,P.jsx)(v.D,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===t,className:function(e){var i=e.isActive;return c()(k,(0,r.A)({},A,i))},onClick:e.handleClick,children:e.title},e.uri)}))})},w=t(15057),I=t(496),N=t(96324);var U=(0,l.memo)((function(e){var i,t=e.isCentered,s=e.links,h=e.landmarkLabel,v=e.className,k=(0,l.useRef)(null),U=(0,l.useState)([]),S=(0,a.A)(U,2),T=S[0],D=S[1],B=(0,l.useState)(0),_=(0,a.A)(B,2),L=_[0],q=_[1],M=(0,l.useState)([]),F=(0,a.A)(M,2),G=F[0],H=F[1],K=null!==(i=function(){var e=(0,l.useState)(window.innerWidth),i=(0,a.A)(e,2),t=i[0],n=i[1],r=(0,l.useContext)(I.bi).scrollNodeChildRef,s=(0,w.YQ)((function(e){null!=e&&e.width&&n(e.width)}),250);return(0,N.w)({refOrElement:r,observeOnly:"width",onResize:s}),t}())&&void 0!==i?i:1/0,Q=(0,u.zy)().pathname,W=s.find((function(e){return e.to===Q}));return(0,l.useEffect)((function(){k.current&&q(k.current.clientWidth)}),[K]),(0,l.useEffect)((function(){if(k.current){var e=Array.from(k.current.children).map((function(e){return e.clientWidth}));D(e)}}),[s]),(0,l.useEffect)((function(){if(k.current)if(T.slice(0,-1).reduce((function(e,i){return e+i}),0)<=L)H([]);else{var e=T.reduce((function(e,i){return e>i?e:i}),0),i=[],t=e;T.forEach((function(e,n){L>=t+e?t+=e:i.push(n)})),H(i)}}),[L,T]),(0,P.jsx)("nav",{className:c()(v,j),"aria-label":h,children:(0,P.jsxs)("ul",{className:t?p:O,ref:k,children:[s.filter((function(e,i){return!G.includes(i)})).map((function(e){var i,t=null!==(i=null==e?void 0:e.render)&&void 0!==i?i:function(e){return e};return(0,P.jsx)(l.Fragment,{children:t((0,P.jsx)("li",{className:y,children:e.disabled?(0,P.jsx)("div",{className:E,children:(0,P.jsx)(o.E,{variant:"bodySmallBold",children:e.title})}):(0,P.jsx)(f.k,{end:!0,className:function(e){var i=e.isActive;return c()(E,(0,r.A)({},A,i))},to:e.to,onClick:e.handleClick,children:(0,P.jsx)(o.E,{variant:"bodySmallBold",children:e.title})})}))},e.to)})),G.length||0===T.length?(0,P.jsx)("li",{className:y,children:(0,P.jsx)(x.t,{renderInline:!0,menu:(0,P.jsx)(R,{items:s.filter((function(e,i){return G.includes(i)})),activeItemId:null==W?void 0:W.itemId}),children:function(e,i,t){return(0,P.jsxs)("button",{className:c()(g,(0,r.A)({},b,W)),type:"button",onClick:i,ref:t,children:[(0,P.jsx)(o.E,{variant:"bodySmallBold",children:W?W.title:n.Ru.get("more")}),e?(0,P.jsx)(d.J,{size:"small",className:C,"aria-hidden":"true"}):(0,P.jsx)(m.y,{size:"small",className:C,"aria-hidden":"true"})]})}})}):null]})})})),S=t(95610);const T="XfifUos51Clgs5a6nf2m";var D=function(){var e=[{title:n.Ru.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue"},{title:n.Ru.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}];return(0,P.jsx)(S.g,{children:(0,P.jsx)(U,{className:T,links:e})})},B=t(16236),_=function(e){var i=e.children,t=(0,B.y)();return(0,P.jsxs)("section",{className:"contentSpacing",children:[i,t&&(0,P.jsx)(D,{})]})}},70130:(e,i,t)=>{t.r(i),t.d(i,{default:()=>ce});var n=t(45497),r=t(13534),a=t(92107),l=t(60664),s=(t(47994),t(30758)),c=t(81594),u=t(87198),o=t(93195),d=t(52542),m=(t(7651),t(30456),t(26701),t(34518),t(25550),t(37417),t(11737),t(51691),t(702),t(5672),t(43379),t(34192),t(88856),t(51565),t(15342),t(18316),t(80366)),x=t(83643),f=t(65679),h=t(53163),v=t(38407),j=t(51725),p=t(15054),y=t(8972),g=t(76422),b=t(26682),k=t(74566),A=t(79044),E=t(52382),O=t(45994),C=t(86786),P=t(15150),R=t(74542),w=t(31772),I=t(40321),N=t(71646),U=t(41289),S=t(10631),T=t(64348),D=t(4560),B=t(46198),_=t(53607),L=t(48133),q=t(79431),M=t(16920),F=t(97724),G=t(13584),H=t(86070);function K(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function Q(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?K(Object(t),!0).forEach((function(i){(0,d.A)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):K(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}var W=s.memo((function(e){var i,t,n,r,l=e.uri,s=e.name,c=e.duration_ms,u=e.index,o=e.imgUrl,d=e.artists,K=e.album,W=e.isExplicit,z=e.isMOGEFRestricted,J=e.contextItem,X=e.type,Z=(0,q.P)({uri:l,pages:[{items:[Q({},J)]}]},{featureIdentifier:"history"}),V=Z.isActive,Y=Z.isPlaying,$=Z.triggerPlay,ee=Z.togglePlay,ie=X===M.c.TRACK,te=X===M.c.EPISODE,ne=X===M.c.CHAPTER,re=(0,L.T)(l),ae=(0,S.g)(l,{isPlayable:!0,isLocal:(0,m.Pk)(l),isOutOfMarket:!1,artistUris:null==d?void 0:d.map((function(e){return e.uri}))}),le=ae.isPlayable,se=ae.isAnyArtistBanned,ce=(0,U.M)(d.map((function(e){return e.uri}))).unBanArtists,ue=(0,F.b)({downloadAvailability:re,isExplicit:W,isMOGEFRestricted:z}),oe=ue.badges,de=ue.hasBadges,me=(null==d?void 0:d.map((function(e){return e.name})).join(a.Ru.getSeparator()))||"";return te?r=(0,H.jsx)(h.b,{uri:l,contextUri:l,showUri:K.uri}):ne?r=(0,H.jsx)(f.r,{uri:l}):ie&&(0,m.Pk)(l)?r=(0,H.jsx)(v.A,{uri:l,contextUri:l}):ie&&(r=(0,H.jsx)(j.P,{uri:l,contextUri:l,albumUri:K.uri,artists:d})),(0,H.jsx)(_.pZ,{value:"row",index:u,children:(0,H.jsx)(x.h,{menu:r,children:(0,H.jsxs)(I.w,{uri:l,contextUri:l,index:u,ariaRowIndex:u,onTriggerPlay:function(){$()},isActive:V,isPlayable:le,isAnyArtistBanned:se,handleArtistBanUndoClick:ce,ageRestricted:z,dragMetadata:{name:s,createdBy:me},children:[(0,H.jsxs)(C.U,{ariaColIndex:0,children:[(0,H.jsx)(k.u,{uri:l,src:o,isPlaying:Y,isActive:V,isLocked:!1,onClick:function(){ee()},isEpisode:(0,m.gH)(l),playAriaLabel:a.Ru.get("tracklist.a11y.play",s,me)}),(0,H.jsxs)(A.l,{children:[(0,H.jsx)(w.p,{titleText:s,children:s}),de&&(0,H.jsxs)(g.P,{children:[oe.download&&(0,H.jsx)(D._,{}),oe.explicit&&(0,H.jsx)(T.U,{}),oe.nineteen&&(0,H.jsx)(B.q,{className:G.A.nineteen,size:16})]}),(0,H.jsx)(R.p,{children:(0,m.U_)(l)?(0,H.jsx)(y.l,{artists:d}):null!==(i=null===(t=d[0])||void 0===t?void 0:t.name)&&void 0!==i?i:""})]})]}),(0,H.jsx)(P.o,{ariaColIndex:2,children:(0,H.jsx)(p.g,{nonInteractive:(0,m.Pk)(l),uri:K.uri,name:K.name,creatorUri:null==d||null===(n=d[0])||void 0===n?void 0:n.uri,children:K.name})}),(0,H.jsxs)(O.l,{ariaColIndex:1,children:[!ne&&(0,H.jsx)(N.d,{uri:l,type:X}),(0,H.jsx)(b.P,{duration:c}),(0,H.jsx)(E.Y,{menu:r,label:a.Ru.get("more.label.track",s,me)})]})]})})})}),(function(e,i){return e.uri===i.uri})),z=t(70129),J=t(77970),X=t(51126),Z=t(39850),V=t(93892),Y=t(64044),$=t(82704),ee=t(18809),ie=s.memo((function(e){var i=e.items,t=(0,s.useCallback)((function(e,i){var t,n,r,a=(0,ee.g)(null!==(t=e.images)&&void 0!==t?t:[],{desiredSize:40});return(0,V.v)(e)?(0,H.jsx)(W,{index:i,uri:e.isLocal?e.uri:(0,z.a)(e),name:e.name,duration_ms:e.duration.milliseconds,imgUrl:(null==a?void 0:a.url)||"",album:e.album,artists:e.artists,isExplicit:null!==(n=e.isExplicit)&&void 0!==n&&n,isMOGEFRestricted:null!==(r=e.is19PlusOnly)&&void 0!==r&&r,contextItem:e,type:M.c.TRACK},i+e.uri):(0,Z.p)(e)?(0,H.jsx)(W,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:(null==a?void 0:a.url)||"",album:e.show,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:M.c.EPISODE},i+e.uri):(0,X.d)(e)?(0,H.jsx)(W,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:(null==a?void 0:a.url)||"",album:e.book,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:M.c.CHAPTER},i+e.uri):((0,J.N)(e)||(0,Y.v)(e)||(0,$.k)(e),(0,H.jsx)(c.qq,{height:"".concat(u.FL,"px")}))}),[]),n=(0,s.useMemo)((function(){return[o.$.TITLE_AND_ARTIST,o.$.ALBUM_OR_PODCAST,o.$.DURATION]}),[]),r=(0,s.useCallback)((function(e){return{uri:e.uri}}),[]);return(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(_.pZ,{value:"play-history-tracklist",children:(0,H.jsx)(u.S4,{ariaLabel:"play-history",hasHeaderRow:!0,columns:n,renderRow:t,resolveItem:r,tracks:i,nrTracks:i.length,rowPlaceholder:c.qq,limit:50,columnPersistenceKey:"play-history-tracklist"})})})})),te=t(59903);const ne="j0idwRGPXbi0ampiGHUF",re="V6Kms48prL8QhkQxTJ2d";var ae=function(){var e=(0,te.a)(),i=e.isLoading,t=e.data;return i?null:null!=t&&t.items.length?(0,H.jsxs)("div",{className:ne,children:[(0,H.jsx)(r.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:re,children:a.Ru.get("view.recently-played")}),(0,H.jsx)(ie,{items:t.items})]}):(0,H.jsx)(l.H,{})},le=t(1839),se=t(16236);const ce=function(){return(0,se.y)()?(0,H.jsx)(le.U,{children:(0,H.jsx)(ae,{})}):(0,H.jsx)(n.$,{to:"/"})}},59903:(e,i,t)=>{t.d(i,{a:()=>u});var n=t(11656),r=t(28925),a=t(79412),l=t(88578),s=t(30758);var c=["play-history-contents"];function u(){var e=(0,l.q)(),i=(0,n.jE)();return function(e,i){var t=(0,l.q)();(0,s.useEffect)((function(){return t.getEvents().addListener(e,i)}),[e,i,t])}(a.X.UPDATE,(function(e){return i.setQueryData(c,e.data)})),(0,r.I)({queryKey:c,queryFn:function(){return e.getContents()},gcTime:3e5,staleTime:0})}},70129:(e,i,t)=>{t.d(i,{a:()=>n});var n=function(e){var i;return(null==e||null===(i=e.linked_from)||void 0===i?void 0:i.uri)||e.uri}},85997:(e,i,t)=>{t.d(i,{A:()=>n});const n={emptyContainer:"BP2Fv3OX_ZYbjdA4lovg",titleContainer:"Olk6uKV_CIIVtWRrdRJc"}}}]);
//# sourceMappingURL=xpui-routes-play-history-page.js.map